name: MFA Login
method: POST
url: "{{baseUrl}}/api/v1/auth/login/mfa"
headers:
  Content-Type: application/json
body:
  type: json
  content: |
    {
      "email": "john.doe@example.com",
      "password": "SecurePassword123!",
      "mfaCode": "123456"
    }
tests:
  - name: Status code is 200
    script: |
      expect(response.status).toBe(200);
  - name: Response contains access token
    script: |
      expect(response.body.accessToken).toBeDefined();
  - name: Response contains refresh token
    script: |
      expect(response.body.refreshToken).toBeDefined();
  - name: Response contains user data
    script: |
      expect(response.body.user).toBeDefined();
      expect(response.body.user.mfaEnabled).toBe(true);
