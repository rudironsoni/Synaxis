Test run for /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/bin/Debug/net10.0/Synaxis.InferenceGateway.IntegrationTests.dll (.NETCoreApp,Version=v10.0)
VSTest version 18.0.1 (x64)

Test run for /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/bin/Debug/net10.0/Synaxis.InferenceGateway.Infrastructure.Tests.dll (.NETCoreApp,Version=v10.0)
VSTest version 18.0.1 (x64)

Starting test execution, please wait...
Test run for /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Application.Tests/bin/Debug/net10.0/Synaxis.InferenceGateway.Application.Tests.dll (.NETCoreApp,Version=v10.0)
A total of 1 test files matched the specified pattern.
/home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/bin/Debug/net10.0/Synaxis.InferenceGateway.IntegrationTests.dll
Starting test execution, please wait...
Test run for /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway.UnitTests/bin/Debug/net10.0/Synaxis.InferenceGateway.UnitTests.dll (.NETCoreApp,Version=v10.0)
VSTest version 18.0.1 (x64)

A total of 1 test files matched the specified pattern.
/home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/bin/Debug/net10.0/Synaxis.InferenceGateway.Infrastructure.Tests.dll
VSTest version 18.0.1 (x64)

Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
/home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Application.Tests/bin/Debug/net10.0/Synaxis.InferenceGateway.Application.Tests.dll
Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
/home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway.UnitTests/bin/Debug/net10.0/Synaxis.InferenceGateway.UnitTests.dll
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 10.0.2)
[xUnit.net 00:00:00.27]   Discovering: Synaxis.InferenceGateway.IntegrationTests
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 10.0.2)
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 10.0.2)
[xUnit.net 00:00:00.83]   Discovered:  Synaxis.InferenceGateway.IntegrationTests
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 10.0.2)
[xUnit.net 00:00:00.33]   Discovering: Synaxis.InferenceGateway.Infrastructure.Tests
[xUnit.net 00:00:00.43]   Discovering: Synaxis.InferenceGateway.Application.Tests
[xUnit.net 00:00:00.99]   Starting:    Synaxis.InferenceGateway.IntegrationTests
[xUnit.net 00:00:00.18]   Discovering: Synaxis.InferenceGateway.UnitTests
[xUnit.net 00:00:00.24]   Discovered:  Synaxis.InferenceGateway.UnitTests
[xUnit.net 00:00:00.39]   Starting:    Synaxis.InferenceGateway.UnitTests
[xUnit.net 00:00:00.76]   Discovered:  Synaxis.InferenceGateway.Application.Tests
[xUnit.net 00:00:00.85]   Discovered:  Synaxis.InferenceGateway.Infrastructure.Tests
[xUnit.net 00:00:01.00]   Starting:    Synaxis.InferenceGateway.Application.Tests
[xUnit.net 00:00:01.16]   Starting:    Synaxis.InferenceGateway.Infrastructure.Tests
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.Constructor_WithValidParameters_SetsPropertiesCorrectly [3 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WithZeroMaxRetries_DoesNotRetry [11 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WithLargeBackoffMultiplier_VerifiesExponentialGrowth [88 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WhenShouldRetryIsConditional_RetriesOnlyForMatchingExceptions [20 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WithNullResult_ReturnsNull [< 1 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_ReturnsGenericValue_Correctly [1 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WhenShouldRetryReturnsFalse_DoesNotRetry [< 1 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WithSmallInitialDelay_VerifiesMinimumDelay [< 1 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WhenActionFailsAndShouldRetry_RetriesUpToMaxRetries [83 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_SuccessOnFirstAttempt_NoRetries [49 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.JwtValidationTests.ValidateToken_WithWrongSigningKey_ThrowsSecurityTokenSignatureKeyNotFoundException [263 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.JwtValidationTests.ValidateToken_WithMalformedToken_ThrowsArgumentException [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.JwtValidationTests.ValidateToken_WithExpiredToken_ThrowsSecurityTokenExpiredException [29 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmartRouterTests.GetCandidatesAsync_ShouldPassThroughCapabilities [469 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.JwtValidationTests.ValidateToken_WithInvalidIssuer_ThrowsSecurityTokenInvalidIssuerException [34 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.JwtValidationTests.ValidateToken_WithValidToken_Succeeds [31 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.JwtValidationTests.ValidateToken_WithInvalidAudience_ThrowsSecurityTokenInvalidAudienceException [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldGenerateDifferentTokens_ForSameUser [20 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldIncludeCorrectClaims [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.Constructor_ShouldThrowArgumentNullException_ForNullOptions [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldThrowException_ForEmptySecret [11 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmartRouterTests.GetCandidatesAsync_ShouldFilterQuotaExceededProviders [185 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldGenerateDifferentTokens_ForDifferentUsers [20 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldUseHmacSha256Signature [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldHaveCorrectExpiration [16 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldUseConfiguredIssuerAndAudience [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldHandleAllUserRoles [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldCreateValidJwtToken [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldThrowException_ForWhitespaceSecret [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmartRouterTests.GetCandidatesAsync_ShouldHandleNullCostsGracefully [62 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.JwtServiceTests.GenerateToken_ShouldUseDefaultIssuerAndAudienceWhenNull [6 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Agents.RoutingAgentTests.RunCoreAsync_DelegatesToChatClient_WithCorrectModel [727 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmartRouterTests.GetCandidatesAsync_ShouldReturnEmptyList_WhenNoProvidersFound [59 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.RequestIdMiddlewareTests.InvokeAsync_WithBothHeaders_UsesLastSetValue [156 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmartRouterTests.GetCandidatesAsync_ShouldSortByPriority_FreeFirst_ThenCost_ThenTier [122 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.RequestIdMiddlewareTests.InvokeAsync_WithLowercaseXRequestIdHeader_SetsResponseHeader [27 ms]
[DEBUG] Registry returned 0 candidates for 'model-name-with-slash'
[DEBUG] Fallback: Registry lookup with 'provider/model-name-with-slash' returned 1 candidates
[DEBUG] Registry returned 1 candidates for 'llama-3.3-70b-versatile'
[DEBUG] Registry returned 2 candidates for 'llama-3.3-70b-versatile'
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.RequestIdMiddlewareTests.InvokeAsync_WithoutRequestIdHeader_UsesTraceIdentifier [12 ms]
[DEBUG] Registry returned 1 candidates for 'llama-3.3-70b-versatile'
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.RequestIdMiddlewareTests.InvokeAsync_WithXRequestIdHeader_SetsResponseHeader [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.RequestIdMiddlewareTests.InvokeAsync_CallsNextMiddleware [19 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Constructor_ShouldThrowArgumentNullException_ForNullRegistry [21 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Resolve_ShouldFilterByRequiredCapabilities [21 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Resolve_ShouldHandleFallbackToRawModelId_WhenCanonicalLookupFails [44 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Constructor_ShouldThrowArgumentNullException_ForNullStore [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Resolve_ShouldHandleModelAliases [6 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Constructor_ShouldInitializeSuccessfully_WithValidDependencies [< 1 ms]
[DEBUG] Registry returned 2 candidates for 'llama-3.3-70b-versatile'
[DEBUG] Registry returned 1 candidates for 'llama-3.3-70b-versatile'
[DEBUG] Registry returned 0 candidates for 'non-existent-model'
[DEBUG] Fallback: Registry lookup with 'non-existent-model' returned 0 candidates
[DEBUG] Registry returned 1 candidates for 'model1'
[xUnit.net 00:00:01.68]   Finished:    Synaxis.InferenceGateway.UnitTests
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.SmartRouterTests.GetCandidatesAsync_NoProvidersFound_ThrowsArgumentException [501 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.SmartRouterTests.GetCandidatesAsync_FreeProviderSortedFirst [137 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.SmartRouterTests.GetCandidatesAsync_AllProvidersUnhealthy_ReturnsEmptyList [26 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.SmartRouterTests.GetCandidatesAsync_AllProvidersQuotaExceeded_ReturnsEmptyList [7 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.SmartRouterTests.GetCandidatesAsync_StreamingCapabilityPassedToResolver [23 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.SmartRouterTests.GetCandidatesAsync_ReturnsFilteredAndSortedCandidates [24 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.SmartRouterTests.GetCandidatesAsync_TierBreaksTiesWhenCostEqual [9 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.TruncateOldest_KeepsMostRecent [38 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.Compress_SystemPrompts_Preserved [76 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.Compress_ExceedsThreshold_SmartCompression [36 ms]
[08:08:08 INF] Starting web host
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.Compress_ExceedsThreshold_TruncateOldest [23 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.SmartCompression_MiddleSection_Summarized [31 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.Compress_ShortConversation_NoCompression [22 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.Compress_WithCancellationToken_RespectsCancellation [26 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.Compress_RecentMessages_Preserved [98 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.EstimateTokens_EmptyString_ReturnsZero [26 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.EstimateTokens_LongText_ScalesLinearly [47 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.Compress_EmptyInput_HandlesGracefully [40 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Translation.TranslationPipelineTests.TranslateRequest_UsesFirstMatchingTranslator [11 ms]
[DEBUG] Registry returned 1 candidates for '@cf/meta/llama-2-7b-chat-int8'
[DEBUG] Registry returned 0 candidates for '   '
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WithFractionalBackoffMultiplier_VerifiesCalculation [529 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WithComplexObject_ReturnsCorrectly [4 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WithDifferentExceptionTypes_RetriesCorrectly [43 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WithBackoffMultiplier_VerifiesRetryBehavior [160 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WhenActionSucceedsOnFirstAttempt_ReturnsResultImmediately [1 ms]
  Passed Synaxis.InferenceGateway.UnitTests.Retry.RetryPolicyTests.ExecuteAsync_WhenMaxRetriesExceeded_ThrowsLastException [54 ms]
[DEBUG] Fallback: Registry lookup with '   ' returned 0 candidates
[DEBUG] Registry returned 0 candidates for 'unknown-alias'
[DEBUG] Fallback: Registry lookup with 'unknown-alias' returned 0 candidates
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 0 candidates for 'unknown-model'
[DEBUG] Fallback: Registry lookup with 'unknown-model' returned 0 candidates

  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.ConversationCompressorTests.EstimateTokens_AccurateApproximation [4 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Translation.TranslationPipelineTests.TranslateResponse_UsesFirstMatchingTranslator [5 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Translation.TranslationPipelineTests.TranslateUpdate_UsesFirstMatchingTranslator [46 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalResolution_WithAtPrefix_HandlesCorrectly [95 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.Resolve_WithWhitespaceModelId_ReturnsEmpty [17 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalModelId_Parse_WithAtPrefix_ReturnsUnknownProvider [3 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.AliasResolution_WithUnknownAlias_TreatsAsModelId [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalResolution_WithValidCanonicalId_ResolvesCorrectly [6 ms]
Test Run Successful.
Total tests: 15
     Passed: 15
 Total time: 3.4595 Seconds
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 1 candidates for 'gpt-4'
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Resolve_ShouldReturnValidResult_ForDirectModelMatch [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.ResolveAsync_ShouldHandleTenantAliases [23 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Constructor_ShouldThrowArgumentNullException_ForNullOptions [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.ResolveAsync_ShouldUseDatabaseGlobalModel_WhenAvailable [11 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Resolve_ShouldFilterProvidersByCanonicalProvider_WhenSpecified [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.ResolveAsync_ShouldFallbackToConfig_WhenNoDatabaseModel [18 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.Resolve_ShouldReturnEmptyCandidates_WhenNoProvidersMatch [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelResolverTests.ResolveAsync_ShouldHandleModelCombos [31 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_ExponentialBackoff_DelayMultipliesCorrectly [2 s]
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 0 candidates for 'gpt-4'
[DEBUG] Registry returned 0 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 0 candidates for 'deepseek-chat'
[DEBUG] Registry returned 0 candidates for ''
[DEBUG] Fallback: Registry lookup with '' returned 0 candidates
[DEBUG] Registry returned 0 candidates for 'gpt-4'
[DEBUG] Registry returned 1 candidates for 'llama-3.1-70b-versatile'
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.ProviderRouting_WithUnknownModelId_ReturnsEmptyCandidates [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalResolution_WithCapabilityFilter_RespectsTools [2 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.AliasResolution_WithTenantAlias_UsesTenantSpecificAlias [65 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalResolution_WithCapabilityFilter_RespectsVision [8 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.TierFailover_WithTier0Unhealthy_FailsOverToTier1 [31 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.AliasResolution_WithModelCombo_UsesComboOrder [162 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalResolution_WithCapabilityFilter_RespectsStreaming [2 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalResolution_WithMultipleCapabilities_RespectsAll [6 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.AliasResolution_WithAllCandidatesUnavailable_ReturnsEmpty [8 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.EncryptedFileTokenStoreTests.SaveAsync_CallsProtectAndWritesFile [579 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Auth.FileTokenStoreTests.LoadAsync_ReturnsEmptyList_OnException [770 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.EncryptedFileTokenStoreTests.LoadAsync_CallsUnprotectAndReturnsAccounts [182 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Auth.FileTokenStoreTests.SaveAsync_CreatesDirectory_IfNotExists [182 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.External.GitHub.CopilotSdkClientTests.GetResponseAsync_DelegatesToAdapter [71 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.External.GitHub.CopilotSdkClientTests.Dispose_DoesNotDisposeInjectedAdapter [11 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.External.GitHub.CopilotSdkClientTests.GetStreamingResponseAsync_StreamsFromAdapter [147 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Auth.FileTokenStoreTests.LoadAsync_LoadsAndDeserializesAccounts [226 ms]
[DEBUG] Registry returned 0 candidates for 'combo-model'
[DEBUG] Fallback: Registry lookup with 'combo-model' returned 0 candidates
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 0 candidates for 'llama-2-7b-chat-int8'
[DEBUG] Fallback: Registry lookup with 'meta/llama-2-7b-chat-int8' returned 1 candidates
[DEBUG] Registry returned 2 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 1 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for '*'
[DEBUG] Registry returned 2 candidates for 'gpt-4'
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 1 candidates for 'gpt-4'
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.AliasResolution_WithEmptyAlias_ReturnsEmpty [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.AliasResolution_WithMultipleCandidates_TriesInOrder [12 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.ResolveAsync_WithNullModelId_ThrowsArgumentNullException [6 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.TierFailover_WithTier0QuotaExceeded_FailsOverToTier1 [13 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.GetCandidatesAsync_WithNullModelId_ThrowsArgumentException [9 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.TierFailover_WithMultipleProvidersInSameTier_SortsByCost [20 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.AliasResolution_WithInvalidComboJson_FallsBackToConfig [3 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.AliasResolution_WithValidAlias_ResolvesToFirstCandidate [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalResolution_WithModelContainingSlash_ParsesCorrectly [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.Resolve_WithNullModelId_ThrowsArgumentNullException [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.ProviderRouting_WithMultipleProviders_ReturnsAllMatchingProviders [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.AliasResolution_WithNestedAlias_ResolvesToCanonical [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.TierFailover_WithAllTiersUnavailable_ReturnsEmptyList [4 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.TierFailover_WithTier0Healthy_UsesTier0 [6 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.ProviderRouting_WithWildcardModel_ReturnsAllProviders [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.ProviderRouting_WithDisabledProvider_ExcludesProvider [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalResolution_WithProviderSlashModel_ParsesCorrectly [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalModelId_Parse_WithValidInput_ReturnsCorrectId [5 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalResolution_WithUnmetCapabilities_SkipsModel [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalModelId_ToString_ReturnsCorrectFormat [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.ProviderRouting_WithValidModelId_ReturnsCorrectProvider [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingLogicTests.CanonicalModelId_Parse_WithSinglePart_ReturnsUnknownProvider [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetCandidates_WithDisabledProvider_ExcludesDisabledProvider [19 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetCandidates_WithWildcardModel_ReturnsAllProviders [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetProvider_WithNullKey_ThrowsArgumentNullException [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetCandidates_WithEmptyModelId_ReturnsWildcardMatches [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetProvider_WithValidKey_ReturnsProvider [< 1 ms]
Test run for /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/bin/Debug/net10.0/Synaxis.Infrastructure.Tests.dll (.NETCoreApp,Version=v10.0)
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetCandidates_WithCaseInsensitiveMatching_ReturnsMatches [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetCandidates_WithNoMatchingModels_ReturnsWildcardProvider [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetCandidates_WithMultipleMatchingModels_ReturnsAllMatches [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetCandidates_WithValidModel_ReturnsMatchingProviders [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetProvider_WithEmptyKey_ReturnsNull [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetCandidates_WithNullModelId_ThrowsArgumentNullException [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.Constructor_WithNullConfig_ThrowsArgumentNullException [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetProvider_WithInvalidKey_ReturnsNull [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetProvider_WithDisabledProvider_ReturnsNull [< 1 ms]
[testcontainers.org 00:00:00.55] Connected to Docker:
  Host: unix:///var/run/docker.sock
  Server Version: 29.2.1
  Kernel Version: 6.17.4-2-pve
  API Version: 1.53
  Operating System: Debian GNU/Linux 13 (trixie)
  Total Memory: 56.00 GB
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.GetProvider_SetsKeyProperty [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ProviderRegistryTests.Constructor_InitializesEmptyRegistry [6 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeSessionId_AllNull_GeneratesRandom [82 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeSessionId_NoHeader_UsesIpAndUa [13 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeFingerprint_DifferentInput_ReturnsDifferentHash [5 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeSessionId_SanitizesSpecialCharacters [2 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeSessionId_HeaderProvided_UsesHeader [4 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeFingerprint_LargeMessages_HandlesEfficiently [17 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeSessionId_NoHeaderNoIp_UsesContent [6 ms]
VSTest version 18.0.1 (x64)

[DEBUG] Registry returned 0 candidates for ''
[DEBUG] Fallback: Registry lookup with '' returned 0 candidates
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 0 candidates for 'gpt-4'
[DEBUG] Registry returned 0 candidates for 'llama-3.1-70b-versatile'
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeFingerprint_SameInput_ReturnsSameHash [12 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeFingerprint_DifferentOptions_ReturnsDifferentHash [9 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.RequestFingerprinterTests.ComputeFingerprint_NormalizedOrder_ProducesSameHash [3 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.UsageTrackingTests.GetStreamingResponseAsync_DelegatesToInner [38 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.UsageTrackingTests.CompleteAsync_LogsUsage [37 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_WithEmptyModelId_ReturnsNull [4 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_WithMultipleCandidates_ReturnsFirstAvailable [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_WithNullModelId_ThrowsArgumentException [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_AllCandidatesUnavailable_ReturnsNull [3 ms]
[DEBUG] Registry returned 1 candidates for 'gpt-4'
Starting test execution, please wait...
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 0 candidates for 'invalid-model'
[DEBUG] Fallback: Registry lookup with 'invalid-model' returned 0 candidates
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 2 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveAsync_WithGlobalModel_ReturnsFromDatabase [11 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveAsync_WithDisabledProvider_SkipsProvider [4 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveAsync_WithModelCombo_UsesCombo [9 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_WithValidModel_ReturnsProvider [3 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.Constructor_WithNullConfig_ThrowsArgumentNullException [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_WithUnmetCapabilityRequirements_SkipsModel [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_WithInvalidModel_ReturnsNull [4 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveAsync_WithTenantAlias_UsesAlias [9 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_WithProviderFilter_RespectsFilter [3 ms]
A total of 1 test files matched the specified pattern.
/home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/bin/Debug/net10.0/Synaxis.Infrastructure.Tests.dll
[DEBUG] Registry returned 0 candidates for 'combo-model'
[DEBUG] Fallback: Registry lookup with 'combo-model' returned 0 candidates
[DEBUG] Registry returned 1 candidates for 'gpt-4'
[DEBUG] Registry returned 1 candidates for 'gpt-4'
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.Constructor_WithNullRegistry_ThrowsArgumentNullException [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.Constructor_WithNullStore_ThrowsArgumentNullException [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveAsync_WithInvalidComboJson_FallsBackToConfig [10 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_WithAlias_ResolvesToCanonical [2 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.ModelResolverTests.ResolveModel_WithCapabilityRequirements_RespectsRequirements [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigValidatorTests.Validate_UserLowThreshold_Fails [5 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigValidatorTests.Validate_UserRestrictedProperties_Fails [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigValidatorTests.Validate_SimilarityThresholdOutOfRange_Fails [3 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigValidatorTests.Validate_AllValid_Passes [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigValidatorTests.Validate_SimilarityThresholdInRange_Passes [2 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigValidatorTests.Validate_TenantAllowedProperties_Passes [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigValidatorTests.Validate_CacheTtlInRange_Passes [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigValidatorTests.Validate_InvalidCompressionStrategy_Fails [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithToolCalls_ReturnsResponseWithToolCalls [43 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleStreamingAsync_WithValidRequest_ReturnsStreamingUpdates [37 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithValidRequest_ReturnsAgentResponse [5 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithRoutingContextProperties_SetsCorrectValues [10 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithNullRequest_ThrowsNullReferenceException [5 ms]
[xUnit.net 00:00:03.50]     Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GitHubAuthStrategyTests.InitiateFlowAsync_GeneratesDeviceCodeAndStartsPolling [FAIL]
[xUnit.net 00:00:03.51]       Assert.NotNull() Failure: Value is null
[xUnit.net 00:00:03.52]       Stack Trace:
[xUnit.net 00:00:03.52]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Identity/Strategies/GitHub/GitHubAuthStrategyTests.cs(71,0): at Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GitHubAuthStrategyTests.InitiateFlowAsync_GeneratesDeviceCodeAndStartsPolling()
[xUnit.net 00:00:03.53]         --- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GitHubAuthStrategyTests.DeviceFlowCallback_EmitsAccountAuthenticatedAndWritesGhConfig [1 s]
  Failed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GitHubAuthStrategyTests.InitiateFlowAsync_GeneratesDeviceCodeAndStartsPolling [703 ms]
  Error Message:
   Assert.NotNull() Failure: Value is null
  Stack Trace:
     at Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GitHubAuthStrategyTests.InitiateFlowAsync_GeneratesDeviceCodeAndStartsPolling() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Identity/Strategies/GitHub/GitHubAuthStrategyTests.cs:line 71
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Auth.FileTokenStoreTests.SaveAsync_And_LoadAsync_HandleEmptyList [812 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GitHubAuthStrategyTests.InitiateFlowAsync_InvalidResponse_ReturnsError [103 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Auth.FileTokenStoreTests.SaveAsync_WritesSerializedAccountsToFile [97 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Auth.FileTokenStoreTests.LoadAsync_ReturnsEmptyList_WhenFileDoesNotExist [7 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GitHubAuthStrategyTests.RefreshTokenAsync_NetworkFailure_Throws [31 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithPartialAdditionalProperties_DoesNotSetRoutingContext [2 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithEmptyResponseMessage_ReturnsEmptyContent [36 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleStreamingAsync_WithCancellationToken_PassesTokenToChatClient [18 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleStreamingAsync_WithEmptyMessages_ReturnsEmptyStream [19 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_PassesCorrectModelIdToChatOptions [24 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleStreamingAsync_TranslatesEachUpdate [21 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleStreamingAsync_WithNullHttpContext_DoesNotThrow [11 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithoutAdditionalProperties_DoesNotSetRoutingContext [11 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleStreamingAsync_PassesCorrectModelIdToChatOptions [20 ms]
[testcontainers.org 00:00:01.36] Docker container 4547d147d393 created
[08:08:10 INF] Security configuration validation passed successfully
[08:08:10 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:08:10 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:10 WRN] Using in-memory database for ControlPlane
[testcontainers.org 00:00:01.59] Start Docker container 4547d147d393
[testcontainers.org 00:00:01.72] Wait for Docker container 4547d147d393 to complete readiness checks
[testcontainers.org 00:00:01.72] Docker container 4547d147d393 ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_BackoffMultiplier1_DelayRemainsConstant [510 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_RetryCondition_RetriesOnNetworkError [585 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_JitterApplication_DelayVariesWithinRange [570 ms]
     Warning:
     The component "Fluent Assertions" is governed by the rules defined in the Xceed License Agreement and
     the Xceed Fluent Assertions Community License. You may use Fluent Assertions free of charge for
     non-commercial use only. An active subscription is required to use Fluent Assertions for commercial use.
     Please contact Xceed Sales mailto:sales@xceed.com to acquire a subscription at a very low cost.
     A paid commercial license supports the development and continued increasing support of
     Fluent Assertions users under both commercial and community licenses. Help us
     keep Fluent Assertions at the forefront of unit testing.
     For more information, visit https://xceed.com/products/unit-testing/fluent-assertions/
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GitHubAuthStrategyTests.RefreshTokenAsync_RefreshesTokens [31 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WhenApiKeyServiceThrows_ShouldReturn500 [242 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithBearerTokenWithExtraSpaces_ShouldTrim [23 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithValidJwt_ShouldAuthenticateSuccessfully [34 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithApiKeyPrefix_ShouldExtractCorrectly [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithEmptyAuthorizationHeader_ShouldCallNext [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithJwtAlternativeClaimNames_ShouldAuthenticate [8 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithBearerSchemeCaseInsensitive_ShouldParse [5 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithJwtMissingOrganizationId_ShouldReturn401 [4 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithRevokedApiKey_ShouldReturn401 [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithUnauthenticatedJwt_ShouldReturn401 [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.Constructor_WithNullNext_ShouldThrowArgumentNullException [14 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WhenValidationReturnsNullApiKeyId_ShouldReturn500 [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithInvalidApiKey_ShouldReturn401 [9 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WhenValidationReturnsNullOrganizationId_ShouldReturn500 [5 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithJwtMissingUserId_ShouldReturn401 [3 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.Constructor_WithNullLogger_ShouldThrowArgumentNullException [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithValidApiKey_ShouldAuthenticateSuccessfully [17 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithEmptyMessages_ReturnsResponse [14 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleStreamingAsync_WithNullRequest_ThrowsNullReferenceException [6 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithCancellationToken_PassesTokenToChatClient [12 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithNullModel_UsesDefaultInRoutingContext [10 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithResponseAdditionalProperties_SetsRoutingContext [11 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.HandleAsync_WithNullHttpContext_DoesNotThrow [5 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Routing.RoutingServiceTests.Constructor_WithValidDependencies_CreatesInstance [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithNonBearerScheme_ShouldReturn401 [7 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithNoAuthorizationHeader_ShouldCallNext [3 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithJwtInvalidOrganizationId_ShouldReturn401 [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.TenantResolutionMiddlewareTests.InvokeAsync_WithJwtWithoutScopes_ShouldSetEmptyScopes [4 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CohereChatClientTests.GetResponseAsync_ValidResponse_ReturnsCompletion [66 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneExtensionsTests.AddControlPlane_RegistersDbContext_WithInMemoryDatabase_WhenUseInMemoryTrue [3 s]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneExtensionsTests.AddControlPlane_RegistersIDeviationRegistry_AsScoped [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneExtensionsTests.AddControlPlane_UsesInMemory_WhenConnectionStringIsEmpty [16 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.HealthMonitoringAgentTests.Execute_CompletesWithoutError [1 s]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.CostOptimizationAgentTests.Execute_LogsUltraMiserMode [4 s]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.CostOptimizationAgentTests.ShouldSwitch_UltraMiserLogic_ReturnsCorrectDecision(currentInput: 1, currentOutput: 1, altInput: 0.85, altOutput: 0.85, shouldSwitch: False) [26 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.CostOptimizationAgentTests.ShouldSwitch_UltraMiserLogic_ReturnsCorrectDecision(currentInput: 1, currentOutput: 1, altInput: 0, altOutput: 0, shouldSwitch: True) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.CostOptimizationAgentTests.ShouldSwitch_UltraMiserLogic_ReturnsCorrectDecision(currentInput: 1, currentOutput: 1, altInput: 0.5, altOutput: 0.5, shouldSwitch: True) [5 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.CostOptimizationAgentTests.ShouldSwitch_UltraMiserLogic_ReturnsCorrectDecision(currentInput: 0, currentOutput: 0, altInput: 1, altOutput: 1, shouldSwitch: False) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.HealthMonitoringAgentTests.Execute_LogsStartAndCompletion [226 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.CostOptimizationAgentTests.Execute_CompletesWithoutError [46 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.OAuthAccount_Expiration_CanBeNull [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.SecurityAuditAgentTests.JwtSecretValidation_DetectsWeakSecrets(secret: "MyDefaultSecretKey123456789012", shouldFlagAsWeak: True) [14 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.SecurityAuditAgentTests.JwtSecretValidation_DetectsWeakSecrets(secret: "StrongSecretKey12345678901234567", shouldFlagAsWeak: False) [12 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.SecurityAuditAgentTests.JwtSecretValidation_DetectsWeakSecrets(secret: "StrongSecretKey123456789012345", shouldFlagAsWeak: True) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.SecurityAuditAgentTests.JwtSecretValidation_DetectsWeakSecrets(secret: "this-is-a-very-long-and-secure-secret-key-12345", shouldFlagAsWeak: False) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.SecurityAuditAgentTests.JwtSecretValidation_DetectsWeakSecrets(secret: "short", shouldFlagAsWeak: True) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.OAuthAccount_Properties_CanBeSetAndRetrieved [43 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ProviderAccount_Properties_CanBeSetAndRetrieved [24 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.GlobalModel_ProviderMapping_NavigationPropertyWorks [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ModelCombo_Properties_CanBeSetAndRetrieved [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.GlobalModel_Capabilities_CanBeCombined [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ProviderModel_Availability_CanBeToggled [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ApiKey_Creation_SetsDefaultValues [30 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.OAuthAccount_TokenHandling_RefreshTokenIsOptional [9 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.SecurityAuditAgentTests.Execute_LogsSecurityAuditStart [137 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Agents.SecurityAuditAgentTests.Execute_CompletesWithoutError [12 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.TokenUsage_Properties_CanBeSetAndRetrieved [31 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.Project_Properties_CanBeSetAndRetrieved [15 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.GlobalModel_Properties_CanBeSetAndRetrieved [15 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.RequestLog_Properties_CanBeSetAndRetrieved [14 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.QuotaSnapshot_Properties_CanBeSetAndRetrieved [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ModelAlias_Properties_CanBeSetAndRetrieved [2 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ModelCost_Properties_CanBeSetAndRetrieved [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ApiKey_Properties_CanBeSetAndRetrieved [2 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ApiKey_Validation_ProjectNavigationIsOptional [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ProviderModel_Properties_CanBeSetAndRetrieved [13 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.ModelCost_CostCalculation_CanBeUsedForBilling [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.DeviationEntry_Properties_CanBeSetAndRetrieved [8 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.Tenant_Isolation_EachTenantHasUniqueId [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.TenantModelLimit_Properties_CanBeSetAndRetrieved [4 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ControlPlane.EntityTests.Tenant_Properties_CanBeSetAndRetrieved [26 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Constructor_WithNullHealthStore_ThrowsArgumentNullException [169 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Constructor_WithNullActivitySource_ThrowsArgumentNullException [26 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_TaskCanceledException_Retries [116 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_ZeroMaxRetries_NoRetries [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_MaxRetryLimit_StopsAfterMaxAttempts [729 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_NonRetryableException_DoesNotRetry [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_RetryCondition_RetriesOn429 [108 ms]
[08:08:12 ERR] An error occurred while migrating the database.
System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.Infrastructure.Extensions.InfrastructureExtensions.InitializeDatabaseAsync(IHost host) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Extensions/InfrastructureExtensions.cs:line 481
[08:08:12 WRN] Database initialization failed, continuing without migrations. Some features may be unavailable.
System.InvalidOperationException: Database migration failed. See inner exception for details.
 ---> System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.Infrastructure.Extensions.InfrastructureExtensions.InitializeDatabaseAsync(IHost host) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Extensions/InfrastructureExtensions.cs:line 481
   --- End of inner exception stack trace ---
   at Synaxis.InferenceGateway.Infrastructure.Extensions.InfrastructureExtensions.InitializeDatabaseAsync(IHost host) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Extensions/InfrastructureExtensions.cs:line 487
   at Program.<Main>$(String[] args) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Program.cs:line 402
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_UpdatesConversationHistory [121 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_CacheMiss_CallsInnerClient [67 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetStreamingResponseAsync_UpdatesHistory [82 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_UpdatesSessionAffinity [15 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_CacheHit_ReturnsCached [141 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetStreamingResponseAsync_AddsMetadataToUpdates [465 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Constructor_WithNullStrategies_ThrowsArgumentNullException [55 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_WithCancellation_ThrowsOperationCanceled [171 ms]
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[testcontainers.org 00:00:03.94] Docker container 474a0f988f9d created
[testcontainers.org 00:00:03.94] Start Docker container 474a0f988f9d
[testcontainers.org 00:00:03.96] Docker container 9465892ddcab created
[testcontainers.org 00:00:04.01] Start Docker container 9465892ddcab
[testcontainers.org 00:00:04.15] Wait for Docker container 474a0f988f9d to complete readiness checks
[testcontainers.org 00:00:04.26] Wait for Docker container 9465892ddcab to complete readiness checks
[testcontainers.org 00:00:04.28] Execute "redis-cli ping" at Docker container 9465892ddcab
[SoftDeleteInterceptor] Total tracked entities: 1
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[testcontainers.org 00:00:04.51] Docker container 9465892ddcab ready
[testcontainers.org 00:00:04.59] Docker container 474a0f988f9d ready
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 1
[SoftDeleteInterceptor]   Organization: State=Modified
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_Provider_In_Platform_Schema [4 s]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_TieredFailover_FallsBackToTier2 [232 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Metadata_ReturnsCorrectValue [24 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Constructor_WithNullQuotaTracker_ThrowsArgumentNullException [50 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetStreamingResponseAsync_SkipsCaching [749 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_Disabled_PassesThrough [103 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_Deduplication_WaitsForInFlight [40 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetStreamingResponseAsync_AppliesSessionAffinity [65 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_Compression_Applied [6 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_SessionAffinity_SetsPreferredProvider [26 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_Error_NotCached [83 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_With401StatusCode_Applies1HourCooldown [456 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_ConcurrentRequests_ThreadSafe [29 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.TokenOptimizingChatClientTests.GetResponseAsync_Cancellation_RespectsToken [12 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_MetricsRecordingThrows_LogsWarning [36 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_With404StatusCode_DoesNotMarkFailure [104 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_RecordsMetricsWithZeroTokens_DoesNotRecordUsage [28 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_RetryCondition_RetriesOn503 [298 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_RetryCondition_RetriesOn502 [107 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_RetryableException_RetriesUntilSuccess [119 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_ZeroInitialDelay_RetriesImmediately [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Security.RetryPolicyTests.ExecuteAsync_RetryCondition_DoesNotRetryOnNonRetryableError [22 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:05.32] Delete Docker container 474a0f988f9d
[testcontainers.org 00:00:05.69] Docker container c1e027da9520 created
[testcontainers.org 00:00:05.71] Start Docker container c1e027da9520
[08:08:14 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 10.0.2)
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Constructor_WithNullRouter_ThrowsArgumentNullException [4 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_SingleProvider_Success [30 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetStreamingResponseAsync_AllProvidersFail_ThrowsAggregateException [26 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.ConfigurationResolverTests.GetRateLimitsAsync_WithUserMembershipLimits_ReturnsUserLimits [5 s]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_WithInnerExceptionHavingStatusCode_ExtractsStatusCode [204 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetStreamingResponseAsync_UpdateWithoutAdditionalProperties_CreatesNewDictionary [284 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Constructor_WithNullFallbackOrchestrator_ThrowsArgumentNullException [28 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetStreamingResponseAsync_WithNullOptions_UsesDefaultModelId [111 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:06.00] Wait for Docker container c1e027da9520 to complete readiness checks
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:06.07] Docker container c1e027da9520 ready
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[SoftDeleteInterceptor] Total tracked entities: 2
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor]   Group: State=Added
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 2
[SoftDeleteInterceptor]   Group: State=Modified
[SoftDeleteInterceptor]   Organization: State=Unchanged
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[xUnit.net 00:00:00.75]   Discovering: Synaxis.Infrastructure.Tests
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:06.22] Delete Docker container 9465892ddcab
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChanges_WithDeletedEntity_ShouldConvertToSoftDelete [4 s]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.SynaxisUserStoreTests.FindByEmailInOrganizationAsync_WithValidData_ReturnsUser [3 s]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.SynaxisUserStoreTests.FindByIdAsync_WithDeletedUser_ReturnsNull [141 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.SynaxisUserStoreTests.FindByEmailInOrganizationAsync_WithDeletedUser_ReturnsNull [78 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_User_And_Organization_Membership [1 s]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:06.29] Delete Docker container c1e027da9520
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 1
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 1
[SoftDeleteInterceptor]   Organization: State=Modified
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[xUnit.net 00:00:08.77]     Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithDeletedOrganization_ShouldSetRevokedByForApiKeys [SKIP]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[xUnit.net 00:00:08.78]       EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[xUnit.net 00:00:08.80]     Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithDeletedOrganization_ShouldCascadeRevokeApiKeys [SKIP]
[xUnit.net 00:00:08.80]       EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[xUnit.net 00:00:08.81]     Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithMultipleOrganizationsDeleted_ShouldHandleCascadeCorrectly [SKIP]
[xUnit.net 00:00:08.81]       EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:15 INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:15 INF] Quartz Scheduler created
[08:08:15 INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
[08:08:15 INF] RAMJobStore initialized.
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_Group_Hierarchy [281 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.SynaxisUserStoreTests.GetOrganizationsAsync_ReturnsUserOrganizations [349 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithDeletedGroup_ShouldConvertToSoftDelete [605 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.Constructor_WithoutHttpContextAccessor_ShouldNotThrow [1 ms]
  Skipped Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithDeletedOrganization_ShouldSetRevokedByForApiKeys [1 ms]
  Error Message:
   EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.

  Skipped Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithDeletedOrganization_ShouldCascadeRevokeApiKeys [1 ms]
  Error Message:
   EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.

  Skipped Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithMultipleOrganizationsDeleted_ShouldHandleCascadeCorrectly [1 ms]
  Error Message:
   EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.

[08:08:15 INF] Quartz Scheduler 3.15.1.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
[08:08:15 INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
[08:08:15 INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 2
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor]   Group: State=Added
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 2
[SoftDeleteInterceptor]   Group: State=Modified
[SoftDeleteInterceptor]   Organization: State=Unchanged
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:15 INF] Adding 7 jobs, 7 triggers.
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:15 INF] Adding job: DEFAULT.ModelsDevSyncJob
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.ConfigurationResolverTests.GetEffectiveCostPer1MTokensAsync_WithOrganizationModel_ReturnsModelCost [666 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.ConfigurationResolverTests.ShouldAutoOptimizeAsync_WithNoSettings_ReturnsDefaultTrue [10 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_With500StatusCode_Applies30SecondCooldown [159 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_NoStrategiesAvailable_ThrowsInvalidOperationException [77 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.ConfigurationResolverTests.GetRateLimitsAsync_WithoutUserLimits_ReturnsGroupLimits [469 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.ConfigurationResolverTests.ShouldAutoOptimizeAsync_WithUserMembership_ReturnsUserSetting [59 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.StoreAsync_ValidResponse_StoresSuccessfully [66 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_With429StatusCode_Applies60SecondCooldown [446 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 1
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 1
[SoftDeleteInterceptor]   Organization: State=Modified
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[xUnit.net 00:00:09.15]     Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithDeletedOrganization_ShouldCascadeSoftDeleteGroups [SKIP]
[xUnit.net 00:00:09.15]       EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneExtensionsTests.AddControlPlane_RegistersDbContext_WithPostgreSQL_WhenConnectionStringProvided [3 s]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AuditServiceTests.Constructor_WithNullDbContext_ThrowsArgumentNullException [13 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithDeletedOrganization_ShouldConvertToSoftDelete [249 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_ApiKey [407 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithNestedEntities_ShouldOnlyCascadeFromOrganization [171 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithUnauthenticatedUser_ShouldNotSetDeletedBy [27 ms]
  Skipped Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithDeletedOrganization_ShouldCascadeSoftDeleteGroups [1 ms]
  Error Message:
   EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.

[xUnit.net 00:00:09.15]     Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithAuthenticatedUser_ShouldSetDeletedBy [SKIP]
[xUnit.net 00:00:09.15]       EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 2
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 2
[SoftDeleteInterceptor]   Organization: State=Modified
[SoftDeleteInterceptor]   Organization: State=Unchanged
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:15 INF] Adding job: DEFAULT.ProviderDiscoveryJob
[08:08:15 INF] Adding job: DEFAULT.HealthMonitoringJob
[08:08:15 INF] Adding job: DEFAULT.CostOptimizationJob
[08:08:15 INF] Adding job: DEFAULT.ModelDiscoveryJob
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:15 INF] Adding job: DEFAULT.SecurityAuditJob
[08:08:15 INF] Adding job: DEFAULT.AuditLogPartitionJob
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.InvalidateSessionAsync_RemovesSessionEntries [18 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Constructor_WithNullLogger_ThrowsArgumentNullException [22 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.TryGetCachedAsync_DifferentModel_ReturnsMiss [40 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.TryGetCachedAsync_WithEmptyQuery_ReturnsMiss [14 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetStreamingResponseAsync_NoStrategiesAvailable_ThrowsInvalidOperationException [65 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.TryGetCachedAsync_ExactMatch_ReturnsHit [36 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.TryGetCachedAsync_DifferentSession_ReturnsMiss [36 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.TryGetCachedAsync_WithCancellationToken_RespectsCancellation [54 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[xUnit.net 00:00:01.48]   Discovered:  Synaxis.Infrastructure.Tests
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 2
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 2
[SoftDeleteInterceptor]   Organization: State=Modified
[SoftDeleteInterceptor]   Organization: State=Unchanged
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.TryGetCachedAsync_DifferentTemperature_ReturnsMiss [39 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_WithNoStatusCode_AppliesDefaultCooldown [159 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.StoreAsync_WithNullEmbedding_ComputesEmbedding [28 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.InvalidateSessionAsync_WithNonExistentSession_ReturnsZero [13 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.ConcurrentAccess_HandlesSafely [38 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_With400StatusCode_DoesNotMarkFailure [94 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.TryGetCachedAsync_SimilarQuery_ReturnsSemanticHit [21 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.TryGetCachedAsync_WithNullQuery_ThrowsArgumentNullException [22 ms]
  Skipped Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithAuthenticatedUser_ShouldSetDeletedBy [1 ms]
  Error Message:
   EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.

  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AuditServiceTests.LogAsync_WithNullPayload_SetsPayloadJsonToNull [384 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AuditServiceTests.LogAsync_WithNullUserId_SetsUserIdToNull [26 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AuditServiceTests.LogAsync_SetsCorrectProperties [47 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AuditServiceTests.LogAsync_AddsAuditLogToDbContext [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.Query_ShouldExcludeSoftDeletedEntitiesByDefault [228 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetResponseAsync_MultipleMessages_HandlesAllMessageTypes [36 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetStreamingResponseAsync_ApiError_ThrowsHttpRequestException [32 ms]
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[SoftDeleteInterceptor] Total tracked entities: 2
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[SoftDeleteInterceptor]   Organization: State=Added
[SoftDeleteInterceptor]   ApiKey: State=Added
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
[SoftDeleteInterceptor] ProcessSoftDelete called, currentUserId=
[SoftDeleteInterceptor] Total tracked entities: 2
[SoftDeleteInterceptor]   Organization: State=Modified
[SoftDeleteInterceptor]   ApiKey: State=Unchanged
[SoftDeleteInterceptor] Found 0 modified entries with DeletedAt set
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetService_ReturnsNull [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetStreamingResponseAsync_Success_YieldsMultipleUpdates [18 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.Constructor_SetsDefaultModelIdAndMetadata [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetResponseAsync_Success_ReturnsValidChatResponse [14 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.Query_WithIgnoreQueryFilters_ShouldIncludeSoftDeletedEntities [110 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.Constructor_WithHttpContextAccessor_ShouldNotThrow [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetResponseAsync_WithOptions_IncludesOptionsInRequest [55 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.Constructor_WithCustomModelId_SetsModelId [7 ms]
[xUnit.net 00:00:01.73]   Starting:    Synaxis.Infrastructure.Tests
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetResponseAsync_ApiError_ThrowsHttpRequestException [8 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetResponseAsync_EmptyResponse_HandlesGracefully [7 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.Dispose_DisposesHttpClient [3 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetStreamingResponseAsync_WithOptions_IncludesOptionsInRequest [15 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.Constructor_ModelMapping_Gpt4oMapsToOpenAiLarge [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.GetStreamingResponseAsync_EmptyResponse_HandlesGracefully [12 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.Constructor_ModelMapping_Gpt4oMiniMapsToOpenAi [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.Metadata_ReturnsCorrectProviderName [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.PollinationsChatClientTests.Constructor_ModelMapping_UnknownModelRemainsSame [< 1 ms]
[xUnit.net 00:00:09.62]     Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithSubClaim_ShouldSetDeletedBy [SKIP]
[xUnit.net 00:00:09.62]       EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.SemanticCacheIntegrationTests.CacheAndRetrieve_ExactMatch_Success [562 ms]
  Standard Output Messages:
 Qdrant started on 127.0.0.1:43239
 Stored cache entry: session=session-exact-match, model=gpt-4, temp=0.7


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.RedisInfrastructureIntegrationTests.ConcurrentAccess_NoDataLoss [1 s]
  Standard Output Messages:
 Redis started on 127.0.0.1:43241


     Warning:
     The component "Fluent Assertions" is governed by the rules defined in the Xceed License Agreement and
     the Xceed Fluent Assertions Community License. You may use Fluent Assertions free of charge for
     non-commercial use only. An active subscription is required to use Fluent Assertions for commercial use.
     Please contact Xceed Sales mailto:sales@xceed.com to acquire a subscription at a very low cost.
     A paid commercial license supports the development and continued increasing support of
     Fluent Assertions users under both commercial and community licenses. Help us
     keep Fluent Assertions at the forefront of unit testing.
     For more information, visit https://xceed.com/products/unit-testing/fluent-assertions/
[testcontainers.org 00:00:07.35] Docker container 067ba1e698de created
[testcontainers.org 00:00:07.46] Docker container d9f2291adea3 created
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:07.49] Start Docker container 067ba1e698de
[testcontainers.org 00:00:07.49] Start Docker container d9f2291adea3
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.TryGetCachedAsync_CacheMiss_ReturnsMissWithEmbedding [35 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetStreamingResponseAsync_SingleProvider_Success [84 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Caching.SemanticCacheServiceTests.StoreAsync_ErrorResponse_DoesNotStore [34 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_ProviderNotRegistered_ThrowsInvalidOperationException [54 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.GetAccounts_WithNullAccessToken_ReturnsEmptyMaskedToken [121 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_ResponseWithoutAdditionalProperties_CreatesNewDictionary [93 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.StartAuth_WithEmptyProvider_ReturnsErrorResult [18 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_RecordsSuccess [68 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.StartAuth_WithValidProvider_ReturnsAuthResult [48 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.GetAccounts_WithAccounts_ReturnsMaskedAccounts [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.StartAuth_WithInvalidProvider_ReturnsErrorResult [14 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.GetAccounts_WithNoAccounts_ReturnsEmptyList [8 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.MapIdentityEndpoints_MethodExists [11 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.CompleteRequest_WithValues_SetsProperties [6 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.CompleteAuth_WithInvalidProvider_ThrowsException [12 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.CompleteRequest_WithDefaultValues_HasEmptyStrings [3 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.GetAccounts_OnlyReturnsRequiredFields [20 ms]
     Warning:
     The component "Fluent Assertions" is governed by the rules defined in the Xceed License Agreement and
     the Xceed Fluent Assertions Community License. You may use Fluent Assertions free of charge for
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
     non-commercial use only. An active subscription is required to use Fluent Assertions for commercial use.
     Please contact Xceed Sales mailto:sales@xceed.com to acquire a subscription at a very low cost.
     A paid commercial license supports the development and continued increasing support of
     Fluent Assertions users under both commercial and community licenses. Help us
     keep Fluent Assertions at the forefront of unit testing.
     For more information, visit https://xceed.com/products/unit-testing/fluent-assertions/
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.CompleteAuth_WithValidCode_ReturnsAuthResult [34 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityEndpointsTests.CompleteAuth_WithNullCode_ThrowsException [16 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_RecordsFailure [144 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidTemperature_ReturnsSuccess(temperature: 1.5) [106 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidTemperature_ReturnsSuccess(temperature: 0) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidTemperature_ReturnsSuccess(temperature: 1) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidTemperature_ReturnsSuccess(temperature: 0.5) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidTemperature_ReturnsSuccess(temperature: 2) [< 1 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithDeletedOrganization_ShouldNotRevokeAlreadyRevokedApiKeys [127 ms]
  Skipped Synaxis.InferenceGateway.Infrastructure.Tests.Data.SoftDeleteInterceptorTests.SaveChangesAsync_WithSubClaim_ShouldSetDeletedBy [1 ms]
  Error Message:
   EF Core InMemory doesn't support cascade deletes with interceptors. Run against real PostgreSQL.

  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_Organization_With_Settings [605 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.External.AiHorde.Tests.AiHordeChatClientTests.GetStreamingResponseAsync_YieldsFinal [394 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.SessionExistsAsync_Existing_ReturnsTrue [385 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckRateLimitAsync_WhenRedisThrows_ShouldFailOpen [1 s]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidMaxTokens_WithInvalidMaxTokens_ReturnsFalse(maxTokens: 0) [21 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidMaxTokens_WithInvalidMaxTokens_ReturnsFalse(maxTokens: -1) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithInvalidMaxTokens_ReturnsError(maxTokens: -100) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithInvalidMaxTokens_ReturnsError(maxTokens: -1) [8 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithInvalidMaxTokens_ReturnsError(maxTokens: 0) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidTemperature_WithNullTemperature_ReturnsTrue [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidMaxTokens_WithExcessiveMaxTokens_ReturnsFalse [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidMaxTokens_ReturnsSuccess(maxTokens: 100000) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidMaxTokens_ReturnsSuccess(maxTokens: 1) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidMaxTokens_ReturnsSuccess(maxTokens: 1000) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidMaxTokens_ReturnsSuccess(maxTokens: 100) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithInvalidTemperature_ReturnsError(temperature: -1) [2 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithInvalidTemperature_ReturnsError(temperature: 2.1000000000000001) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithInvalidTemperature_ReturnsError(temperature: -0.10000000000000001) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithInvalidTemperature_ReturnsError(temperature: 3) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithValidParameters_ReturnsSuccess [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidModel_WithNullModel_ReturnsFalse [10 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithEmptyModel_ReturnsError [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidTemperature_WithValidTemperature_ReturnsTrue(temperature: 1) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidTemperature_WithValidTemperature_ReturnsTrue(temperature: 2) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidTemperature_WithValidTemperature_ReturnsTrue(temperature: 0) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidMaxTokens_WithValidMaxTokens_ReturnsTrue(maxTokens: 200000) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidMaxTokens_WithValidMaxTokens_ReturnsTrue(maxTokens: 1) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidMaxTokens_WithValidMaxTokens_ReturnsTrue(maxTokens: 100000) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidMaxTokens_WithValidMaxTokens_ReturnsTrue(maxTokens: 1000) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithNullMessages_ReturnsError [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidTemperature_WithInvalidTemperature_ReturnsFalse(temperature: 2.1000000000000001) [2 ms]
[testcontainers.org 00:00:07.67] Wait for Docker container 067ba1e698de to complete readiness checks
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_InvalidSlugs_Rejected(slug: "MyOrg") [143 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_InvalidSlugs_Rejected(slug: "myorg-") [11 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_InvalidSlugs_Rejected(slug: "-myorg") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_InvalidSlugs_Rejected(slug: "my_org") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_InvalidSlugs_Rejected(slug: "my org") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_InvalidSlugs_Rejected(slug: "my--org") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_InvalidSlugs_Rejected(slug: "") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.MembershipRole_InvalidRoles_Rejected(role: "Admin") [16 ms]
[testcontainers.org 00:00:07.92] Wait for Docker container d9f2291adea3 to complete readiness checks
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.GetProviderAffinityAsync_Missing_ReturnsNull [79 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.GetCurrentUsageAsync_ShouldReturnCurrentValue [50 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_RoutingStrategy [476 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckRateLimitAsync_ExceedsLimit_ShouldReturnDenied [38 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckRateLimitAsync_WithinLimit_ShouldReturnAllowed [18 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.GetCurrentUsageAsync_WithNonExistentKey_ShouldReturn0 [17 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckHierarchicalRateLimitAsync_GroupLimitExceeded_ShouldReturnDenied [31 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.MembershipRole_InvalidRoles_Rejected(role: "") [3 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.MembershipRole_InvalidRoles_Rejected(role: "User") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.MembershipRole_InvalidRoles_Rejected(role: "Owner") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.ApiKeyStatus_ValidStatuses_Accepted(status: "revoked") [22 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.ApiKeyStatus_ValidStatuses_Accepted(status: "expired") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.ApiKeyStatus_ValidStatuses_Accepted(status: "active") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.UserEmail_Validation(email: "user@example.com", expectedValid: True) [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.UserEmail_Validation(email: "", expectedValid: False) [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.UserEmail_Validation(email: "user@", expectedValid: False) [< 1 ms]
[testcontainers.org 00:00:07.92] Execute "redis-cli ping" at Docker container 067ba1e698de
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.UserEmail_Validation(email: "test.user@domain.co.uk", expectedValid: True) [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.UserEmail_Validation(email: "user+tag@example.com", expectedValid: True) [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.UserEmail_Validation(email: "@example.com", expectedValid: False) [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.UserEmail_Validation(email: "invalid-email", expectedValid: False) [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.MembershipRole_ValidRoles_Accepted(role: "Member") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.MembershipRole_ValidRoles_Accepted(role: "OrgAdmin") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.MembershipRole_ValidRoles_Accepted(role: "TeamAdmin") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.MembershipRole_ValidRoles_Accepted(role: "Viewer") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.ApiKeyStatus_InvalidStatuses_Rejected(status: "deleted") [< 1 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidTemperature_WithInvalidTemperature_ReturnsFalse(temperature: -0.10000000000000001) [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidMaxTokens_WithNullMaxTokens_ReturnsTrue [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.ValidateRequest_WithNullModel_ReturnsError [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Validation.OpenAIRequestValidatorTests.IsValidModel_WithValidModel_ReturnsTrue [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_RetryPolicy_RetriesOnTransientError [164 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_StrategyCannotHandle_UsesDefaultStrategy [41 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Constructor_WithNullProvider_ThrowsArgumentNullException [87 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Dispose_DoesNotThrow [30 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[xUnit.net 00:00:10.36]     Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.ConcurrentAccess_HandlesSafely [FAIL]
[xUnit.net 00:00:10.36]       Moq.MockException : 
[xUnit.net 00:00:10.36]       Expected invocation on the mock exactly 10 times, but was 0 times: db => db.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, 01:00:00, False, When.Always, CommandFlags.None)
[xUnit.net 00:00:10.36]       
[xUnit.net 00:00:10.36]       Performed invocations:
[xUnit.net 00:00:10.36]       
[xUnit.net 00:00:10.36]          Mock<IDatabase:5> (db):
[xUnit.net 00:00:10.36]       
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.36]             IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
[xUnit.net 00:00:10.36]       
[xUnit.net 00:00:10.36]       Stack Trace:
[xUnit.net 00:00:10.36]         /_/src/Moq/Mock.cs(332,0): at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage)
[xUnit.net 00:00:10.36]         /_/src/Moq/Mock`1.cs(825,0): at Moq.Mock`1.Verify[TResult](Expression`1 expression, Times times)
[xUnit.net 00:00:10.36]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisSessionStoreTests.cs(316,0): at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.ConcurrentAccess_HandlesSafely()
[xUnit.net 00:00:10.36]         --- End of stack trace from previous location ---
[testcontainers.org 00:00:07.97] Docker container 067ba1e698de ready
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:17 INF] Application started. Press Ctrl+C to shut down.
[08:08:17 INF] Hosting environment: Development
[08:08:17 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckHierarchicalRateLimitAsync_WithinAllLimits_ShouldReturnAllowed [13 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.IncrementTokenUsageAsync_WithNegativeTokenCount_ShouldThrowArgumentException [35 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.IncrementTokenUsageAsync_WithNullOrEmptyKey_ShouldThrowArgumentException [11 ms]
  Failed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.ConcurrentAccess_HandlesSafely [220 ms]
  Error Message:
   Moq.MockException : 
Expected invocation on the mock exactly 10 times, but was 0 times: db => db.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, 01:00:00, False, When.Always, CommandFlags.None)

Performed invocations:

   Mock<IDatabase:5> (db):

      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)
      IDatabaseAsync.StringSetAsync(session:session-concurrent:affinity, openai-gpt4, EX 3600, , CommandFlags.None)
      IDatabaseAsync.StringGetAsync(session:session-concurrent:affinity, CommandFlags.None)

  Stack Trace:
     at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage) in /_/src/Moq/Mock.cs:line 332
   at Moq.Mock`1.Verify[TResult](Expression`1 expression, Times times) in /_/src/Moq/Mock`1.cs:line 825
   at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.ConcurrentAccess_HandlesSafely() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisSessionStoreTests.cs:line 316
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckHierarchicalRateLimitAsync_UserLimitExceeded_ShouldReturnDenied [31 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckRateLimitAsync_WithNullOrEmptyKey_ShouldThrowArgumentException [48 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_AuditLog [291 ms]
[xUnit.net 00:00:10.44]     Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.SetProviderAffinityAsync_StoresValue [FAIL]
[xUnit.net 00:00:10.44]       Moq.MockException : 
[xUnit.net 00:00:10.44]       Expected invocation on the mock once, but was 0 times: db => db.StringSetAsync(session:session-123:affinity, anthropic-claude, 01:00:00, False, When.Always, CommandFlags.None)
[xUnit.net 00:00:10.44]       
[xUnit.net 00:00:10.44]       Performed invocations:
[xUnit.net 00:00:10.44]       
[xUnit.net 00:00:10.44]          Mock<IDatabase:14> (db):
[xUnit.net 00:00:10.44]       
[xUnit.net 00:00:10.44]             IDatabaseAsync.StringSetAsync(session:session-123:affinity, anthropic-claude, EX 3600, , CommandFlags.None)
[xUnit.net 00:00:10.44]       
[xUnit.net 00:00:10.44]       Stack Trace:
[xUnit.net 00:00:10.44]         /_/src/Moq/Mock.cs(332,0): at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage)
[xUnit.net 00:00:10.45]         /_/src/Moq/Mock`1.cs(840,0): at Moq.Mock`1.Verify[TResult](Expression`1 expression, Func`1 times)
[xUnit.net 00:00:10.45]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisSessionStoreTests.cs(101,0): at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.SetProviderAffinityAsync_StoresValue()
[xUnit.net 00:00:10.45]         --- End of stack trace from previous location ---
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:17 INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:08.09] Docker container d9f2291adea3 ready
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:17 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:17 WRN] Using in-memory database for ControlPlane
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:17 INF] [HealthMonitoring][78532ba7] Starting health check
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:17 INF] [SecurityAudit][54df337e] Starting security audit
[08:08:17 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:17 WRN] Using in-memory database for ControlPlane
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Failed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.SetProviderAffinityAsync_StoresValue [80 ms]
  Error Message:
   Moq.MockException : 
Expected invocation on the mock once, but was 0 times: db => db.StringSetAsync(session:session-123:affinity, anthropic-claude, 01:00:00, False, When.Always, CommandFlags.None)

Performed invocations:

   Mock<IDatabase:14> (db):

      IDatabaseAsync.StringSetAsync(session:session-123:affinity, anthropic-claude, EX 3600, , CommandFlags.None)

  Stack Trace:
     at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage) in /_/src/Moq/Mock.cs:line 332
   at Moq.Mock`1.Verify[TResult](Expression`1 expression, Func`1 times) in /_/src/Moq/Mock`1.cs:line 840
   at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.SetProviderAffinityAsync_StoresValue() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisSessionStoreTests.cs:line 101
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckRateLimitAsync_WithCustomIncrement_ShouldUseCorrectValue [41 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.SessionExistsAsync_Missing_ReturnsFalse [42 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckHierarchicalRateLimitAsync_ShouldCheckAllLevelsInParallel [81 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckHierarchicalRateLimitAsync_WithNullConfig_ShouldThrowArgumentNullException [1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.Constructor_WithNullLogger_ShouldThrowArgumentNullException [7 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.External.AiHorde.Tests.AiHordeChatClientTests.GetResponseAsync_ReturnsFinalText [532 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:08.24] Delete Docker container d9f2291adea3
[08:08:17 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:17 INF] Start processing HTTP request GET https://stablehorde.net/api/v2/v1/models
[08:08:17 INF] [CostOptimization][bd984492] Starting ULTRA MISER MODE optimization
[08:08:17 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:17 WRN] Using in-memory database for ControlPlane
[08:08:17 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:17 WRN] Using in-memory database for ControlPlane
[08:08:17 INF] Start processing HTTP request GET https://models.dev/api.json
[08:08:17 INF] Sending HTTP request GET https://models.dev/api.json
[08:08:17 INF] Sending HTTP request GET https://stablehorde.net/api/v2/v1/models
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetStreamingResponseAsync_ProviderNotRegistered_ThrowsInvalidOperationException [107 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_WithCancellation_ThrowsAggregateException [28 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetService_WithServiceKey_DelegatesToFactory [11 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.Constructor_WithNullPipelineProvider_ThrowsArgumentNullException [14 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetStreamingResponseAsync_AllProvidersUnhealthy_ThrowsAggregateException [66 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetService_DelegatesToFactory [34 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.GetUserConfigAsync_ReturnsUserEffectiveConfig [662 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetStreamingResponseAsync_WithFailover_SwitchesProvider [120 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckRateLimitAsync_ShouldExecuteLuaScriptAtomically [69 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.IncrementTokenUsageAsync_WhenRedisThrows_ShouldReturn0 [9 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckHierarchicalRateLimitAsync_OrganizationLimitExceeded_ShouldReturnDenied [27 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.ResetRateLimitAsync_WhenRedisThrows_ShouldReturnFalse [40 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.GetActiveSessionsAsync_ReturnsList [246 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.GetCurrentUsageAsync_WhenRedisThrows_ShouldReturn0 [13 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.RedisFailure_FailsOpen_ReturnsNull [10 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckHierarchicalRateLimitAsync_ShouldUseCorrectKeyStructure [33 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.Constructor_WithNullRedis_ShouldThrowArgumentNullException [1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.GetLastActivityAsync_Existing_ReturnsTimestamp [46 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.IncrementTokenUsageAsync_ShouldIncrementSuccessfully [41 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckHierarchicalRateLimitAsync_WithNoLimits_ShouldReturnAllowed [19 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_Model_With_Provider_Relationship [433 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.DeviceFlowServiceTests.StartPollingAsync_ReceivesToken_AndCallsOnSuccess [255 ms]
[xUnit.net 00:00:10.87]     Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.UpdateLastActivityAsync_UpdatesTimestamp [FAIL]
[xUnit.net 00:00:10.87]       Moq.MockException : 
[xUnit.net 00:00:10.87]       Expected invocation on the mock once, but was 0 times: db => db.StringSetAsync(session:session-123:lastactivity, It.Is<RedisValue>(v => Math.Abs((long)v - timestamp.ToUnixTimeSeconds()) <= 1), 02:00:00, False, When.Always, CommandFlags.None)
[xUnit.net 00:00:10.87]       
[xUnit.net 00:00:10.87]       Performed invocations:
[xUnit.net 00:00:10.87]       
[xUnit.net 00:00:10.87]          Mock<IDatabase:32> (db):
[xUnit.net 00:00:10.87]       
[xUnit.net 00:00:10.87]             IDatabaseAsync.StringSetAsync(session:session-123:lastactivity, 1770707297, EX 7200, , CommandFlags.None)
[xUnit.net 00:00:10.87]       
[xUnit.net 00:00:10.87]       Stack Trace:
[xUnit.net 00:00:10.87]         /_/src/Moq/Mock.cs(332,0): at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage)
[xUnit.net 00:00:10.87]         /_/src/Moq/Mock`1.cs(840,0): at Moq.Mock`1.Verify[TResult](Expression`1 expression, Func`1 times)
[xUnit.net 00:00:10.87]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisSessionStoreTests.cs(158,0): at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.UpdateLastActivityAsync_UpdatesTimestamp()
[xUnit.net 00:00:10.87]         --- End of stack trace from previous location ---
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:08.52] Docker container ba48f6c61ed2 created
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:08.56] Start Docker container ba48f6c61ed2
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Failed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.UpdateLastActivityAsync_UpdatesTimestamp [82 ms]
  Error Message:
   Moq.MockException : 
Expected invocation on the mock once, but was 0 times: db => db.StringSetAsync(session:session-123:lastactivity, It.Is<RedisValue>(v => Math.Abs((long)v - timestamp.ToUnixTimeSeconds()) <= 1), 02:00:00, False, When.Always, CommandFlags.None)

Performed invocations:

   Mock<IDatabase:32> (db):

      IDatabaseAsync.StringSetAsync(session:session-123:lastactivity, 1770707297, EX 7200, , CommandFlags.None)

  Stack Trace:
     at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage) in /_/src/Moq/Mock.cs:line 332
   at Moq.Mock`1.Verify[TResult](Expression`1 expression, Func`1 times) in /_/src/Moq/Mock`1.cs:line 840
   at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.UpdateLastActivityAsync_UpdatesTimestamp() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisSessionStoreTests.cs:line 158
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisSessionStoreTests.GetProviderAffinityAsync_Existing_ReturnsValue [20 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.IncrementHierarchicalTokenUsageAsync_ShouldIncrementAllLevels [55 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckHierarchicalRateLimitAsync_WithoutGroup_ShouldSkipGroupChecks [94 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.ResetRateLimitAsync_ShouldDeleteKey [39 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.IncrementHierarchicalTokenUsageAsync_WithoutGroup_ShouldSkipGroupIncrement [65 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.AntigravityAuthManagerTests.ListAccounts_ReturnsLoadedAccounts [215 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.IncrementTokenUsageAsync_ShouldExecuteLuaScript [14 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_AllProvidersUnhealthy_ThrowsAggregateException [47 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ChatClients.SmartRoutingChatClientTests.GetResponseAsync_WithNullOptions_UsesDefaultModelId [101 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.GetTenantConfigAsync_ReturnsTenantEffectiveConfig [415 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ProviderConfig_DifferentTiers_LoadsCorrectly [134 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ProviderConfig_DefaultsEnabledToTrue [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ProviderConfig_Defaults [24 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.ResolveAsync_NullableFields_InheritFromParent [61 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.ResolveAsync_UserAndTenant_UserWins [26 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:08.83] Wait for Docker container ba48f6c61ed2 to complete readiness checks
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.SemanticCacheIntegrationTests.LargeEmbeddings_StoresEfficiently [203 ms]
  Standard Output Messages:
 Qdrant started on 127.0.0.1:43242
 Stored cache entry: session=session-large, model=text-embedding-3-large, temp=0.7


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.SemanticCacheIntegrationTests.InvalidateSession_RemovesCorrectEntries [98 ms]
  Standard Output Messages:
 Qdrant started on 127.0.0.1:43245
 Stored cache entry: session=session-invalidate, model=gpt-4, temp=0.7
 Stored cache entry: session=session-invalidate, model=gpt-4, temp=0.7
 Stored cache entry: session=session-invalidate, model=gpt-4, temp=0.7
 Invalidated session: session-invalidate


  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsMaxRequestBodySize [28 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsMasterKey [5 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.ResolveAsync_TenantOverride_AppliesTenantSettings [18 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsProvidersFromJson [26 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ProviderConfig_LoadsFallbackEndpoint [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.ResolveAsync_NoOverrides_ReturnsSystemDefaults [19 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.GetSystemConfig_ReturnsRawConfiguration [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsCanonicalModelsFromJson [10 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:08.89] Docker container ba48f6c61ed2 ready
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsAliasesFromJson [9 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.EnvironmentVariableMapping_NullValue_DoesNotOverride [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsProviderWithEndpoint [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.EnvironmentVariableMapping_JwtSecret_OverridesJson [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.SystemOnlySettings_NeverOverridden [21 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsCloudflareProviderWithAccountId [24 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_DefaultMaxRequestBodySize [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ProviderConfig_LoadsAuthStoragePath [< 1 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.ResolveAsync_UserOverride_AppliesUserSettings [24 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.CanonicalModelConfig_AllCapabilities_LoadsCorrectly [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_EmptyConfiguration_ReturnsEmptyCollections [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_MasterKeyDefaultsToNull [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsJwtSettings [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ProviderConfig_LoadsProjectId [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.EnvironmentVariableMapping_CloudflareAccountId_OverridesJson [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.CanonicalModelConfig_Defaults [< 1 ms]
[testcontainers.org 00:00:00.75] Connected to Docker:
  Host: unix:///var/run/docker.sock
  Server Version: 29.2.1
  Kernel Version: 6.17.4-2-pve
  API Version: 1.53
  Operating System: Debian GNU/Linux 13 (trixie)
  Total Memory: 56.00 GB
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.CheckRateLimitAsync_WithZeroOrNegativeLimit_ShouldThrowArgumentException [8 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisRateLimitingServiceTests.ResetRateLimitAsync_WithNonExistentKey_ShouldReturnFalse [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.AntigravityAuthManagerTests.GetTokenAsync_InjectsEnvVarToken [111 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.Constructor_WithNullApiKey_ThrowsArgumentNullException [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_OrganizationProvider_Configuration [506 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.Constructor_WithCustomHeaders_AddsHeadersToPipeline [126 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.Metadata_ReturnsProviderMetadata [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ProviderConfig_MultipleModels_LoadsCorrectly [32 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.AliasConfig_EmptyCandidates_LoadsCorrectly [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsCanonicalModelCapabilities [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Optimization.Configuration.TokenOptimizationConfigResolverTests.ConcurrentResolution_ThreadSafe [58 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.AliasConfig_MultipleAliases_LoadsCorrectly [28 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ConfigurationBinding_LoadsAntigravitySettings [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.AliasConfig_EmptyCandidatesList [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.ProviderConfig_CanBeDisabled [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.AntigravitySettings_Defaults [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.GetService_CanRetrieveChatClient [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.Constructor_SetsUpOpenAIClientWithCorrectParameters [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.Constructor_WithEmptyCustomHeaders_HandlesGracefully [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Apply_Soft_Delete_Query_Filter_On_Users [18 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.DeleteAccountAsync_Existing_DeletesSuccessfully [231 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.Constructor_WithNullEndpoint_HandlesGracefully [18 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.Constructor_WithNullCustomHeaders_HandlesGracefully [< 1 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:18 ERR] [HealthMonitoring][78532ba7] Job failed
System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQueryRaw[TResult](DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQuery[TResult](DatabaseFacade databaseFacade, FormattableString sql)
   at Synaxis.InferenceGateway.Infrastructure.Jobs.HealthMonitoringAgent.GetEnabledProvidersAsync(ControlPlaneDbContext db, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/HealthMonitoringAgent.cs:line 98
   at Synaxis.InferenceGateway.Infrastructure.Jobs.HealthMonitoringAgent.Execute(IJobExecutionContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/HealthMonitoringAgent.cs:line 52
[testcontainers.org 00:00:09.03] Delete Docker container ba48f6c61ed2
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.ApiKeyStatus_InvalidStatuses_Rejected(status: "") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.ApiKeyStatus_InvalidStatuses_Rejected(status: "inactive") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.ApiKeyStatus_InvalidStatuses_Rejected(status: "pending") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_ValidSlugs_Accepted(slug: "test-organization") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_ValidSlugs_Accepted(slug: "my-org") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_ValidSlugs_Accepted(slug: "org123") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.OrganizationSlug_ValidSlugs_Accepted(slug: "my-org-123") [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.RollbackScriptTests.BashScript_AcceptsMigrationParameter [5 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:09.31] Docker container 168b75b51f21 created
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[testcontainers.org 00:00:09.32] Start Docker container 168b75b51f21
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.GetAccountAsync_ExistingAccount_ReturnsAccount [17 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.Constructor_WithNullModelId_ThrowsArgumentNullException [26 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.GetService_WithServiceKey_ReturnsNullForUnknownKey [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Apply_Soft_Delete_Query_Filter_On_Organizations [41 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.GenericOpenAiChatClientTests.Dispose_DisposesClient [21 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.JwtServiceTests.GenerateToken_WithWhitespaceJwtSecret_ThrowsInvalidOperationException [31 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.RefreshTokenAsync_ExpiredToken_ThrowsException [86 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.CompleteAuth_ValidProvider_ReturnsAuthResult [21 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.JwtServiceTests.GenerateToken_UsesConfiguredIssuerAndAudience [101 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.SaveAccountAsync_NewAccount_CreatesSuccessfully [16 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.StartAuth_FindsStrategyAndInitiatesFlow [38 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.RefreshTokenAsync_ValidToken_ReturnsNewToken [19 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.GetAccountAsync_NonExistent_ReturnsNull [5 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.JwtServiceTests.GenerateToken_WithValidUser_ReturnsValidJwtToken [77 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.JwtServiceTests.GenerateToken_WithEmptyJwtSecret_ThrowsInvalidOperationException [3 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.JwtServiceTests.GenerateToken_WithNullJwtSecret_ThrowsInvalidOperationException [7 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.JwtServiceTests.GenerateToken_WithNullIssuerAndAudience_UsesDefaults [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.JwtServiceTests.GenerateToken_TokenExpiresInSevenDays [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.JwtServiceTests.Constructor_WithNullConfig_ThrowsArgumentNullException [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.GetToken_RefreshesIfExpired [32 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.GetToken_ReturnsAccessTokenIfExists [20 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.IdentityManagerTests.CompleteAuth_InvalidProvider_ThrowsException [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisConversationStoreTests.GetCompressedForProviderAsync_AppliesStrategy [58 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:18 WRN] Failed to determine the https port for redirect.
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisConversationStoreTests.AppendMessageAsync_AddsToList [9 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisConversationStoreTests.GetFullHistoryAsync_Existing_ReturnsMessages [3 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisConversationStoreTests.ClearSessionAsync_RemovesAllData [35 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisConversationStoreTests.RedisFailure_FailsOpen_ReturnsEmpty [10 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisConversationStoreTests.GetFullHistoryAsync_Missing_ReturnsEmpty [57 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.SynaxisDbContextTests.Should_Create_ProviderHealthStatus [462 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.External.GitHub.GitHubCopilotChatClientTests.GetStreamingResponseAsync_StreamsUpdates [217 ms]
[testcontainers.org 00:00:09.58] Wait for Docker container 168b75b51f21 to complete readiness checks
[testcontainers.org 00:00:09.60] Docker container 168b75b51f21 ready
[08:08:18 INF] [CostOptimization][bd984492] Found 0 active routes
[08:08:18 INF] [CostOptimization][bd984492] Completed: Optimized=0, Total Savings=$0.0000
[08:08:18 ERR] [SecurityAudit][54df337e] Job failed
System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQueryRaw[TResult](DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQuery[TResult](DatabaseFacade databaseFacade, FormattableString sql)
   at Synaxis.InferenceGateway.Infrastructure.Jobs.SecurityAuditAgent.CheckMissingRateLimitsAsync(ControlPlaneDbContext db, List`1 issues, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/SecurityAuditAgent.cs:line 147
   at Synaxis.InferenceGateway.Infrastructure.Jobs.SecurityAuditAgent.Execute(IJobExecutionContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/SecurityAuditAgent.cs:line 59
[testcontainers.org 00:00:09.66] Delete Docker container 168b75b51f21
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:18 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:18 INF] Writing value of type 'ModelsListResponseDto' as Json.
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:18 INF] Received HTTP response headers after 1475.7074ms - 200
[08:08:18 INF] End processing HTTP request after 1520.7108ms - 200
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:18 INF] Received HTTP response headers after 1466.2154ms - 404
[08:08:18 INF] End processing HTTP request after 1546.5272ms - 404
[08:08:18 WRN] Model discovery call to https://stablehorde.net/api/v2/v1/models returned NotFound
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:18 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider AiHorde
[08:08:18 WRN] No effective base URL could be determined for provider Cloudflare
[08:08:18 INF] Start processing HTTP request GET https://api.cohere.com/v2/v1/models
[08:08:18 INF] Sending HTTP request GET https://api.cohere.com/v2/v1/models
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:18 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
  Passed [DEBUG] Registry returned 3 candidates for 'deepseek-chat'
Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.EnvironmentVariableMapping_MultipleProviders_AllMappedCorrectly [< 1 ms][DEBUG] Registry returned 3 candidates for 'deepseek-chat'

  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.EnvironmentVariableMapping_GroqApiKey_OverridesJson [< 1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.AliasConfig_MultipleCandidates_LoadsCorrectly [18 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Configuration.SynaxisConfigurationTests.CanonicalModelConfig_MultipleModels_LoadsCorrectly [1 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityServiceTests.RegisterOrganizationAsync_WithValidRequest_CreatesUserAndOrganization [4 s]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityServiceTests.RegisterOrganizationAsync_WithDuplicateEmail_ReturnsError [5 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityServiceTests.AssignUserToGroupAsync_WithValidData_CreatesMembership [180 ms]
  Passed Synaxis.InferenceGateway.Application.Tests.ApiKeys.ApiKeyServiceTests.GenerateApiKeyAsync_StoresHashNotPlaintext [11 s]
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[08:08:18 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 1714.0943ms
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'deepseek-chat'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[08:08:19 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:19 WRN] Using in-memory database for ControlPlane
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
[DEBUG] Registry returned 3 candidates for 'mixtral-8x7b-32768'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisConversationStoreTests.MessageSerialization_RoundTripsCorrectly [9 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisConversationStoreTests.LargeConversation_HandlesEfficiently [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.External.GitHub.GitHubCopilotChatClientTests.Dispose_DisposesClient [11 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.External.GitHub.GitHubCopilotChatClientTests.GetResponseAsync_CreatesSessionSendsAndReturnsResponse [15 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.DeviationRegistryTests.RegisterAsync_PersistsDeviation [351 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.DeviationRegistryTests.UpdateStatusAsync_UpdatesExistingDeviation [153 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.CheckHierarchicalQuotaAsync_WithinAllLimits_ReturnsTrue [42 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.CheckQuotaAsync_WithinLimits_ReturnsTrue [27 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.CheckHierarchicalQuotaAsync_OnRedisError_ReturnsTrueAsFailsafe [14 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.CheckHierarchicalQuotaAsync_UsesCorrectKeyStructure [15 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.CheckQuotaAsync_ExceedsLimit_ReturnsFalse [36 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.CheckQuotaAsync_OnRedisError_ReturnsTrueAsFailsafe [55 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.QueryPerformance_OptimizedForCommonPatterns [737 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.ConfigurationValidation_EnforcesConstraints [34 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.RecordUsageAsync_SetsExpiration [62 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.CheckQuotaAsync_WithNonExistentProvider_ReturnsTrue [< 1 ms]
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
[DEBUG] Registry returned 3 candidates for 'deepseek-coder'
  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.SemanticCacheIntegrationTests.CacheAndRetrieve_TemperatureMatters [138 ms]
  Standard Output Messages:
 Qdrant started on 127.0.0.1:43247
 Stored cache entry: session=session-temp, model=gpt-4, temp=0


  Passed Synaxis.InferenceGateway.IntegrationTests.PerformanceTests.RoutingPipeline_ShouldMaintainLowMemoryFootprint [10 s]
  Standard Output Messages:
 [2026-02-10 07:08:11Z] warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
       Entity 'SynaxisUser' has a global query filter defined and is the required end of a relationship with the entity 'Invitation'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
 [2026-02-10 07:08:11Z] warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
       Entity 'Organization' has a global query filter defined and is the required end of a relationship with the entity 'OrganizationSettings'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
 [2026-02-10 07:08:11Z] warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
       Entity 'Group' has a global query filter defined and is the required end of a relationship with the entity 'UserGroupMembership'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
 [2026-02-10 07:08:11Z] warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
       Entity 'Organization' has a global query filter defined and is the required end of a relationship with the entity 'UserOrganizationMembership'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
 [2026-02-10 07:08:11Z] warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
       Entity 'Organization' has a global query filter defined and is the required end of a relationship with the entity 'UserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
 [2026-02-10 07:08:13Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 5 entities to in-memory store.
 Iterations: 1000
 Initial Memory: 15216 KB
 Final Memory: 20522 KB
 Memory Increase: 5305 KB
 Memory Per Request: 5433.29 bytes
 Total Time: 4416ms


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.SemanticCacheIntegrationTests.ConcurrentWrites_HandlesSafely [47 ms]
  Standard Output Messages:
 Qdrant started on 127.0.0.1:43249
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7
 Stored cache entry: session=session-concurrent, model=gpt-4, temp=0.7


  Passed Synaxis.InferenceGateway.IntegrationTests.PerformanceTests.RoutingPipeline_ShouldScaleLinearly_WithRequestVolume [518 ms]
  Standard Output Messages:
 [2026-02-10 07:08:18Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 5 entities to in-memory store.
 Batch Size: 10, Time: 30ms, Throughput: 333.33 req/s
 Batch Size: 50, Time: 106ms, Throughput: 471.70 req/s
 Batch Size: 100, Time: 259ms, Throughput: 386.10 req/s


  Passed Synaxis.InferenceGateway.IntegrationTests.PerformanceTests.RoutingPipeline_ShouldHandleMixedModelRequests_Efficiently [443 ms]
  Standard Output Messages:
 [2026-02-10 07:08:19Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 5 entities to in-memory store.
 Mixed Model Requests: 100
 Total Time: 404ms
 Throughput: 247.52 requests/second


  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.CreateConfigurationAsync_NewProvider_CreatesSuccessfully [77 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.RecordUsageAsync_IncrementsTokenCounters [56 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.CheckQuotaAsync_WithNoRateLimits_ReturnsTrue [5 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.GetConfigurationAsync_ExistingProvider_ReturnsConfiguration [30 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Routing.RedisQuotaTrackerTests.CheckHierarchicalQuotaAsync_ExceedsAnyLimit_ReturnsFalse [23 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.External.KiloCode.KiloCodeChatClientTests.Constructor_DoesNotThrow_AndSetsBaseAddress_AndHeaders [10 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.UpdateConfigurationAsync_ExistingProvider_UpdatesSuccessfully [137 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.ConcurrentUpdates_HandledCorrectly [24 ms]
[testcontainers.org 00:00:02.60] Docker container 60056cee5c35 created
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.DeleteConfigurationAsync_ExistingProvider_DeletesSuccessfully [42 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.GetConfigurationsWithCachingEnabledAsync_FiltersCorrectly [64 ms]
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.AntigravityChatClientTests.GetResponseAsync_SendsCorrectRequest_ReturnsResponse [287 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.GetAllConfigurationsAsync_MultipleProviders_ReturnsAll [45 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.AntigravityChatClientTests.GetStreamingResponseAsync_ParsesSSE_YieldsUpdates [55 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.GetConfigurationsByStrategyAsync_FiltersCorrectly [47 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.BulkOperations_PerformEfficiently [42 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Configuration.TokenOptimizationConfigurationResolverTests.GetConfigurationAsync_MissingProvider_ReturnsNull [4 ms]
[testcontainers.org 00:00:10.94] Docker container 498df666c4b2 created
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[testcontainers.org 00:00:10.95] Start Docker container 498df666c4b2
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
  Passed Synaxis.Infrastructure.Tests.Migrations.RollbackScriptTests.Scripts_UseEfCoreMigrations [3 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.RollbackScriptTests.BashScript_Exists [4 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.RollbackScriptTests.Scripts_CreateBackupsBeforeRollback [5 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.RollbackScriptTests.Scripts_SupportConnectionStringParameter [6 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.RollbackScriptTests.PowerShellScript_Exists [2 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.RollbackScriptTests.Scripts_IncludeErrorHandling [3 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.RollbackScriptTests.PowerShellScript_AcceptsMigrationParameter [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.RollbackScriptTests.BashScript_IsExecutable [< 1 ms]
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
[DEBUG] Registry returned 3 candidates for 'llama-3.1-70b-versatile'
  Passed Synaxis.InferenceGateway.IntegrationTests.PerformanceTests.RoutingPipeline_ShouldHandleDatabasePressure_Gracefully [283 ms]
  Standard Output Messages:
 [2026-02-10 07:08:19Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 5 entities to in-memory store.
 Concurrent DB Queries: 200
 Total Time: 243ms
 Throughput: 823.05 queries/second


  Passed Synaxis.InferenceGateway.IntegrationTests.PerformanceTests.RoutingPipeline_ShouldHandleConcurrentRequests_Efficiently [225 ms]
  Standard Output Messages:
 [2026-02-10 07:08:19Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 5 entities to in-memory store.
 Concurrent Requests: 100
 Total Time: 188ms
 Average Time Per Request: 1.88ms
 Throughput: 531.91 requests/second


  Passed Synaxis.InferenceGateway.IntegrationTests.PerformanceTests.RoutingPipeline_ShouldHandleCancellation_Efficiently [16 ms]
  Standard Output Messages:
 [2026-02-10 07:08:20Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 5 entities to in-memory store.
 Cancellation handled in 3ms


  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithName_MapsAuthorName [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithToolRoleAndNullToolCallId_DoesNotAddFunctionResult [18 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithToolRoleAndToolCallId_MapsFunctionResult [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithTools_MapsTools [67 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithMultipleToolCalls_MapsAllFunctionCalls [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithToolChoice_MapsToolChoice [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithNullOptions_SetsNullOptions [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithToolRole_MapsToToolRole [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithResponseFormat_MapsResponseFormat [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithNullMessages_ReturnsEmpty [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithSystemRole_MapsToSystemRole [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithAssistantRole_MapsToAssistantRole [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithEmptyToolCallsList_HandlesGracefully [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithUnknownRole_CreatesCustomRole [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithWhitespaceModel_UsesDefault [< 1 ms]
[08:08:19 INF] Application is shutting down...
[08:08:20 INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
[08:08:20 INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithToolCalls_MapsFunctionCalls [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithNullContent_ReturnsEmptyString [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithEmptyModel_UsesDefault [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithEmptyMessages_ReturnsEmpty [32 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithUserRole_MapsToUserRole [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithValidRequest_ReturnsCanonicalRequest [39 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithNullModel_UsesDefault [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithMixedRoles_MapsAllCorrectly [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithArrayStopSequences_MapsToList [< 1 ms]
[08:08:20 INF] Received HTTP response headers after 1411.9022ms - 401
[08:08:20 INF] End processing HTTP request after 1412.5655ms - 401
[08:08:20 WRN] Model discovery call to https://api.cohere.com/v2/v1/models returned Unauthorized
[08:08:20 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider Cohere
[08:08:20 ERR] Error discovering models for provider DuckDuckGo
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at Synaxis.InferenceGateway.Infrastructure.External.OpenAi.OpenAiModelDiscoveryClient.GetModelsAsync(String baseUrl, String apiKey, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/External/OpenAi/OpenAiModelDiscoveryClient.cs:line 47
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessProviderAsync(String providerKey, ProviderConfig providerCfg, ControlPlaneDbContext db, IOpenAiModelDiscoveryClient discovery) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 151
[08:08:20 WRN] No effective base URL could be determined for provider Gemini
[08:08:20 WRN] No effective base URL could be determined for provider GitHubCopilot
[08:08:20 INF] Start processing HTTP request GET https://models.inference.ai.azure.com/v1/models
[08:08:20 INF] Sending HTTP request GET https://models.inference.ai.azure.com/v1/models
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.External.DuckDuckGo.DuckDuckGoChatClientTests.EnsureTokenIsRetrievedAndUsed_OnPost [176 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.External.DuckDuckGo.DuckDuckGoChatClientTests.ReturnsEmptyResponse_OnNonSuccess [17 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_AppendsBlock_WhenNoExistingGithubBlock [4 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_HandlesSpecialCharactersInToken [4 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_OverwritesExistingGithubConfiguration [22 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_WritesCustomUser_WhenUserSpecified [216 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_InitializesEmptyFile_WhenFileIsCorrupted [21 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_ReplacesExistingGithubBlock [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_CreatesDirectory_WhenNotExists [4 ms]
[testcontainers.org 00:00:11.34] Wait for Docker container 498df666c4b2 to complete readiness checks
[testcontainers.org 00:00:11.34] Delete Docker container 067ba1e698de
[testcontainers.org 00:00:11.35] Docker container 498df666c4b2 ready
  Passed Synaxis.InferenceGateway.Application.Tests.Identity.IdentityServiceTests.AssignUserToOrganizationAsync_WithValidData_CreatesMembership [205 ms]
[testcontainers.org 00:00:11.47] Delete Docker container 498df666c4b2
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithToolCallEmptyArguments_MapsNullArguments [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToChatMessages_WithToolCallNullFunction_SkipsFunction [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithStringStopSequence_MapsToList [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestMapperTests.ToCanonicalRequest_WithNullMessages_ThrowsArgumentNullException [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.HealthCheckUnitTests.ConfigHealthCheck_ReturnsUnhealthy_WhenAliasCandidateMissing [19 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.HealthCheckUnitTests.ConfigHealthCheck_ReturnsHealthy_WhenConfigIsValid [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.HealthCheckUnitTests.ProviderConnectivityHealthCheck_ReturnsHealthy_WhenAllProvidersDisabled [12 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.RedisInfrastructureIntegrationTests.Expiration_TtlRespected [3 s]
  Standard Output Messages:
 Redis started on 127.0.0.1:43244


[testcontainers.org 00:00:03.35] Start Docker container 60056cee5c35
[08:08:20 INF] Starting web host
[testcontainers.org 00:00:11.61] Docker container c69d028c1374 created
[testcontainers.org 00:00:11.62] Start Docker container c69d028c1374
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_HandlesMixedLineEndings [9 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_PreservesOtherHosts [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneStoreTests.GetGlobalModelAsync_ReturnsModelWithProviderModels_WhenExists [595 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.GhConfigWriterTests.WriteTokenAsync_CreatesNewFile_WhenFileDoesNotExist [129 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.Google.GoogleAuthStrategyTests.CompleteFlowAsync_InvalidTokenResponse_HandlesError [112 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.Google.GoogleAuthStrategyTests.RefreshTokenAsync_RefreshesTokens [21 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneStoreTests.GetAliasAsync_UsesNoTracking_Performance [188 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneStoreTests.GetGlobalModelAsync_ReturnsNull_WhenNotFound [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.HealthCheckUnitTests.ProviderConnectivityHealthCheck_ReturnsHealthy_WhenHttpEndpointReachable [170 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelsAndHealthEndpointTests.Models_ReturnsDefaultCanonicalAndAliases [12 s]
  Passed Synaxis.InferenceGateway.IntegrationTests.HealthCheckUnitTests.ConfigHealthCheck_ReturnsUnhealthy_WhenNoProviders [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.HealthCheckUnitTests.ConfigHealthCheck_ReturnsUnhealthy_WhenCanonicalModelProviderMissing [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.HealthCheckUnitTests.ProviderConnectivityHealthCheck_ReturnsUnhealthy_WhenEndpointMissing [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.SemanticCacheIntegrationTests.CacheAndRetrieve_DifferentModels_NotReturned [83 ms]
  Standard Output Messages:
 Qdrant started on 127.0.0.1:43251
 Stored cache entry: session=session-models, model=gpt-4, temp=0.7


  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_OpenAIFormat_ReturnsOpenAICompatibleError [192 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneStoreTests.GetAliasAsync_ReturnsAlias_WhenExists [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.Google.GoogleAuthStrategyTests.FetchUserEmailAsync_InvalidResponse_ReturnsEmptyString [46 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.Google.GoogleAuthStrategyTests.InitiateFlowAsync_GeneratesAuthorizationUrlWithPkce [3 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.Google.GoogleAuthStrategyTests.RefreshTokenAsync_NetworkFailure_ThrowsInvalidOperationException [4 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.Google.GoogleAuthStrategyTests.CompleteFlowAsync_ExchangesCode_FetchesUserInfo_EmitsEvent [104 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithCommonWeakSecrets_ReturnsWarning(weakSecret: "secret123456789012345678901234567") [9 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithCommonWeakSecrets_ReturnsWarning(weakSecret: "test1234567890123456789012345678") [1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithCommonWeakSecrets_ReturnsWarning(weakSecret: "admin123456789012345678901234567") [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithCommonWeakSecrets_ReturnsWarning(weakSecret: "password123456789012345678901234") [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithShortJwtSecret_ReturnsError [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithMissingJwtSecret_ReturnsError [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithMultipleErrors_ReturnsAllErrors [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithDefaultSecretInProduction_ReturnsError [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithDefaultSecretInDevelopment_ReturnsWarning [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithValidConfiguration_ReturnsSuccess [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithNoRateLimitingInProduction_ReturnsWarning [1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithWeakJwtSecret_ReturnsWarning [< 1 ms]
[08:08:20 INF] Received HTTP response headers after 476.1687ms - 401
[08:08:20 INF] End processing HTTP request after 481.512ms - 401
[08:08:20 WRN] Model discovery call to https://models.inference.ai.azure.com/v1/models returned Unauthorized
[08:08:20 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider GitHubModels
[08:08:20 INF] Start processing HTTP request GET https://api.groq.com/openai/v1/models
[08:08:20 INF] Sending HTTP request GET https://api.groq.com/openai/v1/models
[testcontainers.org 00:00:11.82] Wait for Docker container c69d028c1374 to complete readiness checks
[testcontainers.org 00:00:11.83] Execute "redis-cli ping" at Docker container c69d028c1374
[testcontainers.org 00:00:11.84] Docker container 5e96246a31a7 created
[testcontainers.org 00:00:11.84] Start Docker container 5e96246a31a7
[testcontainers.org 00:00:03.69] Wait for Docker container 60056cee5c35 to complete readiness checks
[testcontainers.org 00:00:11.89] Docker container c69d028c1374 ready
[testcontainers.org 00:00:03.70] Docker container 60056cee5c35 ready
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.SecurityConfigurationValidatorTests.Validate_WithWildcardCorsInProduction_ReturnsError [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.DecryptAsync_WithValidEncryptedData_ReturnsOriginalPlaintext [165 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.Encrypt_Decrypt_Roundtrip_WorksCorrectly [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.Constructor_WithEmptyMasterKey_ThrowsInvalidOperationException [10 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneStoreTests.GetComboAsync_ReturnsCombo_WhenExists [355 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneStoreTests.GetAliasAsync_ReturnsNull_WhenNotFound [43 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneStoreTests.GetGlobalModelAsync_IncludesRelatedEntities [34 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.ControlPlane.ControlPlaneStoreTests.GetComboAsync_ReturnsNull_WhenNotFound [28 ms]
[testcontainers.org 00:00:12.11] Wait for Docker container 5e96246a31a7 to complete readiness checks
[testcontainers.org 00:00:12.13] Docker container 5e96246a31a7 ready
CloudflareChatClient sending request. Url: https://api.cloudflare.com/client/v4/accounts/test-account-id/ai/run/@cf/meta/llama-3.1-8b-instruct ModelId: @cf/meta/llama-3.1-8b-instruct
CloudflareChatClient sending request. Url: https://api.cloudflare.com/client/v4/accounts/test-account-id/ai/run/@cf/meta/llama-3.1-8b-instruct ModelId: @cf/meta/llama-3.1-8b-instruct
CloudflareChatClient sending request. Url: https://api.cloudflare.com/client/v4/accounts/test-account-id/ai/run/@cf/meta/llama-3.1-8b-instruct ModelId: @cf/meta/llama-3.1-8b-instruct
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_StreamingRequestWithStreamQuery_ReturnsSSEFormatError [27 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_ResponseHasStarted_ThrowsException [107 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_AggregateException_WithHttpRequestException_Returns502WithDetails [210 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_WithoutRequestId_GeneratesRequestIdFromTraceIdentifier [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_StreamRequest_HandlesStreamingError [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_AggregateException_WithClientErrorsOnly_Returns400 [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_LogsStructuredErrorWithRequestId [42 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_AggregateException_WithMultipleExceptions_ReturnsAppropriateStatusCode [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_WithRequestId_IncludesRequestIdInError [5 ms]
CloudflareChatClient sending request. Url: https://api.cloudflare.com/client/v4/accounts/test-account-id/ai/run/@cf/meta/llama-3.1-8b-instruct ModelId: @cf/meta/llama-3.1-8b-instruct
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetResponseAsync_ApiError_ThrowsHttpRequestException [20 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.Constructor_SetsAuthorizationHeaderAndMetadata [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetResponseAsync_EmptyResponse_HandlesGracefully [13 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetResponseAsync_WithOptions_IncludesOptionsInRequest [10 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetStreamingResponseAsync_InvalidJson_SkipsInvalidLines [16 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.Constructor_WithoutLogger_HandlesNullLogger [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetStreamingResponseAsync_NonDataLines_SkipsNonDataLines [5 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.Metadata_ReturnsCorrectProviderName [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetResponseAsync_Success_ReturnsValidChatResponse [5 ms]
[testcontainers.org 00:00:12.18] Delete Docker container 5e96246a31a7
CloudflareChatClient sending request. Url: https://api.cloudflare.com/client/v4/accounts/test-account-id/ai/run/@cf/meta/llama-3.1-8b-instruct ModelId: @cf/meta/llama-3.1-8b-instruct
[testcontainers.org 00:00:12.23] Delete Docker container c69d028c1374
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetStreamingResponseAsync_Success_YieldsMultipleUpdates [7 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetService_ReturnsNull [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetStreamingResponseAsync_EmptyLines_SkipsEmptyLines [11 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.GetResponseAsync_MultipleMessages_HandlesAllMessageTypes [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.Dispose_DisposesHttpClient [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.CloudflareChatClientTests.Constructor_WithLogger_SetsLogger [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ValidateApiKeyAsync_WithInvalidKey_ShouldReturnFailure [14 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.RotateKeyAsync_WithValidTenant_UpdatesEncryptedTokens [301 ms]
[08:08:21 INF] Received HTTP response headers after 547.4349ms - 401
[08:08:21 INF] End processing HTTP request after 557.9028ms - 401
[08:08:21 WRN] Model discovery call to https://api.groq.com/openai/v1/models returned Unauthorized
[08:08:21 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider Groq
[08:08:21 INF] Start processing HTTP request GET https://router.huggingface.co/v1/models
[08:08:21 INF] Sending HTTP request GET https://router.huggingface.co/v1/models
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.RotateKeyAsync_WithInvalidKeyLength_ThrowsArgumentException [7 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.Constructor_WithNullConfig_ThrowsNullReferenceException [3 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.DecryptAsync_WithInvalidCiphertext_ThrowsArgumentException [6 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.Constructor_WithWhitespaceMasterKey_ThrowsInvalidOperationException [5 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.EncryptAsync_WithValidTenant_ReturnsEncryptedData [2 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.EncryptAsync_WithNonExistentTenant_ThrowsArgumentException [22 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.Encrypt_Produces_Different_Output_For_Same_Input [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.RotateKeyAsync_WithNonExistentTenant_ThrowsArgumentException [3 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.DecryptAsync_WithNonExistentTenant_ThrowsArgumentException [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_WithRequestId_IncludesRequestIdInErrorResponse [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_AggregateException_LogsStructuredErrorWithInnerExceptionCount [27 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_InvalidModelException_Returns404 [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_ArgumentException_Returns400WithInvalidRequestError [38 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_StreamingRequest_ReturnsSSEFormatError [50 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.SemanticCacheIntegrationTests.CacheAndRetrieve_SimilarQuery_ReturnsSemanticHit [37 ms]
  Standard Output Messages:
 Qdrant started on 127.0.0.1:43255
 Stored cache entry: session=session-similar, model=gpt-4, temp=0.7


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.RedisInfrastructureIntegrationTests.ConversationStore_AppendAndRetrieve [290 ms]
  Standard Output Messages:
 Redis started on 127.0.0.1:43254


[testcontainers.org 00:00:12.48] Docker container 8a0ecdc58486 created
[testcontainers.org 00:00:12.49] Start Docker container 8a0ecdc58486
[testcontainers.org 00:00:12.53] Docker container ce86b9bcdd6d created
[testcontainers.org 00:00:12.55] Start Docker container ce86b9bcdd6d
[08:08:21 INF] Received HTTP response headers after 363.1894ms - 200
[08:08:21 INF] End processing HTTP request after 363.3531ms - 200
[testcontainers.org 00:00:12.69] Wait for Docker container 8a0ecdc58486 to complete readiness checks
[testcontainers.org 00:00:12.73] Docker container 8a0ecdc58486 ready
[testcontainers.org 00:00:12.74] Wait for Docker container ce86b9bcdd6d to complete readiness checks
[testcontainers.org 00:00:12.75] Execute "redis-cli ping" at Docker container ce86b9bcdd6d
[08:08:21 ERR] Error discovering models for provider HuggingFace
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'IServiceProvider'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ThrowHelper.ThrowObjectDisposedException()
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.ScopedLoggerFactory.Create(IServiceProvider internalServiceProvider, IDbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_0(IServiceProvider p)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Synaxis.InferenceGateway.Infrastructure.ControlPlane.ControlPlaneDbContext.get_GlobalModels() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/ControlPlane/ControlPlaneDbContext.cs:line 106
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.EnsureGlobalModelExistsAsync(String modelId, ControlPlaneDbContext db) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 206
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessDiscoveredModelsAsync(String providerKey, List`1 discoveredModels, ControlPlaneDbContext db) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 195
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessProviderAsync(String providerKey, ProviderConfig providerCfg, ControlPlaneDbContext db, IOpenAiModelDiscoveryClient discovery) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 154
[08:08:21 INF] Start processing HTTP request GET https://api.hyperbolic.xyz/v1/models
[08:08:21 INF] Sending HTTP request GET https://api.hyperbolic.xyz/v1/models
[testcontainers.org 00:00:12.80] Docker container ce86b9bcdd6d ready
[testcontainers.org 00:00:12.82] Delete Docker container 8a0ecdc58486
[testcontainers.org 00:00:12.84] Docker container 8947ed041088 created
[testcontainers.org 00:00:12.84] Docker container 98de3aea3c41 created
[testcontainers.org 00:00:12.85] Start Docker container 98de3aea3c41
[testcontainers.org 00:00:12.88] Start Docker container 8947ed041088
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.User_HasEmailValidationConfigured [5 s]
[testcontainers.org 00:00:13.07] Wait for Docker container 98de3aea3c41 to complete readiness checks
[testcontainers.org 00:00:13.08] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 98de3aea3c41
[testcontainers.org 00:00:13.10] Delete Docker container ce86b9bcdd6d
[testcontainers.org 00:00:13.22] Wait for Docker container 8947ed041088 to complete readiness checks
[testcontainers.org 00:00:13.25] Execute "redis-cli ping" at Docker container 8947ed041088
[testcontainers.org 00:00:13.34] Docker container 8947ed041088 ready
[08:08:22 INF] Security configuration validation passed successfully
[08:08:22 INF] Received HTTP response headers after 744.0324ms - 401
[08:08:22 INF] End processing HTTP request after 747.4873ms - 401
[08:08:22 WRN] Model discovery call to https://api.hyperbolic.xyz/v1/models returned Unauthorized
[08:08:22 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider Hyperbolic
[08:08:22 INF] Start processing HTTP request GET https://integrate.api.nvidia.com/v1/models
[08:08:22 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:08:22 INF] Sending HTTP request GET https://integrate.api.nvidia.com/v1/models
[08:08:22 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:22 WRN] Using in-memory database for ControlPlane
[08:08:22 ERR] An error occurred while migrating the database.
System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.Infrastructure.Extensions.InfrastructureExtensions.InitializeDatabaseAsync(IHost host) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Extensions/InfrastructureExtensions.cs:line 481
[08:08:22 WRN] Database initialization failed, continuing without migrations. Some features may be unavailable.
System.InvalidOperationException: Database migration failed. See inner exception for details.
 ---> System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.Infrastructure.Extensions.InfrastructureExtensions.InitializeDatabaseAsync(IHost host) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Extensions/InfrastructureExtensions.cs:line 481
   --- End of inner exception stack trace ---
   at Synaxis.InferenceGateway.Infrastructure.Extensions.InfrastructureExtensions.InitializeDatabaseAsync(IHost host) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Extensions/InfrastructureExtensions.cs:line 487
   at Program.<Main>$(String[] args) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Program.cs:line 402
[testcontainers.org 00:00:13.56] Docker container 429959b17998 created
[testcontainers.org 00:00:13.57] Start Docker container 429959b17998
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_NoException_CallsNextMiddleware [181 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.OpenAIErrorHandlerMiddlewareTests.InvokeAsync_GenericException_Returns500WithServerError [48 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.SemanticCacheIntegrationTests.CacheAndRetrieve_DifferentSessions_Isolated [50 ms]
  Standard Output Messages:
 Qdrant started on 127.0.0.1:43257
 Stored cache entry: session=session-1, model=gpt-4, temp=0.7


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.RedisInfrastructureIntegrationTests.DeduplicationService_LocksCorrectly [205 ms]
  Standard Output Messages:
 Redis started on 127.0.0.1:43259


  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithChunkedBodyExceedingDefaultLimit_ThrowsBadHttpRequestException [554 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithEmptyBody_ReturnsNull [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithMultipleMessages_ReturnsAllMessages [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithZeroTemperature_ParsesCorrectly [8 ms]
[08:08:22 INF] Received HTTP response headers after 137.6925ms - 200
[08:08:22 INF] End processing HTTP request after 151.1296ms - 200
[08:08:22 ERR] Error discovering models for provider NVIDIA
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'IServiceProvider'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ThrowHelper.ThrowObjectDisposedException()
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.ScopedLoggerFactory.Create(IServiceProvider internalServiceProvider, IDbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_0(IServiceProvider p)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Synaxis.InferenceGateway.Infrastructure.ControlPlane.ControlPlaneDbContext.get_GlobalModels() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/ControlPlane/ControlPlaneDbContext.cs:line 106
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.EnsureGlobalModelExistsAsync(String modelId, ControlPlaneDbContext db) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 206
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessDiscoveredModelsAsync(String providerKey, List`1 discoveredModels, ControlPlaneDbContext db) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 195
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessProviderAsync(String providerKey, ProviderConfig providerCfg, ControlPlaneDbContext db, IOpenAiModelDiscoveryClient discovery) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 154
[08:08:22 INF] Start processing HTTP request GET https://openrouter.ai/api/v1/models
[08:08:22 INF] Sending HTTP request GET https://openrouter.ai/api/v1/models
[08:08:22 INF] Received HTTP response headers after 98.0307ms - 200
[08:08:22 INF] End processing HTTP request after 101.7692ms - 200
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithNullContentLength_ReadsBodyInChunks [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithCaseInsensitiveProperties_ThrowsBadHttpRequestException [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithToolMessage_ReturnsRequest [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithMessageName_ReturnsRequestWithName [6 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithContentLengthExceedingDefaultLimit_ThrowsBadHttpRequestException [91 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithAssistantMessage_ReturnsRequest [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithWhitespaceBody_ReturnsNull [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithStreamingDisabled_ReturnsRequestWithStreamFalse [18 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithEmptyMessagesArray_ThrowsBadHttpRequestException [1 ms]
[08:08:22 ERR] Error discovering models for provider OpenRouter
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'IServiceProvider'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ThrowHelper.ThrowObjectDisposedException()
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.ScopedLoggerFactory.Create(IServiceProvider internalServiceProvider, IDbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_0(IServiceProvider p)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Synaxis.InferenceGateway.Infrastructure.ControlPlane.ControlPlaneDbContext.get_GlobalModels() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/ControlPlane/ControlPlaneDbContext.cs:line 106
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.EnsureGlobalModelExistsAsync(String modelId, ControlPlaneDbContext db) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 206
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessDiscoveredModelsAsync(String providerKey, List`1 discoveredModels, ControlPlaneDbContext db) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 195
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessProviderAsync(String providerKey, ProviderConfig providerCfg, ControlPlaneDbContext db, IOpenAiModelDiscoveryClient discovery) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 154
[08:08:22 ERR] Error discovering models for provider Pollinations
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at Synaxis.InferenceGateway.Infrastructure.External.OpenAi.OpenAiModelDiscoveryClient.GetModelsAsync(String baseUrl, String apiKey, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/External/OpenAi/OpenAiModelDiscoveryClient.cs:line 47
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessProviderAsync(String providerKey, ProviderConfig providerCfg, ControlPlaneDbContext db, IOpenAiModelDiscoveryClient discovery) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 151
[08:08:22 INF] Start processing HTTP request GET https://api.sambanova.ai/v1/models
[08:08:22 INF] Sending HTTP request GET https://api.sambanova.ai/v1/models
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.Constructor_WithNullMasterKey_ThrowsInvalidOperationException [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.AesGcmTokenVaultTests.Constructor_WithNullDbContext_DoesNotThrowException [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithSystemMessage_ReturnsRequest [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithIncompleteJson_ThrowsBadHttpRequestException [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WhenConfigurationServiceThrowsException_UsesDefaultLimit [16 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_AfterReading_BodyPositionIsReset [18 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithArrayStopSequences_ParsesCorrectly [13 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithVeryLongContent_ReadsSuccessfully [39 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithNestedJsonInContent_ParsesCorrectly [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithResponseFormat_ReturnsRequestWithResponseFormat [14 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithStreamingEnabled_ReturnsRequestWithStreamTrue [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithValidJsonAndContentLength_ReturnsRequest [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithNullContext_ReturnsNull [19 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithBodyExceedingCustomLimit_ThrowsBadHttpRequestException [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithContentLengthWithinDefaultLimit_Succeeds [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithInvalidJson_ThrowsBadHttpRequestException [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithAllOptions_ReturnsCompleteRequest [20 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithValidJson_ReturnsRequest [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithZeroMaxTokens_ThrowsBadHttpRequestException [29 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WhenConfigurationOptionsIsNull_UsesDefaultLimit [1 ms]
[testcontainers.org 00:00:14.06] Wait for Docker container 429959b17998 to complete readiness checks
[testcontainers.org 00:00:14.06] Execute "redis-cli ping" at Docker container 429959b17998
[08:08:23 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[testcontainers.org 00:00:14.30] Docker container 429959b17998 ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithMalformedJson_ThrowsBadHttpRequestException [11 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithUnicodeContent_PreservesCharacters [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithCustomMaxBodySizeFromConfiguration_UsesConfiguredLimit [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithMessagesAsNull_ThrowsBadHttpRequestException [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithToolChoice_ParsesCorrectly [13 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithEmptyJsonObject_ReturnsEmptyRequest [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Helpers.OpenAIRequestParserTests.ParseAsync_WithTools_ReturnsRequestWithTools [27 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.RetryPolicy_ShouldNotRetryOnClientError(statusCode: 400) [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.RetryPolicy_ShouldNotRetryOnClientError(statusCode: 200) [< 1 ms]
[testcontainers.org 00:00:06.09] Docker container f7de0667eb9d created
[testcontainers.org 00:00:06.10] Start Docker container f7de0667eb9d
[testcontainers.org 00:00:06.12] Docker container 95465d02ab50 created
[testcontainers.org 00:00:06.12] Start Docker container 95465d02ab50
[testcontainers.org 00:00:14.35] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 98de3aea3c41
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.TeamBudget_NegativeValue_Invalid [3 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.DataIntegrityConstraintTests.Organization_HasSlugValidationConfigured [173 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.InitialMigrationTests.Organization_Slug_HasUniqueIndex [6 s]
  Passed Synaxis.Infrastructure.Tests.Migrations.InitialMigrationTests.Migration_CanBeApplied_ToEmptyDatabase [17 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.InitialMigrationTests.Migration_HasProperForeignKeyRelationships [12 ms]
[08:08:23 INF] Received HTTP response headers after 723.2384ms - 200
[08:08:23 INF] End processing HTTP request after 723.4312ms - 200
[08:08:23 ERR] Error discovering models for provider SambaNova
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'IServiceProvider'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ThrowHelper.ThrowObjectDisposedException()
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.ScopedLoggerFactory.Create(IServiceProvider internalServiceProvider, IDbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_0(IServiceProvider p)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Synaxis.InferenceGateway.Infrastructure.ControlPlane.ControlPlaneDbContext.get_GlobalModels() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/ControlPlane/ControlPlaneDbContext.cs:line 106
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.EnsureGlobalModelExistsAsync(String modelId, ControlPlaneDbContext db) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 206
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessDiscoveredModelsAsync(String providerKey, List`1 discoveredModels, ControlPlaneDbContext db) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 195
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessProviderAsync(String providerKey, ProviderConfig providerCfg, ControlPlaneDbContext db, IOpenAiModelDiscoveryClient discovery) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 154
[08:08:23 INF] Start processing HTTP request GET https://api.siliconflow.cn/v1/models
[08:08:23 INF] Sending HTTP request GET https://api.siliconflow.cn/v1/models
[testcontainers.org 00:00:06.43] Wait for Docker container f7de0667eb9d to complete readiness checks
[testcontainers.org 00:00:06.43] Wait for Docker container 95465d02ab50 to complete readiness checks
[testcontainers.org 00:00:06.46] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 95465d02ab50
[testcontainers.org 00:00:06.46] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container f7de0667eb9d
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.RetryPolicy_ShouldNotRetryOnClientError(statusCode: 404) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.RetryPolicy_ShouldNotRetryOnClientError(statusCode: 401) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.RetryPolicy_ShouldRetryOnStatusCode(statusCode: 504) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.RetryPolicy_ShouldRetryOnStatusCode(statusCode: 503) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.RetryPolicy_ShouldRetryOnStatusCode(statusCode: 502) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.RetryPolicy_ShouldRetryOnStatusCode(statusCode: 429) [4 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.ExecuteAsync_OnlyRetriesRetryableExceptions [11 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.ExecuteAsync_ZeroMaxRetries_DoesNotRetry [19 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.ExecuteAsync_MaxRetriesExceeded_ThrowsException [51 ms]
[08:08:23 INF] Saved 1479 entities to in-memory store.
[08:08:23 INF] ModelsDevSyncJob: synced 2512 models
[08:08:23 INF] ModelsDevSyncJob: Successfully upserted 2512 global models
[08:08:23 INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
[08:08:23 INF] Quartz Scheduler created
[08:08:23 INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
[08:08:23 INF] RAMJobStore initialized.
[08:08:23 INF] Quartz Scheduler 3.15.1.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
[08:08:23 INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
[08:08:23 INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
[08:08:23 INF] Adding 7 jobs, 7 triggers.
[08:08:23 INF] Adding job: DEFAULT.ModelsDevSyncJob
[08:08:23 INF] Adding job: DEFAULT.ProviderDiscoveryJob
[08:08:23 INF] Adding job: DEFAULT.HealthMonitoringJob
[08:08:23 INF] Adding job: DEFAULT.CostOptimizationJob
[08:08:23 INF] Adding job: DEFAULT.ModelDiscoveryJob
[08:08:23 INF] Adding job: DEFAULT.SecurityAuditJob
[08:08:23 INF] Adding job: DEFAULT.AuditLogPartitionJob
[testcontainers.org 00:00:15.07] Delete Docker container 429959b17998
[testcontainers.org 00:00:15.39] Docker container ca0e091cda0a created
[testcontainers.org 00:00:15.39] Start Docker container ca0e091cda0a
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ListApiKeysAsync_ShouldReturnAllActiveKeys [2 s]
[08:08:24 INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
[08:08:24 INF] Application started. Press Ctrl+C to shut down.
[08:08:24 INF] Hosting environment: Development
[08:08:24 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:08:24 INF] Request starting HTTP/1.1 GET http://localhost/health/readiness - null null
[08:08:24 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:24 WRN] Using in-memory database for ControlPlane
[08:08:24 INF] Start processing HTTP request GET https://stablehorde.net/api/v2/v1/models
[08:08:24 INF] Sending HTTP request GET https://stablehorde.net/api/v2/v1/models
[testcontainers.org 00:00:15.49] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 98de3aea3c41
[08:08:24 INF] [HealthMonitoring][96e25d22] Starting health check
[08:08:24 INF] Start processing HTTP request GET https://models.dev/api.json
[08:08:24 INF] Sending HTTP request GET https://models.dev/api.json
[08:08:24 INF] [CostOptimization][cd3a155a] Starting ULTRA MISER MODE optimization
[08:08:24 INF] [SecurityAudit][cc4e48ae] Starting security audit
[08:08:24 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:24 WRN] Using in-memory database for ControlPlane
[08:08:24 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:24 WRN] Using in-memory database for ControlPlane
[08:08:24 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:24 WRN] Using in-memory database for ControlPlane
[08:08:24 INF] [CostOptimization][cd3a155a] Found 0 active routes
[08:08:24 INF] [CostOptimization][cd3a155a] Completed: Optimized=0, Total Savings=$0.0000
[08:08:24 ERR] [HealthMonitoring][96e25d22] Job failed
System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQueryRaw[TResult](DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQuery[TResult](DatabaseFacade databaseFacade, FormattableString sql)
   at Synaxis.InferenceGateway.Infrastructure.Jobs.HealthMonitoringAgent.GetEnabledProvidersAsync(ControlPlaneDbContext db, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/HealthMonitoringAgent.cs:line 98
   at Synaxis.InferenceGateway.Infrastructure.Jobs.HealthMonitoringAgent.Execute(IJobExecutionContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/HealthMonitoringAgent.cs:line 52
[08:08:24 ERR] [SecurityAudit][cc4e48ae] Job failed
System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQueryRaw[TResult](DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQuery[TResult](DatabaseFacade databaseFacade, FormattableString sql)
   at Synaxis.InferenceGateway.Infrastructure.Jobs.SecurityAuditAgent.CheckMissingRateLimitsAsync(ControlPlaneDbContext db, List`1 issues, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/SecurityAuditAgent.cs:line 147
   at Synaxis.InferenceGateway.Infrastructure.Jobs.SecurityAuditAgent.Execute(IJobExecutionContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/SecurityAuditAgent.cs:line 59
[08:08:24 INF] Received HTTP response headers after 52.1377ms - 200
[08:08:24 INF] End processing HTTP request after 55.3046ms - 200
[08:08:24 INF] Received HTTP response headers after 119.711ms - 404
[08:08:24 INF] End processing HTTP request after 120.2066ms - 404
[08:08:24 WRN] Model discovery call to https://stablehorde.net/api/v2/v1/models returned NotFound
[08:08:24 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider AiHorde
[08:08:24 WRN] No effective base URL could be determined for provider Cloudflare
[08:08:24 INF] Start processing HTTP request GET https://api.cohere.com/v2/v1/models
[08:08:24 INF] Sending HTTP request GET https://api.cohere.com/v2/v1/models
[08:08:24 WRN] Failed to determine the https port for redirect.
[08:08:24 INF] Executing endpoint 'Health checks'
[testcontainers.org 00:00:15.72] Docker container 98de3aea3c41 ready
[08:08:24 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:24 WRN] Using in-memory database for ControlPlane
[08:08:24 INF] Received HTTP response headers after 181.953ms - 401
[08:08:24 INF] End processing HTTP request after 186.1497ms - 401
[08:08:24 WRN] Model discovery call to https://api.cohere.com/v2/v1/models returned Unauthorized
[08:08:24 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider Cohere
[08:08:24 ERR] Error discovering models for provider DuckDuckGo
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at Synaxis.InferenceGateway.Infrastructure.External.OpenAi.OpenAiModelDiscoveryClient.GetModelsAsync(String baseUrl, String apiKey, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/External/OpenAi/OpenAiModelDiscoveryClient.cs:line 47
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessProviderAsync(String providerKey, ProviderConfig providerCfg, ControlPlaneDbContext db, IOpenAiModelDiscoveryClient discovery) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 151
[08:08:24 WRN] No effective base URL could be determined for provider Gemini
[08:08:24 WRN] No effective base URL could be determined for provider GitHubCopilot
[08:08:24 INF] Start processing HTTP request GET https://models.inference.ai.azure.com/v1/models
[08:08:24 INF] Sending HTTP request GET https://models.inference.ai.azure.com/v1/models
[08:08:24 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:08:24 WRN] Using in-memory database for ControlPlane
[08:08:24 WRN] Provider AiHorde is enabled but has no endpoint and no default for type AiHorde.
[08:08:24 ERR] Provider AiHorde health check failed due to missing endpoint.
[testcontainers.org 00:00:15.87] Wait for Docker container ca0e091cda0a to complete readiness checks
[testcontainers.org 00:00:15.88] Execute "redis-cli ping" at Docker container ca0e091cda0a
[08:08:24 ERR] Health check config with status Unhealthy completed after 0.5057ms with message 'Alias 'gemma-2-9b' references unknown canonical model 'hf/gemma-2-9b'.'
[testcontainers.org 00:00:15.94] Docker container ca0e091cda0a ready
[MOCK] POST http://localhost/openai/v1/chat/completions
[MOCK] POST http://localhost/openai/v1/chat/completions
[MOCK] GET http://localhost/openai/v1/models
  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.RedisInfrastructureIntegrationTests.SessionStore_PersistAndRetrieve [306 ms]
  Standard Output Messages:
 Redis started on 127.0.0.1:43262


  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.ExecuteAsync_RespectsMaxRetriesParameter [593 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.ExecuteAsync_RetriesOnFailure [99 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.ExecuteAsync_SucceedsOnFirstAttempt [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.Security.RetryPolicyTests.ExecuteAsync_IncreasesDelayWithBackoff [440 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.MockProviderTests.MockSmokeTestHelper_CreateConfiguration [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.MockProviderTests.MockHttpHandler_ShouldReturnSuccessfulChatCompletion [224 ms]
  Standard Output Messages:
 Testing mock chat completion...
 Status Code: OK
 Response: {"Id":"chatcmpl-21acb6bc","Object":"chat.completion","Created":1770707304,"Model":"llama-3.1-70b-versatile","Choices":[{"Index":0,"Message":{"Role":"assistant","Content":"OK"},"FinishReason":"stop"}],"Usage":{"PromptTokens":12,"CompletionTokens":2,"TotalTokens":14}}


  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.MockProviderTests.MockHttpHandler_ShouldHandleStreaming [6 ms]
  Standard Output Messages:
 Testing mock streaming response...
 Status Code: OK
 Content-Type: text/event-stream; charset=utf-8


  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.GetUserTeamsAsync_MultipleTeams_ReturnsAllTeams [5 s]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.GetUserTeamsAsync_WithPagination_ReturnsCorrectPage [25 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.InitialMigrationTests.Migration_CreatesAllRequiredTables [1 s]
[testcontainers.org 00:00:16.06] Delete Docker container ca0e091cda0a
[testcontainers.org 00:00:07.85] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 95465d02ab50
[MOCK] POST http://localhost/openai/v1/completions
[testcontainers.org 00:00:07.95] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container f7de0667eb9d
[testcontainers.org 00:00:08.04] Docker container f7de0667eb9d ready
[08:08:25 INF] Received HTTP response headers after 460.6314ms - 401
[08:08:25 INF] End processing HTTP request after 460.8073ms - 401
[08:08:25 WRN] Model discovery call to https://models.inference.ai.azure.com/v1/models returned Unauthorized
[08:08:25 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider GitHubModels
[08:08:25 INF] Start processing HTTP request GET https://api.groq.com/openai/v1/models
[08:08:25 INF] Sending HTTP request GET https://api.groq.com/openai/v1/models
[08:08:25 INF] Received HTTP response headers after 1758.7475ms - 401
[08:08:25 INF] End processing HTTP request after 1758.9378ms - 401
[08:08:25 WRN] Model discovery call to https://api.siliconflow.cn/v1/models returned Unauthorized
[08:08:25 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider SiliconFlow
[08:08:25 ERR] Error discovering models for provider TestProvider
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at Synaxis.InferenceGateway.Infrastructure.External.OpenAi.OpenAiModelDiscoveryClient.GetModelsAsync(String baseUrl, String apiKey, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/External/OpenAi/OpenAiModelDiscoveryClient.cs:line 47
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessProviderAsync(String providerKey, ProviderConfig providerCfg, ControlPlaneDbContext db, IOpenAiModelDiscoveryClient discovery) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 151
[08:08:25 INF] Start processing HTTP request GET https://open.bigmodel.cn/api/paas/v4/v1/models
[08:08:25 INF] Sending HTTP request GET https://open.bigmodel.cn/api/paas/v4/v1/models
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.MockProviderTests.MockSmokeTestHelper_CreateMockClient [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.MockProviderTests.MockHttpHandler_ShouldReturnModelsList [8 ms]
  Standard Output Messages:
 Testing mock models endpoint...
 Status Code: OK
 Response: {"object":"list","data":[{"Id":"llama-3.1-70b-versatile","Object":"model","Created":1770707305,"OwnedBy":"Groq"},{"Id":"deepseek-chat","Object":"model","Created":1770707305,"OwnedBy":"DeepSeek"},{"Id":"gpt-4o","Object":"model","Created":1770707305,"OwnedBy":"OpenAI"},{"Id":"claude-3.5-sonnet","Object":"model","Created":1770707305,"OwnedBy":"Anthropic"}]}


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.RedisInfrastructureIntegrationTests.ConnectionFailure_GracefulDegradation [75 ms]
  Standard Output Messages:
 Redis started on 127.0.0.1:43265
 Connection failure handling verified - connection configured with timeouts and retry logic


  Passed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.Constructor_ShouldThrowArgumentNullException_ForNullDbContext [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.MockProviderTests.MockHttpHandler_ShouldReturnSuccessfulLegacyCompletion [204 ms]
  Standard Output Messages:
 Testing mock legacy completion...
 Status Code: OK
 Response: {"Id":"cmpl-1ec15275","Object":"text_completion","Created":1770707305,"Model":"deepseek-chat","Choices":[{"Index":0,"Text":"OK","FinishReason":"stop"}],"Usage":{"PromptTokens":9,"CompletionTokens":1,"TotalTokens":10}}


  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "internal_error", expectedErrorType: "server_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "invalid_value", expectedErrorType: "invalid_request_error") [6 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "not_found", expectedErrorType: "not_found_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "provider_error", expectedErrorType: "api_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "authorization_error", expectedErrorType: "permission_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "rate_limit_exceeded", expectedErrorType: "rate_limit_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "invalid_request_error", expectedErrorType: "invalid_request_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "upstream_routing_failure", expectedErrorType: "api_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "service_unavailable", expectedErrorType: "api_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_ReturnsCorrectErrorType(errorCode: "authentication_error", expectedErrorType: "authentication_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_UnknownErrorCode_ReturnsDefaultMessage [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.AuthorizationError_HasCorrectValue [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "not_found") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "authentication_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "upstream_routing_failure") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "service_unavailable") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "invalid_value") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "internal_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "provider_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "authorization_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "rate_limit_exceeded") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetUserMessage_ReturnsNonEmptyMessage(errorCode: "invalid_request_error") [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_UnknownErrorCode_Returns500 [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "not_found", expectedStatusCode: 404) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "provider_error", expectedStatusCode: 502) [4 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "rate_limit_exceeded", expectedStatusCode: 429) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "internal_error", expectedStatusCode: 500) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "invalid_value", expectedStatusCode: 400) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "service_unavailable", expectedStatusCode: 503) [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "invalid_request_error", expectedStatusCode: 400) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "authentication_error", expectedStatusCode: 401) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "authorization_error", expectedStatusCode: 403) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetStatusCode_ReturnsCorrectStatusCode(errorCode: "upstream_routing_failure", expectedStatusCode: 502) [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.RateLimitExceeded_HasCorrectValue [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.ProviderError_HasCorrectValue [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.GetErrorType_UnknownErrorCode_ReturnsApiError [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.InvalidValue_HasCorrectValue [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.UpstreamRoutingFailure_HasCorrectValue [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.ServiceUnavailable_HasCorrectValue [< 1 ms]
[08:08:25 WRN] Provider DuckDuckGo is enabled but has no endpoint and no default for type DuckDuckGo.
[08:08:25 ERR] Provider DuckDuckGo health check failed due to missing endpoint.
[xUnit.net 00:00:19.42]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldGenerateUniqueId_ForEachLog [FAIL]
[xUnit.net 00:00:19.43]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.44]       Stack Trace:
[xUnit.net 00:00:19.44]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.45]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.45]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(185,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldGenerateUniqueId_ForEachLog()
[xUnit.net 00:00:19.45]         --- End of stack trace from previous location ---
[08:08:25 INF] Received HTTP response headers after 179.9624ms - 401
[08:08:25 INF] End processing HTTP request after 180.2608ms - 401
[08:08:25 WRN] Model discovery call to https://api.groq.com/openai/v1/models returned Unauthorized
[08:08:25 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider Groq
[08:08:25 INF] Start processing HTTP request GET https://router.huggingface.co/v1/models
[08:08:25 INF] Sending HTTP request GET https://router.huggingface.co/v1/models
[xUnit.net 00:00:19.52]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithComplexPayload [FAIL]
[xUnit.net 00:00:19.52]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.52]       Stack Trace:
[xUnit.net 00:00:19.52]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.52]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.52]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(161,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithComplexPayload()
[xUnit.net 00:00:19.52]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.52]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldUseUtcTime [FAIL]
[xUnit.net 00:00:19.52]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.52]       Stack Trace:
[xUnit.net 00:00:19.52]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.52]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.52]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(356,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldUseUtcTime()
[xUnit.net 00:00:19.52]         --- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.InvalidRequestError_HasCorrectValue [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.AuthenticationError_HasCorrectValue [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.NotFound_HasCorrectValue [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Errors.ErrorCodesTests.InternalError_HasCorrectValue [8 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldGenerateUniqueId_ForEachLog [28 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldGenerateUniqueId_ForEachLog() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 185
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminUiE2ETests.AdminShell_DisplaysNavigationMenu [9 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithComplexPayload [26 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithComplexPayload() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 161
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldUseUtcTime [4 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldUseUtcTime() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 356
--- End of stack trace from previous location ---
[xUnit.net 00:00:19.53]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithNullPayload [FAIL]
[xUnit.net 00:00:19.53]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.53]       Stack Trace:
[xUnit.net 00:00:19.53]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.53]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.53]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(107,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithNullPayload()
[xUnit.net 00:00:19.53]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.53]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithAllParameters [FAIL]
[xUnit.net 00:00:19.53]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.53]       Stack Trace:
[xUnit.net 00:00:19.53]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.53]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.53]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(57,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithAllParameters()
[xUnit.net 00:00:19.53]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.54]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithNullUserId [FAIL]
[xUnit.net 00:00:19.55]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.55]       Stack Trace:
[xUnit.net 00:00:19.55]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.55]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.55]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(83,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithNullUserId()
[xUnit.net 00:00:19.55]         --- End of stack trace from previous location ---
[08:08:25 WRN] Provider GitHubCopilot is enabled but has no endpoint and no default for type GitHubCopilot.
[08:08:25 ERR] Provider GitHubCopilot health check failed due to missing endpoint.
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminUiE2ETests.AdminLogout_RedirectsToLogin [5 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithNullPayload [30 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithNullPayload() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 107
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithAllParameters [11 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithAllParameters() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 57
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminUiE2ETests.ProviderConfig_DisplaysAllProviders [17 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminUiE2ETests.AdminLogin_ValidJWT_AllowsAccessToAdminPanel [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminUiE2ETests.HealthDashboard_DisplaysServiceHealth [3 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithNullUserId [57 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithNullUserId() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 83
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminUiE2ETests.AdminSettings_SavesChanges [1 ms]
[xUnit.net 00:00:19.58]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandlePayloadWithNullValues [FAIL]
[xUnit.net 00:00:19.58]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.58]       Stack Trace:
[xUnit.net 00:00:19.58]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.58]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.58]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(309,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandlePayloadWithNullValues()
[xUnit.net 00:00:19.58]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.59]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleLargePayloads [FAIL]
[xUnit.net 00:00:19.59]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.59]       Stack Trace:
[xUnit.net 00:00:19.59]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.59]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.59]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(336,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleLargePayloads()
[xUnit.net 00:00:19.59]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.60]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleMultipleTenants [FAIL]
[xUnit.net 00:00:19.60]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.60]       Stack Trace:
[xUnit.net 00:00:19.60]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.60]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.60]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(287,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleMultipleTenants()
[xUnit.net 00:00:19.60]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.60]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleSpecialCharactersInAction [FAIL]
[xUnit.net 00:00:19.60]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.60]       Stack Trace:
[xUnit.net 00:00:19.60]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.60]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.61]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(264,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleSpecialCharactersInAction()
[xUnit.net 00:00:19.61]         --- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandlePayloadWithNullValues [26 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandlePayloadWithNullValues() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 309
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminUiE2ETests.ProviderConfig_CanToggleProvider [5 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleLargePayloads [18 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleLargePayloads() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 336
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.Constructor_ShouldInitializeSuccessfully_WithValidDbContext [< 1 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleMultipleTenants [8 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleMultipleTenants() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 287
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminUiE2ETests.HealthDashboard_AutoRefreshes [31 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminUiE2ETests.UnauthenticatedAccess_RedirectsToLogin [< 1 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleSpecialCharactersInAction [29 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleSpecialCharactersInAction() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 264
--- End of stack trace from previous location ---
[xUnit.net 00:00:19.62]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleLongActionNames [FAIL]
[xUnit.net 00:00:19.62]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.62]       Stack Trace:
[xUnit.net 00:00:19.62]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.62]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.62]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(228,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleLongActionNames()
[xUnit.net 00:00:19.62]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.64]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldSetCorrectTimestamp [FAIL]
[xUnit.net 00:00:19.64]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.64]       Stack Trace:
[xUnit.net 00:00:19.64]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.64]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.64]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(206,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldSetCorrectTimestamp()
[xUnit.net 00:00:19.64]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.67]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldRespectCancellationToken [FAIL]
[xUnit.net 00:00:19.67]       Assert.Throws() Failure: Exception type was not an exact match
[xUnit.net 00:00:19.67]       Expected: typeof(System.Threading.Tasks.TaskCanceledException)
[xUnit.net 00:00:19.67]       Actual:   typeof(System.InvalidOperationException)
[xUnit.net 00:00:19.67]       ---- System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.67]       Stack Trace:
[xUnit.net 00:00:19.67]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(248,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldRespectCancellationToken()
[xUnit.net 00:00:19.67]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.67]         ----- Inner Stack Trace -----
[xUnit.net 00:00:19.67]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.68]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.68]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(249,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.<>c__DisplayClass12_0.<<LogAsync_ShouldRespectCancellationToken>b__0>d.MoveNext()
[xUnit.net 00:00:19.68]         --- End of stack trace from previous location ---
[xUnit.net 00:00:19.68]     Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithEmptyPayload [FAIL]
[08:08:25 INF] Received HTTP response headers after 231.1929ms - 200
[xUnit.net 00:00:19.68]       System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
[xUnit.net 00:00:19.68]       Stack Trace:
[xUnit.net 00:00:19.68]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
[xUnit.net 00:00:19.68]            at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
[xUnit.net 00:00:19.68]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs(131,0): at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithEmptyPayload()
[xUnit.net 00:00:19.68]         --- End of stack trace from previous location ---
[08:08:25 INF] End processing HTTP request after 235.4596ms - 200
[xUnit.net 00:00:19.70]     Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.ReceivesProviderHealthUpdate_WhenSubscribedToOrganization [SKIP]
[xUnit.net 00:00:19.70]       Integration test - requires running application
[xUnit.net 00:00:19.73]     Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.CannotConnect_WithoutToken [SKIP]
     Warning:
     The component "Fluent Assertions" is governed by the rules defined in the Xceed License Agreement and
     the Xceed Fluent Assertions Community License. You may use Fluent Assertions free of charge for
     non-commercial use only. An active subscription is required to use Fluent Assertions for commercial use.
     Please contact Xceed Sales mailto:sales@xceed.com to acquire a subscription at a very low cost.
     A paid commercial license supports the development and continued increasing support of
     Fluent Assertions users under both commercial and community licenses. Help us
     keep Fluent Assertions at the forefront of unit testing.
     For more information, visit https://xceed.com/products/unit-testing/fluent-assertions/
[xUnit.net 00:00:19.73]       Integration test - requires running application
[xUnit.net 00:00:19.74]     Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.CanJoinOrganization_WithValidToken [SKIP]
[xUnit.net 00:00:19.74]       Integration test - requires running application
[xUnit.net 00:00:19.74]     Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.CanConnectToSynaxisHub_WithValidToken [SKIP]
[xUnit.net 00:00:19.74]       Integration test - requires running application and valid JWT token
[xUnit.net 00:00:19.74]     Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.ConnectionReconnects_AfterDisconnection [SKIP]
[xUnit.net 00:00:19.74]       Integration test - requires running application
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleLongActionNames [24 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldHandleLongActionNames() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 228
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldSetCorrectTimestamp [15 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldSetCorrectTimestamp() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 206
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldRespectCancellationToken [24 ms]
  Error Message:
   Assert.Throws() Failure: Exception type was not an exact match
Expected: typeof(System.Threading.Tasks.TaskCanceledException)
Actual:   typeof(System.InvalidOperationException)
---- System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldRespectCancellationToken() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 248
--- End of stack trace from previous location ---
----- Inner Stack Trace -----
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.<>c__DisplayClass12_0.<<LogAsync_ShouldRespectCancellationToken>b__0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 249
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithEmptyPayload [4 ms]
  Error Message:
   System.InvalidOperationException : Relational-specific methods can only be used when the context is using a relational database provider.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.IntegrationTests.AuditServiceTests.LogAsync_ShouldCreateAuditLog_WithEmptyPayload() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/AuditServiceTests.cs:line 131
--- End of stack trace from previous location ---
  Skipped Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.ReceivesProviderHealthUpdate_WhenSubscribedToOrganization [1 ms]
  Error Message:
   Integration test - requires running application

  Skipped Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.CannotConnect_WithoutToken [1 ms]
  Error Message:
   Integration test - requires running application

  Skipped Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.CanJoinOrganization_WithValidToken [1 ms]
  Error Message:
   Integration test - requires running application

  Skipped Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.CanConnectToSynaxisHub_WithValidToken [1 ms]
  Error Message:
   Integration test - requires running application and valid JWT token

  Skipped Synaxis.InferenceGateway.IntegrationTests.RealTime.WebSocketConnectivityTests.ConnectionReconnects_AfterDisconnection [1 ms]
  Error Message:
   Integration test - requires running application

[DEBUG] Registry returned 3 candidates for 'test-model'
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.SecurityHeadersMiddlewareTests.InvokeAsync_CallsNextMiddleware [156 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.SecurityHeadersMiddlewareTests.InvokeAsync_InDevelopment_DoesNotAddHSTSHeader [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.SecurityHeadersMiddlewareTests.InvokeAsync_InDevelopment_UsesRelaxedCSP [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ProviderRoutingIntegrationTests.RoutingPipeline_ShouldFilterUnhealthyProviders [98 ms]
  Standard Output Messages:
 [2026-02-10 07:08:25Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 4 entities to in-memory store.


  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.SecurityHeadersMiddlewareTests.InvokeAsync_InProduction_UsesStricterCSP [14 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.SecurityHeadersMiddlewareTests.InvokeAsync_RemovesServerHeaders [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.SecurityHeadersMiddlewareTests.InvokeAsync_InProduction_AddsHSTSHeader [18 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.SecurityHeadersMiddlewareTests.InvokeAsync_AddsPermissionsPolicy [4 ms]
[DEBUG] Registry returned 3 candidates for 'test-model'
[DEBUG] Registry returned 3 candidates for 'test-model'
  Passed Synaxis.Infrastructure.Tests.Migrations.InitialMigrationTests.Migration_HasCorrectCascadeDeleteRules [257 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.GetTeamMembersAsync_WithPagination_ReturnsPagedResults [1 s]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.RestoreTeamAsync_WithNonExistentTeam_ThrowsInvalidOperationException [124 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.UpdateMemberRoleAsync_UserNotFound_ThrowsInvalidOperationException [213 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.InviteMemberAsync_WithInvalidTeam_ThrowsInvalidOperationException [136 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.AddMemberAsync_InvalidRole_ThrowsArgumentException [24 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.DeleteTeamAsync_WithValidTeam_MarksTeamInactive [51 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.ArchiveTeamAsync_WithValidTeam_MarksTeamInactive [14 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.DeviceFlowServiceTests.StartPollingAsync_HandlesSlowDown [8 s]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.DeviceFlowServiceTests.StartPollingAsync_HandlesInvalidJson [117 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.RevokeApiKeyAsync_WithAlreadyRevokedKey_ShouldReturnFalse [1 s]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.DeviceFlowServiceTests.StartPollingAsync_HandlesNetworkError [120 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.DeviceFlowServiceTests.StartPollingAsync_HandlesExpiredToken [108 ms]
[DEBUG] Registry returned 3 candidates for 'test-model'
[DEBUG] Registry returned 3 candidates for 'test-model'
[DEBUG] Registry returned 0 candidates for 'unknown-model'
[DEBUG] Fallback: Registry lookup with 'unknown-model' returned 0 candidates
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.UpdateMemberRoleAsync_ValidRoleChange_UpdatesRole [73 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.GetTeamAsync_WithNonExistentTeam_ReturnsNull [128 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.CheckPermissionAsync_MemberLacksAdminPermission_ReturnsFalse [120 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.CheckPermissionAsync_UserNotMember_ReturnsFalse [3 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.UpdateMemberRoleAsync_InvalidRole_ThrowsArgumentException [7 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.ValidateTeamSlugAsync_WithExcludedTeamId_ReturnsTrue [34 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.RemoveMemberAsync_ValidRequest_RemovesMember [35 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.RemoveMemberAsync_UserNotFound_ThrowsInvalidOperationException [4 ms]
[testcontainers.org 00:00:08.92] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 95465d02ab50
[testcontainers.org 00:00:09.00] Docker container 95465d02ab50 ready
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.AddMemberAsync_UserAlreadyMember_ThrowsInvalidOperationException [50 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.CheckPermissionAsync_AdminHasPermission_ReturnsTrue [19 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.AddMemberAsync_UserNotInOrganization_ThrowsInvalidOperationException [54 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.AddMemberAsync_ValidRequest_ReturnsMemberResponse [49 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.GetTeamMembersAsync_EmptyTeam_ReturnsEmptyList [4 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceTests.GetUserTeamsAsync_EmptyResult_ReturnsEmptyList [6 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.CreateTeamAsync_WithValidRequest_CreatesTeam [216 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.UpdateTeamAsync_WithValidRequest_UpdatesTeam [44 ms]
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:11.98]     Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.TeamMemberships_HasTeamIdUserIdIndex [FAIL]
[xUnit.net 00:00:11.98]       Expected compositeIndex not to be <null>.
[xUnit.net 00:00:11.98]       Stack Trace:
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:12.00]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:00:12.00]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:00:12.00]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:00:12.00]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:00:12.00]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:00:12.00]            at FluentAssertions.Execution.AssertionChain.FailWith(String message)
[xUnit.net 00:00:12.00]            at FluentAssertions.Primitives.ReferenceTypeAssertions`2.NotBeNull(String because, Object[] becauseArgs)
[xUnit.net 00:00:12.00]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/PerformanceIndexTests.cs(116,0): at Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.TeamMemberships_HasTeamIdUserIdIndex()
[xUnit.net 00:00:12.00]            at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
[xUnit.net 00:00:12.00]            at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.ValidateTeamSlugAsync_WithUniqueSlug_ReturnsTrue [34 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.RestoreTeamAsync_WithArchivedTeam_MarksTeamActive [1 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.CreateTeamAsync_WithNullRequest_ThrowsArgumentNullException [1 ms]
  Failed Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.TeamMemberships_HasTeamIdUserIdIndex [128 ms]
  Error Message:
   Expected compositeIndex not to be <null>.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message)
   at FluentAssertions.Primitives.ReferenceTypeAssertions`2.NotBeNull(String because, Object[] becauseArgs)
   at Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.TeamMemberships_HasTeamIdUserIdIndex() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/PerformanceIndexTests.cs:line 116
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
  Passed Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.VirtualKeys_HasOrganizationIdNameIndex [1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.AuditLogs_HasOrganizationIdTimestampIndex [20 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.Teams_HasOrganizationIdNameIndex [3 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.Users_Email_HasUniqueIndex [16 ms]
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:09.38] Docker container 5d29b86399dd created
[08:08:26 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:09.39] Start Docker container 5d29b86399dd
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.Organizations_Slug_HasUniqueIndex [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Migrations.PerformanceIndexTests.Requests_HasOrganizationIdCreatedAtIndex [< 1 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.InviteMemberAsync_WithValidEmail_CallsInvitationService [150 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.UpdateTeamAsync_WithNullRequest_ThrowsArgumentNullException [3 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.ValidateTeamSlugAsync_WithDuplicateSlug_ReturnsFalse [3 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.ArchiveTeamAsync_WithNonExistentTeam_ThrowsInvalidOperationException [3 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.UpdateTeamAsync_WithNonExistentTeam_ThrowsInvalidOperationException [5 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.ValidateTeamSlugAsync_WithDuplicateInDifferentOrganization_ReturnsTrue [14 ms]
[testcontainers.org 00:00:09.52] Wait for Docker container 5d29b86399dd to complete readiness checks
[testcontainers.org 00:00:09.53] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 5d29b86399dd
[08:08:26 WRN] Provider GitHubModels connectivity check failed.
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 0.5 seconds elapsing.
 ---> System.TimeoutException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.SocketsHttpHandler.<SendAsync>g__CreateHandlerAndSendAsync|115_0(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckConnectivityAsync(String endpoint, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 165
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 90
[08:08:26 ERR] Connectivity check failed for provider GitHubModels at https://models.inference.ai.azure.com
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 0.5 seconds elapsing.
 ---> System.TimeoutException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.SocketsHttpHandler.<SendAsync>g__CreateHandlerAndSendAsync|115_0(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckConnectivityAsync(String endpoint, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 165
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 90
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.SecurityHeadersMiddlewareTests.InvokeAsync_CSP_PreventsFraming [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Middleware.SecurityHeadersMiddlewareTests.InvokeAsync_AddsSecurityHeaders [32 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ProviderRoutingIntegrationTests.RoutingPipeline_ShouldHandlePartialFailuresGracefully [92 ms]
  Standard Output Messages:
 [2026-02-10 07:08:25Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 4 entities to in-memory store.


  Passed Synaxis.InferenceGateway.IntegrationTests.ProviderRoutingIntegrationTests.FullRoutingPipeline_ShouldReturnOptimalProvider [18 ms]
  Standard Output Messages:
 [2026-02-10 07:08:25Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 4 entities to in-memory store.
 Provider: provider-1, IsFree: True, CostPerToken: 0.001
 Provider: provider-2, IsFree: False, CostPerToken: 0.002
 Provider: provider-3, IsFree: False, CostPerToken: 0.003


  Passed Synaxis.InferenceGateway.IntegrationTests.ProviderRoutingIntegrationTests.RoutingPipeline_ShouldFilterQuotaExceededProviders [38 ms]
  Standard Output Messages:
 [2026-02-10 07:08:25Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 4 entities to in-memory store.


  Passed Synaxis.InferenceGateway.IntegrationTests.ProviderRoutingIntegrationTests.RoutingPipeline_ShouldHandleDatabaseDrivenRouting [18 ms]
  Standard Output Messages:
 [2026-02-10 07:08:25Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 4 entities to in-memory store.


  Passed Synaxis.InferenceGateway.IntegrationTests.ProviderRoutingIntegrationTests.RoutingPipeline_ShouldRespectCapabilityRequirements [15 ms]
  Standard Output Messages:
 [2026-02-10 07:08:25Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 4 entities to in-memory store.


  Passed Synaxis.InferenceGateway.IntegrationTests.ProviderRoutingIntegrationTests.RoutingPipeline_ShouldHandleModelNotFoundGracefully [11 ms]
  Standard Output Messages:
 [2026-02-10 07:08:25Z] info: Microsoft.EntityFrameworkCore.Update[30100]
       Saved 4 entities to in-memory store.


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.TokenOptimizationEndToEndTests.ChatRequest_CacheHit_SkipsProviderCall [7 ms]
  Standard Output Messages:
 WARNING: GROQ_API_KEY not found. Tests will be skipped.
 Test skipped: GROQ_API_KEY not available


[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
[08:08:26 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.TokenOptimizationEndToEndTests.StreamingRequest_AppliesSessionAffinity [6 ms]
  Standard Output Messages:
 WARNING: GROQ_API_KEY not found. Tests will be skipped.
 Test skipped: GROQ_API_KEY not available


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.TokenOptimizationEndToEndTests.ChatRequest_SessionAffinity_PreservesProvider [28 ms]
  Standard Output Messages:
 WARNING: GROQ_API_KEY not found. Tests will be skipped.
 Test skipped: GROQ_API_KEY not available


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.TokenOptimizationEndToEndTests.ChatRequest_WithOptimization_AppliesAllFeatures [10 ms]
  Standard Output Messages:
 WARNING: GROQ_API_KEY not found. Tests will be skipped.
 Test skipped: GROQ_API_KEY not available


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.TokenOptimizationEndToEndTests.ChatRequest_Compression_ReducesTokens [5 ms]
  Standard Output Messages:
 WARNING: GROQ_API_KEY not found. Tests will be skipped.
 Test skipped: GROQ_API_KEY not available


  Passed Synaxis.InferenceGateway.IntegrationTests.Optimization.TokenOptimizationEndToEndTests.ChatRequest_Deduplication_PreventsDuplicates [3 ms]
  Standard Output Messages:
 WARNING: GROQ_API_KEY not found. Tests will be skipped.
 Test skipped: GROQ_API_KEY not available


  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.RoundtripTest_GenerateHashValidate [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.HashKey_ShouldReturnDifferentHashesForDifferentKeys [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.MultipleKeys_ShouldGenerateUniqueAndValid [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.ValidateKey_ShouldReturnTrue_ForMatchingKeyAndHash [4 ms]
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.HashKey_ShouldUseSHA256 [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.GenerateKey_ShouldReturnValidFormat [4 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.ValidateKey_ShouldReturnFalse_ForMismatchedKeyAndHash [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.GenerateKey_ShouldAlwaysProduceValidFormat [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.ValidateKey_ShouldReturnFalse_ForEmptyInputs [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.ValidateKey_ShouldBeResistantToTimingAttacks [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.HashKey_ShouldReturnConsistentHash [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiKeyServiceTests.ValidateKey_ShouldReturnFalse_ForInvalidHash [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldReturnFirstMatch_WhenMultipleCostsExist [15 ms]
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldHandleNullProviderAndModel [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.Constructor_ShouldThrowArgumentNullException_ForNullDbContext [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.Constructor_ShouldInitializeSuccessfully_WithValidDbContext [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldReturnFreeTierCost_WhenFreeTierIsTrue [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldHandleSpecialCharactersInProviderAndModel [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldRespectCancellationToken [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldHandleEmptyProviderAndModel [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldUseCaseSensitiveMatching [26 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldReturnCost_WhenExactMatchFound [1 ms]
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Application.Tests.ApiKeys.ApiKeyServiceTests.ValidateApiKeyAsync_WithRevokedKey_ReturnsFailure [8 s]
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.DeviceFlowServiceTests.StartPollingAsync_HandlesAccessDenied [113 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.GenerateApiKeyAsync_ShouldSetRateLimits [768 ms]
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Received HTTP response headers after 2297.5312ms - 401
[08:08:27 INF] End processing HTTP request after 2297.7079ms - 401
[08:08:27 WRN] Model discovery call to https://open.bigmodel.cn/api/paas/v4/v1/models returned Unauthorized
[08:08:27 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider Zai
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:10.60] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 5d29b86399dd
[08:08:27 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.DeleteTeamAsync_WithWrongOrganization_ThrowsInvalidOperationException [25 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.GetTeamStatsAsync_WithNonExistentTeam_ThrowsInvalidOperationException [83 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.GetTeamAsync_WithWrongOrganization_ReturnsNull [6 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.GetTeamStatsAsync_WithTeamAndMembers_ReturnsCorrectStats [745 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.DeleteTeamAsync_WithNonExistentTeam_ThrowsInvalidOperationException [15 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.CreateTeamAsync_WithInvalidOrganization_ThrowsInvalidOperationException [9 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.ListTeamsAsync_WithSecondPage_ReturnsCorrectTeams [101 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.CreateTeamAsync_WithDuplicateSlug_ThrowsInvalidOperationException [5 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.ListTeamsAsync_WithNoTeams_ReturnsEmptyList [191 ms]
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:27 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:10.92] Docker container 696b0c69e62b created
[testcontainers.org 00:00:10.93] Start Docker container 696b0c69e62b
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:11.06] Wait for Docker container 696b0c69e62b to complete readiness checks
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:11.08] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 696b0c69e62b
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 WRN] Provider OpenRouter connectivity check failed.
System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.SocketsHttpHandler.<SendAsync>g__CreateHandlerAndSendAsync|115_0(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckConnectivityAsync(String endpoint, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 165
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 90
[08:08:28 ERR] Connectivity check failed for provider OpenRouter at https://openrouter.ai/api/v1
System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: The operation was canceled.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.SocketsHttpHandler.<SendAsync>g__CreateHandlerAndSendAsync|115_0(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckConnectivityAsync(String endpoint, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 165
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 90
[08:08:28 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldReturnNull_WhenNoMatchingCostFound [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldHandleVeryLongProviderAndModelNames [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.CostServiceTests.GetCostAsync_ShouldReturnDifferentCosts_ForDifferentProviderModelCombinations [11 ms]
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Identity.Strategies.GitHub.DeviceFlowServiceTests.StartPollingAsync_HandlesAuthorizationPending [2 s]
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:11.67] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 5d29b86399dd
[testcontainers.org 00:00:11.74] Docker container 5d29b86399dd ready
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:28 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:12.17] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 696b0c69e62b
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] ProviderDiscoveryJob: Successfully upserted 113 models for provider HuggingFace
[08:08:29 INF] Start processing HTTP request GET https://api.hyperbolic.xyz/v1/models
[08:08:29 INF] Sending HTTP request GET https://api.hyperbolic.xyz/v1/models
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.GetTeamStatsAsync_WithEmptyTeam_ReturnsZeroStats [26 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.GetTeamAsync_WithValidTeamId_ReturnsTeam [11 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamServiceTests.ListTeamsAsync_WithMultipleTeams_ReturnsPaginatedList [20 ms]
[08:08:29 INF] Received HTTP response headers after 216.8254ms - 401
[08:08:29 INF] End processing HTTP request after 217.0126ms - 401
[08:08:29 WRN] Model discovery call to https://api.hyperbolic.xyz/v1/models returned Unauthorized
[08:08:29 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider Hyperbolic
[08:08:29 INF] Start processing HTTP request GET https://integrate.api.nvidia.com/v1/models
[08:08:29 INF] Sending HTTP request GET https://integrate.api.nvidia.com/v1/models
  Passed Synaxis.InferenceGateway.Application.Tests.ApiKeys.ApiKeyServiceTests.ListApiKeysAsync_ReturnsOnlyActiveKeysByDefault [2 s]
[08:08:29 INF] Received HTTP response headers after 116.9817ms - 200
[08:08:29 INF] End processing HTTP request after 117.5207ms - 200
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:29 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ValidateApiKeyAsync_WithExpiredKey_ShouldReturnFailure [2 s]
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 WRN] Provider SiliconFlow connectivity check failed.
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 0.5 seconds elapsing.
 ---> System.TimeoutException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.SocketsHttpHandler.<SendAsync>g__CreateHandlerAndSendAsync|115_0(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckConnectivityAsync(String endpoint, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 165
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 90
[08:08:30 ERR] Connectivity check failed for provider SiliconFlow at https://api.siliconflow.cn/v1
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 0.5 seconds elapsing.
 ---> System.TimeoutException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.SocketsHttpHandler.<SendAsync>g__CreateHandlerAndSendAsync|115_0(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckConnectivityAsync(String endpoint, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 165
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 90
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:13.42] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 696b0c69e62b
[testcontainers.org 00:00:13.51] Docker container 696b0c69e62b ready
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:30 INF] Saved 1 entities to in-memory store.
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:31 ERR] Health check redis with status Unhealthy completed after 6249.7176ms with message 'null'
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: It was not possible to connect to the redis server(s) localhost:6379/Interactive. ConnectTimeout, command=PING, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 1, serverEndpoint: localhost:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: docker(SE.Redis-v2.10.14.64328), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=6,Free=32761,Min=4,Max=32767), POOL: (Threads=16,QueuedItems=0,CompletedItems=1900,Timers=76), v: 2.10.14.64328 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s) localhost:6379/Interactive. ConnectTimeout
   --- End of inner exception stack trace ---
   at HealthChecks.Redis.RedisHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/AspNetCore.Diagnostics.HealthChecks/AspNetCore.Diagnostics.HealthChecks/src/HealthChecks.Redis/RedisHealthCheck.cs:line 75
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:31 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Application.Tests.ApiKeys.ApiKeyServiceTests.RevokeApiKeyAsync_MarksKeyAsRevoked [1 s]
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:31 INF] Saved 1 entities to in-memory store.
[08:08:32 WRN] Provider Zai connectivity check failed.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.SocketsHttpHandler.<SendAsync>g__CreateHandlerAndSendAsync|115_0(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckConnectivityAsync(String endpoint, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 165
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 90
[08:08:32 ERR] Connectivity check failed for provider Zai at https://open.bigmodel.cn/api/paas/v4
System.Threading.Tasks.TaskCanceledException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.SocketsHttpHandler.<SendAsync>g__CreateHandlerAndSendAsync|115_0(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckConnectivityAsync(String endpoint, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 165
   at Synaxis.InferenceGateway.WebApi.Health.ProviderConnectivityHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Health/ProviderConnectivityHealthCheck.cs:line 90
[08:08:32 ERR] Health check providers with status Unhealthy completed after 7207.9477ms with message 'Provider connectivity failures: AiHorde: Missing endpoint, DuckDuckGo: Missing endpoint, GitHubCopilot: Missing endpoint, GitHubModels: The request was canceled due to the configured HttpClient.Timeout of 0.5 seconds elapsing., OpenRouter: The operation was canceled., SiliconFlow: The request was canceled due to the configured HttpClient.Timeout of 0.5 seconds elapsing., Zai: A task was canceled.'
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Executed endpoint 'Health checks'
[08:08:32 INF] Request finished HTTP/1.1 GET http://localhost/health/readiness - 503 null text/plain 7618.5269ms
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Application is shutting down...
[08:08:32 INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
[08:08:32 INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ValidateApiKeyAsync_WithRevokedKey_ShouldReturnFailure [1 s]
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:15.35] Delete Docker container 95465d02ab50
[08:08:32 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:15.40] Delete Docker container f7de0667eb9d
[08:08:32 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:15.51] Delete Docker container 696b0c69e62b
[testcontainers.org 00:00:15.53] Delete Docker container 5d29b86399dd
[08:08:32 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:18.32]     Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_ConcurrentUpdates_HandlesCorrectly [FAIL]
[xUnit.net 00:00:18.32]       Expected (finalOrg!.MaxTeams == 20 || finalOrg.MaxUsersPerTeam == 50) to be True, but found False.
[xUnit.net 00:00:18.33]       Stack Trace:
[xUnit.net 00:00:18.33]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:00:18.33]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:00:18.34]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:00:18.34]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:00:18.34]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:00:18.34]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:00:18.34]            at FluentAssertions.Primitives.BooleanAssertions`1.BeTrue(String because, Object[] becauseArgs)
[xUnit.net 00:00:18.34]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/OrganizationSettingsServiceIntegrationTests.cs(175,0): at Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_ConcurrentUpdates_HandlesCorrectly()
[xUnit.net 00:00:18.34]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/OrganizationSettingsServiceIntegrationTests.cs(175,0): at Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_ConcurrentUpdates_HandlesCorrectly()
[xUnit.net 00:00:18.34]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/OrganizationSettingsServiceIntegrationTests.cs(175,0): at Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_ConcurrentUpdates_HandlesCorrectly()
[xUnit.net 00:00:18.34]         --- End of stack trace from previous location ---
  Failed Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_ConcurrentUpdates_HandlesCorrectly [3 s]
  Error Message:
   Expected (finalOrg!.MaxTeams == 20 || finalOrg.MaxUsersPerTeam == 50) to be True, but found False.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.BooleanAssertions`1.BeTrue(String because, Object[] becauseArgs)
   at Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_ConcurrentUpdates_HandlesCorrectly() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/OrganizationSettingsServiceIntegrationTests.cs:line 175
   at Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_ConcurrentUpdates_HandlesCorrectly() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/OrganizationSettingsServiceIntegrationTests.cs:line 175
   at Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_ConcurrentUpdates_HandlesCorrectly() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/OrganizationSettingsServiceIntegrationTests.cs:line 175
--- End of stack trace from previous location ---
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceIntegrationTests.FullMembershipLifecycle_AddUpdateRemove_Success [1 s]
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[08:08:32 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:18.58]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.TenantIsolation_MultipleOrganizations_AreIsolated [FAIL]
[xUnit.net 00:00:18.58]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:18.58]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:18.59]       
[xUnit.net 00:00:18.59]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:18.59]       Stack Trace:
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:00:18.59]         ----- Inner Stack Trace -----
[xUnit.net 00:00:18.59]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:18.59]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:18.59]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:18.59]     Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.ForeignKeyConstraints_Enforced [FAIL]
[xUnit.net 00:00:18.60]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:18.60]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:18.60]       
[xUnit.net 00:00:18.60]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:18.60]       Stack Trace:
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/TestcontainersMigrationTests.cs(203,0): at Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.ForeignKeyConstraints_Enforced()
[xUnit.net 00:00:18.60]         --- End of stack trace from previous location ---
[xUnit.net 00:00:18.60]         ----- Inner Stack Trace -----
[xUnit.net 00:00:18.60]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:18.60]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:18.60]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:18.60]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Passed Synaxis.InferenceGateway.Application.Tests.ApiKeys.ApiKeyServiceTests.ValidateApiKeyAsync_WithInvalidKey_ReturnsFailure [1 ms]
[testcontainers.org 00:00:15.88] Docker container ce2195c5a683 created
[testcontainers.org 00:00:15.88] Docker container fa23a02a3b2d created
[testcontainers.org 00:00:15.89] Start Docker container ce2195c5a683
[testcontainers.org 00:00:15.89] Start Docker container fa23a02a3b2d
[08:08:33 INF] Saved 1 entities to in-memory store.
[08:08:33 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:16.06] Wait for Docker container ce2195c5a683 to complete readiness checks
[testcontainers.org 00:00:16.06] Docker container c3ea98149487 created
[08:08:33 INF] Saved 1 entities to in-memory store.
[08:08:33 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:16.10] Start Docker container c3ea98149487
[testcontainers.org 00:00:16.11] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container ce2195c5a683
[testcontainers.org 00:00:16.13] Docker container 88190a90bcff created
[testcontainers.org 00:00:16.14] Start Docker container 88190a90bcff
[08:08:33 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:16.93] Wait for Docker container fa23a02a3b2d to complete readiness checks
[testcontainers.org 00:00:16.93] Wait for Docker container c3ea98149487 to complete readiness checks
[08:08:34 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:17.00] Wait for Docker container 88190a90bcff to complete readiness checks
[08:08:34 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:17.02] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container fa23a02a3b2d
[testcontainers.org 00:00:17.02] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container c3ea98149487
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ListApiKeysAsync_WithIncludeRevoked_ShouldReturnAllKeys [3 s]
[08:08:34 INF] Saved 1 entities to in-memory store.
  Failed Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.ForeignKeyConstraints_Enforced [3 s]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.ForeignKeyConstraints_Enforced() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/TestcontainersMigrationTests.cs:line 203
--- End of stack trace from previous location ---
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.TenantIsolation_MultipleOrganizations_AreIsolated [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[08:08:34 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:17.24] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 88190a90bcff
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Application.Tests.ApiKeys.ApiKeyServiceTests.ListApiKeysAsync_WithIncludeRevoked_ReturnsAllKeys [3 s]
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:34 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:18.36] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container ce2195c5a683
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ValidateApiKeyAsync_WithValidKey_ShouldReturnSuccess [1 s]
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] ModelsDevSyncJob: synced 2512 models
[08:08:35 INF] ModelsDevSyncJob: Successfully upserted 2512 global models
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:35 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Application.Tests.ApiKeys.ApiKeyServiceTests.ValidateApiKeyAsync_WithValidKey_ReturnsSuccess [1 s]
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:19.51] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container fa23a02a3b2d
[testcontainers.org 00:00:19.51] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container c3ea98149487
[testcontainers.org 00:00:19.56] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 88190a90bcff
[testcontainers.org 00:00:19.56] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container ce2195c5a683
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:19.63] Docker container ce2195c5a683 ready
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:36 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:19.82] Docker container fa23a02a3b2d ready
[testcontainers.org 00:00:19.82] Docker container c3ea98149487 ready
[08:08:36 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:31.28]   Finished:    Synaxis.InferenceGateway.Application.Tests
[08:08:37 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:20.58] Delete Docker container fa23a02a3b2d
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ValidateApiKeyAsync_WithInactiveKey_ShouldReturnFailure [2 s]
[08:08:37 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceIntegrationTests.RoleBasedQueries_FilterByRole_ReturnsCorrectMembers [29 ms]
[08:08:37 INF] Saved 1 entities to in-memory store.
[08:08:37 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:20.83] Delete Docker container ce2195c5a683
[testcontainers.org 00:00:20.83] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 88190a90bcff
[08:08:38 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:20.90] Docker container 86d02c724e79 created
[testcontainers.org 00:00:20.90] Start Docker container 86d02c724e79
[testcontainers.org 00:00:20.92] Docker container 88190a90bcff ready
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:21.13] Wait for Docker container 86d02c724e79 to complete readiness checks
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:21.15] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 86d02c724e79
  Passed Synaxis.InferenceGateway.Application.Tests.ApiKeys.ApiKeyServiceTests.GenerateApiKeyAsync_CreatesKeyWithCorrectFormat [1 s]
[08:08:38 INF] Saved 1 entities to in-memory store.

[08:08:38 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:21.21] Docker container c64cbdeba28e created
[testcontainers.org 00:00:21.21] Start Docker container c64cbdeba28e
Test Run Successful.
Total tests: 355
     Passed: 355
 Total time: 32.8869 Seconds
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:21.41] Wait for Docker container c64cbdeba28e to complete readiness checks
[testcontainers.org 00:00:21.42] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container c64cbdeba28e
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:38 INF] Saved 1 entities to in-memory store.
[08:08:39 INF] Saved 1 entities to in-memory store.
[08:08:39 INF] Saved 1 entities to in-memory store.
[08:08:39 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:21.91] Delete Docker container c3ea98149487
[xUnit.net 00:00:24.85]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.DatabaseConstraints_EnforcedCorrectly [FAIL]
[xUnit.net 00:00:24.85]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:24.85]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:24.85]       
[xUnit.net 00:00:24.85]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:24.85]       Stack Trace:
[xUnit.net 00:00:24.85]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:00:24.85]         ----- Inner Stack Trace -----
[xUnit.net 00:00:24.85]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:24.85]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:24.85]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:24.85]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:24.86]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:24.86]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:24.86]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[testcontainers.org 00:00:22.14] Delete Docker container 88190a90bcff
[testcontainers.org 00:00:22.23] Docker container 5a63bcb0660e created
[08:08:39 INF] Saved 1 entities to in-memory store.
[08:08:39 INF] Saved 1 entities to in-memory store.
[08:08:39 INF] Saved 1 entities to in-memory store.
[08:08:39 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:22.23] Start Docker container 5a63bcb0660e
  Passed Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationSettingsAsync_WithRealDatabase_PersistsChanges [278 ms]
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.DatabaseConstraints_EnforcedCorrectly [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[08:08:39 INF] Saved 1 entities to in-memory store.
[08:08:39 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:22.43] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 86d02c724e79
[testcontainers.org 00:00:22.43] Wait for Docker container 5a63bcb0660e to complete readiness checks
[testcontainers.org 00:00:22.44] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 5a63bcb0660e
[testcontainers.org 00:00:22.57] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container c64cbdeba28e
[testcontainers.org 00:00:22.57] Docker container 334edcb92932 created
[testcontainers.org 00:00:22.58] Start Docker container 334edcb92932
[08:08:39 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:23.25] Wait for Docker container 334edcb92932 to complete readiness checks
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ListApiKeysAsync_ShouldExcludeRevokedKeysByDefault [2 s]
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:23.52] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 86d02c724e79
[testcontainers.org 00:00:23.54] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 334edcb92932
[08:08:40 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:23.56] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 5a63bcb0660e
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.ConcurrentMigrations_FailGracefully [1 s]
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:40 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:24.38] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container c64cbdeba28e
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] Saved 1 entities to in-memory store.
[08:08:41 INF] ProviderDiscoveryJob: Successfully upserted 184 models for provider NVIDIA
[08:08:41 INF] Start processing HTTP request GET https://openrouter.ai/api/v1/models
[08:08:41 INF] Sending HTTP request GET https://openrouter.ai/api/v1/models
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.GenerateApiKeyAsync_ShouldStoreKeyPrefixCorrectly [1 s]
[08:08:42 INF] Received HTTP response headers after 366.9733ms - 200
[08:08:42 INF] End processing HTTP request after 367.2245ms - 200
[08:08:42 INF] Saved 1 entities to in-memory store.
[08:08:42 INF] Saved 1 entities to in-memory store.
[08:08:42 INF] Saved 1 entities to in-memory store.
[08:08:42 INF] Saved 1 entities to in-memory store.
[08:08:42 INF] Saved 1 entities to in-memory store.
[08:08:42 INF] Saved 1 entities to in-memory store.
[08:08:42 INF] Saved 1 entities to in-memory store.
[08:08:42 INF] Saved 1 entities to in-memory store.
[08:08:42 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:26.11] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 334edcb92932
[08:08:43 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:26.12] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 5a63bcb0660e
[testcontainers.org 00:00:26.12] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 86d02c724e79
[testcontainers.org 00:00:26.13] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container c64cbdeba28e
[08:08:43 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.RevokeApiKeyAsync_WithNonExistentKey_ShouldReturnFalse [3 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.GenerateApiKeyAsync_ShouldSetExpirationDate [809 ms]
[testcontainers.org 00:00:26.29] Docker container 334edcb92932 ready
[testcontainers.org 00:00:26.29] Docker container 86d02c724e79 ready
[08:08:43 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:26.39] Docker container c64cbdeba28e ready
[08:08:43 INF] Saved 1 entities to in-memory store.
[08:08:43 INF] Saved 1 entities to in-memory store.
[08:08:43 INF] Saved 1 entities to in-memory store.
[08:08:43 INF] Saved 1 entities to in-memory store.
[08:08:43 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:26.51] Docker container 5a63bcb0660e ready
[08:08:43 INF] Saved 1 entities to in-memory store.
[08:08:43 INF] Saved 1 entities to in-memory store.
[08:08:43 INF] Saved 1 entities to in-memory store.
[08:08:43 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:27.35] Delete Docker container c64cbdeba28e
[testcontainers.org 00:00:27.35] Delete Docker container 5a63bcb0660e
[08:08:44 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:27.42] Delete Docker container 86d02c724e79
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
[08:08:44 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_LimitEnforcement_ValidatesMaximums [79 ms]
[08:08:44 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:30.54]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InviteMember_DelegatesToInvitationService [FAIL]
[xUnit.net 00:00:30.54]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:30.54]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:30.54]       
[xUnit.net 00:00:30.54]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:30.54]       Stack Trace:
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:00:30.54]         ----- Inner Stack Trace -----
[xUnit.net 00:00:30.54]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:30.54]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:30.54]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:30.54]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:30.55]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.GenerateApiKeyAsync_ShouldGenerateUniqueKeys [1 s]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ValidateApiKeyAsync_WithInvalidPrefix_ShouldReturnFailure [< 1 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ValidateApiKeyAsync_ShouldUseConstantTimeBcryptComparison [858 ms]
[testcontainers.org 00:00:27.89] Docker container e017debb7c8e created
[testcontainers.org 00:00:27.89] Docker container 5c2500b77fb9 created
[testcontainers.org 00:00:27.89] Start Docker container e017debb7c8e
[testcontainers.org 00:00:27.90] Start Docker container 5c2500b77fb9
[testcontainers.org 00:00:27.97] Docker container 656e81b4842c created
[testcontainers.org 00:00:27.97] Start Docker container 656e81b4842c
[08:08:45 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:28.10] Wait for Docker container e017debb7c8e to complete readiness checks
[testcontainers.org 00:00:28.11] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container e017debb7c8e
[testcontainers.org 00:00:28.18] Wait for Docker container 5c2500b77fb9 to complete readiness checks
[testcontainers.org 00:00:28.19] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 5c2500b77fb9
[testcontainers.org 00:00:28.26] Wait for Docker container 656e81b4842c to complete readiness checks
[testcontainers.org 00:00:28.32] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 656e81b4842c
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[08:08:45 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:28.83] Delete Docker container 334edcb92932
[08:08:46 INF] Saved 1 entities to in-memory store.
[08:08:46 INF] Saved 1 entities to in-memory store.
[08:08:46 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:31.78]     Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.CascadeDeletes_WorkCorrectly [FAIL]
[xUnit.net 00:00:31.78]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:31.78]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:31.78]       
[xUnit.net 00:00:31.78]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:31.78]       Stack Trace:
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/TestcontainersMigrationTests.cs(293,0): at Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.CascadeDeletes_WorkCorrectly()
[xUnit.net 00:00:31.78]         --- End of stack trace from previous location ---
[xUnit.net 00:00:31.78]         ----- Inner Stack Trace -----
[xUnit.net 00:00:31.78]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:31.78]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:31.78]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:31.78]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[08:08:46 INF] Saved 1 entities to in-memory store.
[08:08:46 INF] Saved 1 entities to in-memory store.
[08:08:46 INF] Saved 1 entities to in-memory store.
[08:08:46 INF] Saved 1 entities to in-memory store.
[08:08:46 INF] Saved 1 entities to in-memory store.
[08:08:46 INF] Saved 1 entities to in-memory store.
[08:08:46 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:29.18] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container e017debb7c8e
[testcontainers.org 00:00:29.19] Docker container 7c91398e4aa4 created
[testcontainers.org 00:00:29.19] Start Docker container 7c91398e4aa4
[08:08:46 INF] Saved 1 entities to in-memory store.
[08:08:46 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.GenerateApiKeyAsync_ShouldSetIsActiveToTrue [1 s]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceIntegrationTests.ConcurrentMembershipOperations_MultipleUsers_AllSucceed [341 ms]
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InviteMember_DelegatesToInvitationService [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Failed Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.CascadeDeletes_WorkCorrectly [2 s]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.CascadeDeletes_WorkCorrectly() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/TestcontainersMigrationTests.cs:line 293
--- End of stack trace from previous location ---
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[08:08:46 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:29.47] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 5c2500b77fb9
[08:08:46 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:29.75] Wait for Docker container 7c91398e4aa4 to complete readiness checks
[testcontainers.org 00:00:29.75] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 7c91398e4aa4
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:30.30] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 656e81b4842c
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[08:08:47 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:30.75] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container e017debb7c8e
[testcontainers.org 00:00:39.01] Docker container 71c64a1a8e4b created
[testcontainers.org 00:00:39.02] Start Docker container 71c64a1a8e4b
[testcontainers.org 00:00:30.83] Docker container e017debb7c8e ready
[testcontainers.org 00:00:39.02] Docker container a85639ac0173 created
[testcontainers.org 00:00:39.03] Start Docker container a85639ac0173
[testcontainers.org 00:00:30.85] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 7c91398e4aa4
[testcontainers.org 00:00:30.85] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 5c2500b77fb9
[08:08:48 INF] Saved 1 entities to in-memory store.
[08:08:48 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:30.97] Docker container 5c2500b77fb9 ready
[08:08:48 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:39.32] Wait for Docker container 71c64a1a8e4b to complete readiness checks
[testcontainers.org 00:00:39.32] Execute "redis-cli ping" at Docker container 71c64a1a8e4b
[08:08:48 INF] Saved 1 entities to in-memory store.
[08:08:48 INF] Saved 1 entities to in-memory store.
[08:08:48 INF] Saved 1 entities to in-memory store.
[08:08:48 INF] Saved 1 entities to in-memory store.
[08:08:48 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:31.47] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 656e81b4842c
[testcontainers.org 00:00:39.38] Wait for Docker container a85639ac0173 to complete readiness checks
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.UpdateLastUsedAsync_ShouldUpdateTimestamp [2 s]
[testcontainers.org 00:00:39.89] Docker container 71c64a1a8e4b ready
[testcontainers.org 00:00:31.69] Delete Docker container 5c2500b77fb9
[08:08:48 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:39.92] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container a85639ac0173
[08:08:48 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:31.74] Delete Docker container e017debb7c8e
[testcontainers.org 00:00:31.77] Docker container 656e81b4842c ready
[08:08:49 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:42.43]     Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_ConcurrentCalls_Deduplicates [FAIL]
[xUnit.net 00:00:42.44]       Assert.Equal() Failure: Values differ
[xUnit.net 00:00:42.44]       Expected: 1
[xUnit.net 00:00:42.44]       Actual:   5
[xUnit.net 00:00:42.44]       Stack Trace:
[xUnit.net 00:00:42.44]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisInFlightDeduplicationTests.cs(168,0): at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_ConcurrentCalls_Deduplicates()
[xUnit.net 00:00:42.44]         --- End of stack trace from previous location ---
[08:08:49 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.GetOrganizationLimitsAsync_WithRealDatabase_ReturnsLimits [134 ms]
[testcontainers.org 00:00:31.98] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 7c91398e4aa4
[08:08:49 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:32.07] Docker container 7c91398e4aa4 ready
[testcontainers.org 00:00:32.14] Docker container fcd214f6579c created
[testcontainers.org 00:00:32.15] Start Docker container fcd214f6579c
[08:08:49 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:32.19] Docker container e927c4792141 created
[testcontainers.org 00:00:32.20] Start Docker container e927c4792141
[08:08:49 INF] Saved 1 entities to in-memory store.
[08:08:49 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:32.41] Wait for Docker container fcd214f6579c to complete readiness checks
[08:08:49 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:32.48] Wait for Docker container e927c4792141 to complete readiness checks
[08:08:49 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:32.50] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container e927c4792141
[testcontainers.org 00:00:32.50] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container fcd214f6579c
[08:08:49 INF] Saved 1 entities to in-memory store.
[08:08:49 INF] Saved 1 entities to in-memory store.
[08:08:49 INF] Saved 1 entities to in-memory store.
[08:08:49 INF] Saved 1 entities to in-memory store.
[08:08:49 INF] Saved 1 entities to in-memory store.
[08:08:49 INF] Saved 1 entities to in-memory store.
[08:08:49 INF] Saved 1 entities to in-memory store.
[08:08:49 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:41.05] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container a85639ac0173
[08:08:50 INF] Saved 1 entities to in-memory store.
[08:08:50 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:41.11] Docker container a85639ac0173 ready
[08:08:50 INF] Saved 1 entities to in-memory store.
[08:08:50 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:33.12] Delete Docker container 656e81b4842c
[08:08:50 INF] Saved 1 entities to in-memory store.
  Failed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_ConcurrentCalls_Deduplicates [30 s]
  Error Message:
   Assert.Equal() Failure: Values differ
Expected: 1
Actual:   5
  Stack Trace:
     at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_ConcurrentCalls_Deduplicates() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisInFlightDeduplicationTests.cs:line 168
--- End of stack trace from previous location ---
[xUnit.net 00:00:36.08]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.CreateTeamAsync_FullLifecycle_WorksCorrectly [FAIL]
[xUnit.net 00:00:36.08]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:36.08]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:36.08]       
[xUnit.net 00:00:36.08]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:36.08]       Stack Trace:
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:00:36.08]         ----- Inner Stack Trace -----
[xUnit.net 00:00:36.08]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:36.08]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:36.08]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:36.08]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[testcontainers.org 00:00:33.41] Delete Docker container 7c91398e4aa4
[08:08:50 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:33.47] Docker container cccd1e85a6ad created
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceIntegrationTests.CheckPermission_WithRealDatabase_ReturnsCorrectResult [31 ms]
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.CreateTeamAsync_FullLifecycle_WorksCorrectly [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[08:08:50 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:33.48] Start Docker container cccd1e85a6ad
[testcontainers.org 00:00:33.72] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container fcd214f6579c
[testcontainers.org 00:00:33.73] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container e927c4792141
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:34.59] Wait for Docker container cccd1e85a6ad to complete readiness checks
[testcontainers.org 00:00:34.59] Docker container 472931f811cc created
[testcontainers.org 00:00:34.59] Start Docker container 472931f811cc
[08:08:51 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:34.60] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container cccd1e85a6ad
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:51 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.GenerateApiKeyAsync_ShouldStoreBcryptHashedKey [2 s]
[testcontainers.org 00:00:34.76] Wait for Docker container 472931f811cc to complete readiness checks
[testcontainers.org 00:00:34.76] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 472931f811cc
[08:08:51 INF] Saved 1 entities to in-memory store.
[08:08:52 INF] Saved 1 entities to in-memory store.
[08:08:52 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.Migrations_CanBeRolledBack [1 s]
[08:08:52 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:35.16] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container e927c4792141
[08:08:52 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:35.19] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container fcd214f6579c
[testcontainers.org 00:00:35.24] Docker container e927c4792141 ready
[testcontainers.org 00:00:35.25] Docker container fcd214f6579c ready
[08:08:52 INF] Saved 1 entities to in-memory store.
[08:08:52 INF] Saved 1 entities to in-memory store.
[08:08:52 INF] Saved 1 entities to in-memory store.
[08:08:52 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:35.57] Delete Docker container fcd214f6579c
[testcontainers.org 00:00:35.73] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container cccd1e85a6ad
[08:08:52 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:35.90] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 472931f811cc
[testcontainers.org 00:00:35.96] Docker container 7121726020ed created
[testcontainers.org 00:00:35.96] Start Docker container 7121726020ed
[08:08:53 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:36.10] Wait for Docker container 7121726020ed to complete readiness checks
[testcontainers.org 00:00:36.11] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 7121726020ed
[testcontainers.org 00:00:36.16] Delete Docker container e927c4792141
[08:08:53 INF] Saved 1 entities to in-memory store.
[08:08:53 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ValidateApiKeyAsync_ShouldReturnRateLimits [2 s]
[08:08:53 INF] Saved 1 entities to in-memory store.
[08:08:53 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationSettingsAsync_DataRetentionValidation_EnforcesRange [36 ms]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceIntegrationTests.GetTeamMembers_WithPagination_WorksWithRealDatabase [163 ms]
[08:08:53 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:36.75] Docker container 60ae984d7ff2 created
[testcontainers.org 00:00:36.76] Start Docker container 60ae984d7ff2
[testcontainers.org 00:00:37.08] Wait for Docker container 60ae984d7ff2 to complete readiness checks
[testcontainers.org 00:00:37.08] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container cccd1e85a6ad
[testcontainers.org 00:00:37.08] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 60ae984d7ff2
[testcontainers.org 00:00:37.14] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 472931f811cc
[testcontainers.org 00:00:37.14] Docker container cccd1e85a6ad ready
[testcontainers.org 00:00:37.26] Docker container 472931f811cc ready
[testcontainers.org 00:00:37.27] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 7121726020ed
[08:08:54 INF] Saved 1 entities to in-memory store.
[08:08:54 INF] Saved 1 entities to in-memory store.
[08:08:54 INF] Saved 1 entities to in-memory store.
[08:08:54 INF] Saved 1 entities to in-memory store.
[08:08:54 INF] Saved 1 entities to in-memory store.
[08:08:55 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.ListApiKeysAsync_ShouldNotReturnHashedKey [2 s]
[08:08:55 INF] Saved 1 entities to in-memory store.
[08:08:55 INF] Saved 1 entities to in-memory store.
[08:08:55 INF] Saved 1 entities to in-memory store.
[08:08:55 INF] Saved 1 entities to in-memory store.
[08:08:55 INF] Saved 1 entities to in-memory store.
[08:08:55 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:38.75] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 7121726020ed
[08:08:55 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:38.75] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 60ae984d7ff2
[08:08:55 INF] Starting web host
[testcontainers.org 00:00:38.84] Docker container 7121726020ed ready
[08:08:56 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:38.85] Docker container 60ae984d7ff2 ready
[testcontainers.org 00:00:38.86] Delete Docker container cccd1e85a6ad
[08:08:56 INF] Saved 1 entities to in-memory store.
[08:08:56 INF] Saved 1 entities to in-memory store.
[08:08:56 INF] Saved 1 entities to in-memory store.
[08:08:56 INF] Saved 1 entities to in-memory store.
[08:08:56 INF] Security configuration validation passed successfully
[08:08:56 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.[xUnit.net 00:00:42.29]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.SequentialModifications_SameTeam_HandledCorrectly [FAIL]
[xUnit.net 00:00:42.29]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:42.29]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:42.29]       
[xUnit.net 00:00:42.29]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:42.29]       Stack Trace:
[xUnit.net 00:00:42.30]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:42.30]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:42.30]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:42.30]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:42.30]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:42.30]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:42.30]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:42.30]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:42.30]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:42.30]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:42.31]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:00:42.31]         ----- Inner Stack Trace -----
[xUnit.net 00:00:42.31]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:42.31]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:42.31]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:42.31]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:42.31]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:42.31]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:42.31]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:42.32]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:42.32]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:42.32]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.SequentialModifications_SameTeam_HandledCorrectly [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[testcontainers.org 00:00:39.54] Delete Docker container 472931f811cc
[testcontainers.org 00:00:39.65] Delete Docker container 60ae984d7ff2

[08:08:56 WRN] Skipping database migration per configuration.
[testcontainers.org 00:00:39.73] Docker container ebaae2a3fa64 created
[08:08:56 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:39.80] Start Docker container ebaae2a3fa64
[testcontainers.org 00:00:39.86] Delete Docker container 7121726020ed
[xUnit.net 00:00:42.61]     Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.Data_CanBeInserted_AfterMigrations [FAIL]
[xUnit.net 00:00:42.61]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:42.61]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:42.61]       
[xUnit.net 00:00:42.61]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:42.61]       Stack Trace:
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/TestcontainersMigrationTests.cs(167,0): at Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.Data_CanBeInserted_AfterMigrations()
[xUnit.net 00:00:42.62]         --- End of stack trace from previous location ---
[xUnit.net 00:00:42.62]         ----- Inner Stack Trace -----
[xUnit.net 00:00:42.62]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:42.62]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:42.62]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:42.62]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.RevokeApiKeyAsync_WithValidKey_ShouldRevokeSuccessfully [1 s]
[testcontainers.org 00:00:40.04] Docker container 5eb3bf0e55e9 created
[testcontainers.org 00:00:40.06] Start Docker container 5eb3bf0e55e9
[testcontainers.org 00:00:40.09] Wait for Docker container ebaae2a3fa64 to complete readiness checks
[testcontainers.org 00:00:40.09] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container ebaae2a3fa64
[08:08:57 INF] Saved 1 entities to in-memory store.
[08:08:57 INF] Saved 1 entities to in-memory store.
[08:08:57 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:40.21] Docker container 3ba64a24be96 created
[testcontainers.org 00:00:40.22] Start Docker container 3ba64a24be96
[testcontainers.org 00:00:40.29] Wait for Docker container 5eb3bf0e55e9 to complete readiness checks
[testcontainers.org 00:00:40.29] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 5eb3bf0e55e9
[testcontainers.org 00:00:40.48] Wait for Docker container 3ba64a24be96 to complete readiness checks
[testcontainers.org 00:00:40.48] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 3ba64a24be96
[testcontainers.org 00:00:40.52] Docker container 9f32d4d30654 created
[testcontainers.org 00:00:40.52] Start Docker container 9f32d4d30654
[testcontainers.org 00:00:40.70] Wait for Docker container 9f32d4d30654 to complete readiness checks
[testcontainers.org 00:00:40.70] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 9f32d4d30654
[08:08:58 INF] Saved 1 entities to in-memory store.
  Failed Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.Data_CanBeInserted_AfterMigrations [2 s]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.Data_CanBeInserted_AfterMigrations() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/TestcontainersMigrationTests.cs:line 167
--- End of stack trace from previous location ---
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceIntegrationTests.ForeignKeyConstraints_DeleteTeam_CascadesDelete [32 ms]
  Passed Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.UpdateOrganizationLimitsAsync_WithRealDatabase_PersistsChanges [276 ms]
[08:08:58 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[testcontainers.org 00:00:41.39] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 5eb3bf0e55e9
[08:08:58 INF] Saved 1 entities to in-memory store.
[08:08:58 INF] Application started. Press Ctrl+C to shut down.
[08:08:58 INF] Hosting environment: Development
[08:08:58 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:08:58 INF] Saved 1 entities to in-memory store.
[08:08:58 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:08:58 INF] Saved 1 entities to in-memory store.
[08:08:58 WRN] Failed to determine the https port for redirect.
[08:08:58 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:08:58 INF] Saved 1 entities to in-memory store.
[08:08:58 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:08:58 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.GenerateApiKeyAsync_ShouldGenerateValidKeyFormat [1 s]
[testcontainers.org 00:00:41.69] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 3ba64a24be96
[08:08:58 INF] Saved 1 entities to in-memory store.
[08:08:58 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[testcontainers.org 00:00:41.85] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 9f32d4d30654
[08:08:59 INF] Saved 1 entities to in-memory store.
[08:08:59 INF] Saved 1 entities to in-memory store.
[08:08:59 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:42.30] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container ebaae2a3fa64
[08:08:59 INF] Saved 1 entities to in-memory store.
[08:08:59 INF] Saved 1 entities to in-memory store.
[08:08:59 INF] Saved 1 entities to in-memory store.
[08:08:59 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:42.58] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 5eb3bf0e55e9
[08:08:59 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:42.67] Docker container ebaae2a3fa64 ready
[08:08:59 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:42.73] Docker container 5eb3bf0e55e9 ready
[testcontainers.org 00:00:42.93] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 3ba64a24be96
[testcontainers.org 00:00:42.93] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 9f32d4d30654
[testcontainers.org 00:00:43.05] Docker container 9f32d4d30654 ready
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.UpdateLastUsedAsync_WithNonExistentKey_ShouldNotThrow [10 ms]
[testcontainers.org 00:00:43.42] Delete Docker container 9f32d4d30654
[testcontainers.org 00:00:43.67] Delete Docker container ebaae2a3fa64
[08:09:00 INF] Saved 1 entities to in-memory store.
[08:09:00 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:46.59]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.OrganizationLimit_EnforcedCorrectly [FAIL]
[xUnit.net 00:00:46.59]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:46.59]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:46.59]       
[xUnit.net 00:00:46.59]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:46.60]       Stack Trace:
[xUnit.net 00:00:46.60]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:46.60]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:46.61]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:46.62]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:46.62]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:46.62]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:46.63]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:00:46.64]         ----- Inner Stack Trace -----
[xUnit.net 00:00:46.64]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:46.64]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:46.64]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:46.64]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Passed Synaxis.Infrastructure.Tests.Services.OrganizationSettingsServiceIntegrationTests.GetOrganizationSettingsAsync_WithRealDatabase_ReturnsSettings [18 ms]
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.OrganizationLimit_EnforcedCorrectly [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[testcontainers.org 00:00:43.92] Delete Docker container 5eb3bf0e55e9
[08:09:01 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:01 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:43.95] Docker container e7238e5041c2 created
[testcontainers.org 00:00:43.96] Start Docker container e7238e5041c2
[08:09:01 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:44.05] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 3ba64a24be96
[08:09:01 INF] Saved 1 entities to in-memory store.
[08:09:01 INF] Saved 1 entities to in-memory store.
[08:09:01 INF] Saved 1 entities to in-memory store.
[08:09:01 INF] Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:01 INF] Saved 1 entities to in-memory store.
[08:09:01 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2501.3443ms.
[08:09:01 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[testcontainers.org 00:00:44.36] Docker container 3ba64a24be96 ready
[testcontainers.org 00:00:44.38] Docker container 443d7adb0a4a created
[testcontainers.org 00:00:44.38] Start Docker container 443d7adb0a4a
[08:09:01 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2765.2443ms
[08:09:01 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[testcontainers.org 00:00:44.43] Wait for Docker container e7238e5041c2 to complete readiness checks
[testcontainers.org 00:00:44.44] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container e7238e5041c2
[08:09:01 INF] Request starting HTTP/1.1 GET http://localhost/admin/health - null null
[08:09:01 INF] Saved 1 entities to in-memory store.
[08:09:01 INF] Executing endpoint 'HTTP: GET /admin/health'
[08:09:01 INF] Setting HTTP status code 200.
[08:09:01 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3019.9357ms
[08:09:01 INF] Writing value of type 'HealthDataDto' as Json.
[08:09:01 INF] Executed endpoint 'HTTP: GET /admin/health'
[08:09:01 INF] Request finished HTTP/1.1 GET http://localhost/admin/health - 200 null application/json; charset=utf-8 109.4378ms
[08:09:01 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:44.56] Wait for Docker container 443d7adb0a4a to complete readiness checks
[testcontainers.org 00:00:44.56] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 443d7adb0a4a
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.GetHealth_WithAuth_HasValidOverallStatus [5 s]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Security.ApiKeyServiceTests.RevokeApiKeyAsync_WithoutRevokedBy_ShouldStillRevoke [1 s]
[08:09:01 INF] Saved 1 entities to in-memory store.
[08:09:01 INF] Request starting HTTP/1.1 PUT http://localhost/admin/providers/groq - application/json; charset=utf-8 17
[08:09:01 INF] Saved 1 entities to in-memory store.
[08:09:01 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:44.79] Delete Docker container 3ba64a24be96
[08:09:01 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:01 INF] Saved 1 entities to in-memory store.
[08:09:01 INF] AuthenticationScheme: Bearer was challenged.
[08:09:02 INF] Saved 1 entities to in-memory store.
[08:09:02 INF] Request finished HTTP/1.1 PUT http://localhost/admin/providers/groq - 401 null null 219.8047ms
[08:09:02 INF] Saved 1 entities to in-memory store.
[08:09:02 INF] Saved 1 entities to in-memory store.
[08:09:02 INF] Request starting HTTP/1.1 GET http://localhost/admin/health - null null
[testcontainers.org 00:00:45.08] Docker container 8f80e6ce1607 created
[testcontainers.org 00:00:45.08] Start Docker container 8f80e6ce1607
[08:09:02 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:02 INF] AuthenticationScheme: Bearer was challenged.
[08:09:02 INF] Request finished HTTP/1.1 GET http://localhost/admin/health - 401 null null 6.2318ms
[08:09:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:02 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:02 INF] Saved 1 entities to in-memory store.
[08:09:02 INF] Executed DbCommand (14ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.944ms.
[08:09:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:02 INF] Saved 1 entities to in-memory store.
[08:09:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 228.4301ms
[08:09:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 237.9524ms
[08:09:02 INF] Request starting HTTP/1.1 GET http://localhost/admin/providers - null null
[08:09:02 INF] Executing endpoint 'HTTP: GET /admin/providers'
[08:09:02 INF] Setting HTTP status code 200.
[08:09:02 INF] Writing value of type 'List`1' as Json.
[08:09:02 INF] Executed endpoint 'HTTP: GET /admin/providers'
[08:09:02 INF] Request finished HTTP/1.1 GET http://localhost/admin/providers - 200 null application/json; charset=utf-8 7.3227ms
[08:09:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:02 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:02 INF] Saved 1 entities to in-memory store.
[08:09:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
  Passed Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.CheckConstraints_Enforced [1 s]
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceIntegrationTests.ForeignKeyConstraints_DeleteUser_CascadesDelete [17 ms]
[testcontainers.org 00:00:45.61] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container e7238e5041c2
[testcontainers.org 00:00:45.63] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 443d7adb0a4a
[08:09:02 INF] Saved 1 entities to in-memory store.
[08:09:02 INF] Saved 1 entities to in-memory store.
[08:09:02 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:45.73] Wait for Docker container 8f80e6ce1607 to complete readiness checks
[testcontainers.org 00:00:45.73] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 8f80e6ce1607
[08:09:02 INF] Executed DbCommand (88ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:03 INF] Saved 1 entities to in-memory store.
[08:09:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 521.193ms.
[08:09:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 705.7147ms
[08:09:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 706.5919ms
[08:09:03 INF] Request starting HTTP/1.1 GET http://localhost/admin/providers - null null
[08:09:03 INF] Executing endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Setting HTTP status code 200.
[08:09:03 INF] Writing value of type 'List`1' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Request finished HTTP/1.1 GET http://localhost/admin/providers - 200 null application/json; charset=utf-8 5.0612ms
[08:09:03 INF] Request starting HTTP/1.1 PUT http://localhost/admin/providers/AiHorde - application/json; charset=utf-8 16
[08:09:03 INF] Executing endpoint 'HTTP: PUT /admin/providers/{providerId}'
[08:09:03 INF] Setting HTTP status code 200.
[08:09:03 INF] Writing value of type '<>f__AnonymousType5`2' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: PUT /admin/providers/{providerId}'
[08:09:03 INF] Request finished HTTP/1.1 PUT http://localhost/admin/providers/AiHorde - 200 null application/json; charset=utf-8 29.3553ms
[08:09:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:03 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0628ms.
[08:09:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 6.0045ms
[08:09:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 6.9136ms
[08:09:03 INF] Request starting HTTP/1.1 PUT http://localhost/admin/providers/nonexistent - application/json; charset=utf-8 16
[08:09:03 INF] Executing endpoint 'HTTP: PUT /admin/providers/{providerId}'
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.UpdateProvider_WithoutAuth_ReturnsUnauthorized [430 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.GetHealth_WithoutAuth_ReturnsUnauthorized [14 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.GetProviders_WithAuth_ReturnsProviders [334 ms]
[08:09:03 INF] Setting HTTP status code 404.
[08:09:03 INF] Writing value of type '<>f__AnonymousType46`1' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: PUT /admin/providers/{providerId}'
[08:09:03 INF] Request finished HTTP/1.1 PUT http://localhost/admin/providers/nonexistent - 404 null application/json; charset=utf-8 3.3957ms
[08:09:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:03 INF] Saved 1 entities to in-memory store.
[08:09:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:03 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.3363ms.
[08:09:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 7.6363ms
[08:09:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 11.0416ms
[08:09:03 INF] Request starting HTTP/1.1 GET http://localhost/admin/providers - null null
[08:09:03 INF] Executing endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Setting HTTP status code 200.
[08:09:03 INF] Writing value of type 'List`1' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Request finished HTTP/1.1 GET http://localhost/admin/providers - 200 null application/json; charset=utf-8 2.6124ms
[08:09:03 INF] Request starting HTTP/1.1 PUT http://localhost/admin/providers/AiHorde - application/json; charset=utf-8 10
[08:09:03 INF] Executing endpoint 'HTTP: PUT /admin/providers/{providerId}'
[08:09:03 INF] Setting HTTP status code 200.
[08:09:03 INF] Writing value of type '<>f__AnonymousType5`2' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: PUT /admin/providers/{providerId}'
[08:09:03 INF] Request finished HTTP/1.1 PUT http://localhost/admin/providers/AiHorde - 200 null application/json; charset=utf-8 4.5315ms
[08:09:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:03 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.3913ms.
[08:09:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 11.3686ms
[08:09:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 11.8661ms
[08:09:03 INF] Saved 1 entities to in-memory store.
[08:09:03 INF] Saved 1 entities to in-memory store.
[08:09:03 INF] Request starting HTTP/1.1 GET http://localhost/admin/providers - null null
[08:09:03 INF] Executing endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Setting HTTP status code 200.
[08:09:03 INF] Writing value of type 'List`1' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Request finished HTTP/1.1 GET http://localhost/admin/providers - 200 null application/json; charset=utf-8 0.7575ms
[08:09:03 INF] Saved 1 entities to in-memory store.
[08:09:03 INF] Saved 1 entities to in-memory store.
[08:09:03 INF] Saved 1 entities to in-memory store.
[08:09:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:03 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.4203ms.
[08:09:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 5.314ms
[08:09:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 6.8597ms
[08:09:03 INF] Request starting HTTP/1.1 GET http://localhost/admin/providers - null null
[08:09:03 INF] Executing endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Setting HTTP status code 200.
[08:09:03 INF] Writing value of type 'List`1' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Request finished HTTP/1.1 GET http://localhost/admin/providers - 200 null application/json; charset=utf-8 2.4746ms
[08:09:03 INF] Request starting HTTP/1.1 GET http://localhost/admin/health - null null
[08:09:03 INF] Executing endpoint 'HTTP: GET /admin/health'
[08:09:03 INF] Setting HTTP status code 200.
[08:09:03 INF] Writing value of type 'HealthDataDto' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: GET /admin/health'
[08:09:03 INF] Request finished HTTP/1.1 GET http://localhost/admin/health - 200 null application/json; charset=utf-8 2.893ms
[08:09:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:03 INF] Saved 1 entities to in-memory store.
[08:09:03 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.6169ms.
[08:09:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 12.4235ms
[08:09:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 13.0952ms
[08:09:03 INF] Request starting HTTP/1.1 GET http://localhost/admin/providers - null null
[08:09:03 INF] Executing endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Setting HTTP status code 200.
[08:09:03 INF] Writing value of type 'List`1' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: GET /admin/providers'
[08:09:03 INF] Request finished HTTP/1.1 GET http://localhost/admin/providers - 200 null application/json; charset=utf-8 2.1279ms
[08:09:03 INF] Request starting HTTP/1.1 PUT http://localhost/admin/providers/AiHorde - application/json; charset=utf-8 25
[08:09:03 INF] Executing endpoint 'HTTP: PUT /admin/providers/{providerId}'
[08:09:03 INF] Setting HTTP status code 200.
[08:09:03 INF] Writing value of type '<>f__AnonymousType5`2' as Json.
[08:09:03 INF] Executed endpoint 'HTTP: PUT /admin/providers/{providerId}'
[08:09:03 INF] Request finished HTTP/1.1 PUT http://localhost/admin/providers/AiHorde - 200 null application/json; charset=utf-8 5.7149ms
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:47.08] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 443d7adb0a4a
[testcontainers.org 00:00:47.08] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container e7238e5041c2
[testcontainers.org 00:00:47.08] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container 8f80e6ce1607
[08:09:04 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:04 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:04 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Executed DbCommand (79ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:04 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 82.2133ms.
[08:09:04 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:04 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 86.2639ms
[08:09:04 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 86.8874ms
[08:09:04 INF] Request starting HTTP/1.1 GET http://localhost/admin/providers - null null
[08:09:04 INF] Executing endpoint 'HTTP: GET /admin/providers'
[08:09:04 INF] Setting HTTP status code 200.
[08:09:04 INF] Writing value of type 'List`1' as Json.
[08:09:04 INF] Executed endpoint 'HTTP: GET /admin/providers'
[08:09:04 INF] Request finished HTTP/1.1 GET http://localhost/admin/providers - 200 null application/json; charset=utf-8 2.1486ms
[08:09:04 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:04 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:04 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Executed DbCommand (122ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:04 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 124.2719ms.
[08:09:04 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 209.5219ms
[08:09:04 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 211.0948ms
[08:09:04 INF] Request starting HTTP/1.1 GET http://localhost/admin/health - null null
[08:09:04 INF] Executing endpoint 'HTTP: GET /admin/health'
[08:09:04 INF] Setting HTTP status code 200.
[08:09:04 INF] Writing value of type 'HealthDataDto' as Json.
[08:09:04 INF] Executed endpoint 'HTTP: GET /admin/health'
[08:09:04 INF] Request finished HTTP/1.1 GET http://localhost/admin/health - 200 null application/json; charset=utf-8 0.7224ms
[08:09:04 INF] Request starting HTTP/1.1 GET http://localhost/admin/providers - null null
[08:09:04 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:04 INF] AuthenticationScheme: Bearer was challenged.
[08:09:04 INF] Request finished HTTP/1.1 GET http://localhost/admin/providers - 401 null null 3.6202ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.UpdateProvider_WithAuth_UpdatesProvider [750 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.UpdateProvider_WithAuth_InvalidProvider_ReturnsNotFound [14 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.UpdateProvider_WithAuth_UpdatesTier [31 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.GetProviders_WithAuth_ContainsProviderFields [148 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.AdminEndpoints_HaveCorrectTags [80 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.UpdateProvider_WithAuth_UpdatesApiKey [461 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.GetProviders_WithAuth_ProviderHasModels [96 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.GetHealth_WithAuth_ContainsServices [221 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.GetProviders_WithoutAuth_ReturnsUnauthorized [19 ms]
[08:09:04 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:04 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:04 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:04 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.8393ms.
[08:09:04 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:04 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 18.24ms
[08:09:04 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Request starting HTTP/1.1 GET http://localhost/admin/health - null null
[08:09:04 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 23.4639ms
[08:09:04 INF] Executing endpoint 'HTTP: GET /admin/health'
[08:09:04 INF] Setting HTTP status code 200.
[08:09:04 INF] Writing value of type 'HealthDataDto' as Json.
[08:09:04 INF] Executed endpoint 'HTTP: GET /admin/health'
[08:09:04 INF] Request finished HTTP/1.1 GET http://localhost/admin/health - 200 null application/json; charset=utf-8 8.2707ms
[08:09:04 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:04 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:04 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:04 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:04 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.7065ms.
[08:09:04 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:04 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 19.253ms
[08:09:04 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 19.7419ms
[08:09:04 INF] Request starting HTTP/1.1 GET http://localhost/admin/health - null null
[08:09:04 INF] Executing endpoint 'HTTP: GET /admin/health'
[08:09:04 INF] Setting HTTP status code 200.
[08:09:04 INF] Writing value of type 'HealthDataDto' as Json.
[08:09:04 INF] Executed endpoint 'HTTP: GET /admin/health'
[08:09:04 INF] Request finished HTTP/1.1 GET http://localhost/admin/health - 200 null application/json; charset=utf-8 0.7194ms
[testcontainers.org 00:00:47.54] Docker container 8f80e6ce1607 ready
[testcontainers.org 00:00:47.56] Docker container 443d7adb0a4a ready
[testcontainers.org 00:00:47.56] Docker container e7238e5041c2 ready
[08:09:04 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:04 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:04 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:04 INF] Executed DbCommand (3ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:04 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.4341ms.
[08:09:04 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:04 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 18.3271ms
[08:09:04 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:04 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 19.6365ms
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Request starting HTTP/1.1 GET http://localhost/admin/providers - null null
[08:09:04 INF] Executing endpoint 'HTTP: GET /admin/providers'
[08:09:04 INF] Setting HTTP status code 200.
[08:09:04 INF] Writing value of type 'List`1' as Json.
[08:09:04 INF] Executed endpoint 'HTTP: GET /admin/providers'
[08:09:04 INF] Request finished HTTP/1.1 GET http://localhost/admin/providers - 200 null application/json; charset=utf-8 2.443ms
[08:09:04 INF] Request starting HTTP/1.1 PUT http://localhost/admin/providers/AiHorde - application/json; charset=utf-8 41
[08:09:04 INF] Executing endpoint 'HTTP: PUT /admin/providers/{providerId}'
[08:09:04 INF] Setting HTTP status code 200.
[08:09:04 INF] Writing value of type '<>f__AnonymousType5`2' as Json.
[08:09:04 INF] Executed endpoint 'HTTP: PUT /admin/providers/{providerId}'
[08:09:04 INF] Request finished HTTP/1.1 PUT http://localhost/admin/providers/AiHorde - 200 null application/json; charset=utf-8 6.9571ms
[testcontainers.org 00:00:55.83] Delete Docker container a85639ac0173
[testcontainers.org 00:00:55.83] Delete Docker container 71c64a1a8e4b
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:04 INF] Saved 1 entities to in-memory store.
[08:09:05 INF] Saved 1 entities to in-memory store.
[08:09:05 INF] Saved 1 entities to in-memory store.
[08:09:05 INF] Saved 1 entities to in-memory store.
[08:09:05 INF] Saved 1 entities to in-memory store.
[08:09:05 INF] Saved 1 entities to in-memory store.
[08:09:05 INF] Application is shutting down...
[testcontainers.org 00:00:56.99] Docker container 8ec990774bcf created
[testcontainers.org 00:00:48.73] Delete Docker container 8f80e6ce1607
[testcontainers.org 00:00:48.88] Delete Docker container e7238e5041c2
[testcontainers.org 00:00:57.10] Start Docker container 8ec990774bcf
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.GetHealth_WithAuth_ReturnsHealthData [42 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.GetHealth_WithAuth_ContainsProviders [98 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Admin.AdminEndpointsTests.UpdateProvider_WithAuth_UpdatesEndpoint [68 ms]
[testcontainers.org 00:00:57.18] Docker container 8a7c8ebf73d3 created
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceIntegrationTests.UniqueConstraint_PreventsDuplicateMemberships [45 ms]
[testcontainers.org 00:00:57.20] Start Docker container 8a7c8ebf73d3
[08:09:06 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:49.06] Docker container af51a1f47950 created
[testcontainers.org 00:00:49.08] Start Docker container af51a1f47950
[testcontainers.org 00:00:49.16] Delete Docker container 443d7adb0a4a
[08:09:06 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:52.03]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.Pagination_LargeDataset_WorksCorrectly [FAIL]
[xUnit.net 00:00:52.03]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:52.03]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:52.03]       
[xUnit.net 00:00:52.03]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:52.03]       Stack Trace:
[xUnit.net 00:00:52.03]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:52.03]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:52.03]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:52.03]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:52.03]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:52.03]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[testcontainers.org 00:00:57.48] Wait for Docker container 8a7c8ebf73d3 to complete readiness checks
[testcontainers.org 00:00:57.48] Execute "redis-cli ping" at Docker container 8a7c8ebf73d3
[xUnit.net 00:00:52.03]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[testcontainers.org 00:00:57.54] Docker container 8a7c8ebf73d3 ready
[testcontainers.org 00:00:57.55] Wait for Docker container 8ec990774bcf to complete readiness checks
[testcontainers.org 00:00:57.55] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 8ec990774bcf
[xUnit.net 00:00:52.09]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:00:52.09]         ----- Inner Stack Trace -----
[xUnit.net 00:00:52.09]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:52.09]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:52.09]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:52.09]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[testcontainers.org 00:00:49.46] Wait for Docker container af51a1f47950 to complete readiness checks
[testcontainers.org 00:00:49.59] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container af51a1f47950
[08:09:06 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:49.71] Docker container 1feeb7b37990 created
[testcontainers.org 00:00:49.72] Start Docker container 1feeb7b37990
[testcontainers.org 00:00:49.78] Docker container 84df7bb45388 created
[testcontainers.org 00:00:49.79] Start Docker container 84df7bb45388
[testcontainers.org 00:00:50.09] Wait for Docker container 1feeb7b37990 to complete readiness checks
[testcontainers.org 00:00:50.11] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 1feeb7b37990
[testcontainers.org 00:00:50.21] Wait for Docker container 84df7bb45388 to complete readiness checks
[testcontainers.org 00:00:50.21] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 84df7bb45388
[08:09:07 INF] Saved 1 entities to in-memory store.
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.Pagination_LargeDataset_WorksCorrectly [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Passed Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.UniqueConstraints_Enforced [1 s]
[testcontainers.org 00:00:59.18] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 8ec990774bcf
[08:09:08 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:51.33] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container af51a1f47950
[08:09:09 INF] Saved 1 entities to in-memory store.
[08:09:09 INF] Saved 1 entities to in-memory store.
[08:09:09 INF] Saved 1 entities to in-memory store.
[08:09:09 INF] Saved 1 entities to in-memory store.
[08:09:09 INF] Saved 1 entities to in-memory store.
[08:09:09 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:01:00.68] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 8ec990774bcf
[08:09:09 INF] Saved 1 entities to in-memory store.
[08:09:09 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:52.33] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 84df7bb45388
[testcontainers.org 00:00:52.34] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 1feeb7b37990
[08:09:09 INF] Saved 1 entities to in-memory store.
[08:09:10 INF] Saved 1 entities to in-memory store.
[08:09:10 INF] Saved 1 entities to in-memory store.
[08:09:10 INF] Saved 1 entities to in-memory store.
[08:09:10 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:53.08] Execute "pg_isready --host localhost --dbname synaxis_test --username test" at Docker container af51a1f47950
[08:09:10 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:53.20] Docker container af51a1f47950 ready
[08:09:10 INF] Saved 1 entities to in-memory store.
[08:09:10 INF] Saved 1 entities to in-memory store.
[08:09:10 INF] Saved 1 entities to in-memory store.
[08:09:10 INF] Saved 1 entities to in-memory store.
[08:09:10 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:53.55] Delete Docker container af51a1f47950
[08:09:10 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:53.61] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 84df7bb45388
[testcontainers.org 00:00:53.61] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 1feeb7b37990
[testcontainers.org 00:01:01.81] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 8ec990774bcf
[08:09:10 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:01:01.92] Docker container 8ec990774bcf ready
[testcontainers.org 00:00:53.81] Docker container 84df7bb45388 ready
[testcontainers.org 00:00:53.81] Docker container 1feeb7b37990 ready
[08:09:11 INF] Saved 1 entities to in-memory store.
[08:09:11 INF] Saved 1 entities to in-memory store.
[08:09:11 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:54.26] Delete Docker container 1feeb7b37990
[08:09:11 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:57.18]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.ListTeams_ExcludesSoftDeletedTeams [FAIL][08:09:11 INF] Saved 1 entities to in-memory store.

[testcontainers.org 00:00:54.42] Delete Docker container 84df7bb45388
[xUnit.net 00:00:57.18]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:57.18]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:57.18]       
[xUnit.net 00:00:57.18]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:57.18]       Stack Trace:
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:00:57.18]         ----- Inner Stack Trace -----
[xUnit.net 00:00:57.18]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:57.18]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:57.18]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:57.18]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Passed Synaxis.Infrastructure.Tests.Services.TeamMembershipServiceIntegrationTests.GetUserTeams_WithMultipleTeams_ReturnsAllTeams [46 ms]
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.ListTeams_ExcludesSoftDeletedTeams [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[08:09:11 INF] Saved 1 entities to in-memory store.
[08:09:11 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:54.59] Docker container 54724de3c5e3 created
[testcontainers.org 00:00:54.59] Start Docker container 54724de3c5e3
[08:09:11 INF] Saved 1 entities to in-memory store.
[08:09:11 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:57.48]     Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.JsonColumns_WorkCorrectly [FAIL]
[xUnit.net 00:00:57.48]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:00:57.48]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:00:57.48]       
[xUnit.net 00:00:57.48]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:00:57.48]       Stack Trace:
[xUnit.net 00:00:57.48]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:57.48]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:00:57.49]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[08:09:11 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:00:57.50]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[testcontainers.org 00:00:54.75] Wait for Docker container 54724de3c5e3 to complete readiness checks
[testcontainers.org 00:00:54.79] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 54724de3c5e3
[xUnit.net 00:00:57.50]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/TestcontainersMigrationTests.cs(409,0): at Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.JsonColumns_WorkCorrectly()
[xUnit.net 00:00:57.59]         --- End of stack trace from previous location ---
[xUnit.net 00:00:57.59]         ----- Inner Stack Trace -----
[xUnit.net 00:00:57.59]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:00:57.59]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:00:57.59]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:00:57.59]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[testcontainers.org 00:00:54.86] Docker container 328b79df3777 created
[testcontainers.org 00:00:54.87] Start Docker container 328b79df3777
[08:09:12 INF] Saved 1 entities to in-memory store.
[08:09:12 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:55.08] Wait for Docker container 328b79df3777 to complete readiness checks
[testcontainers.org 00:00:55.09] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 328b79df3777
[08:09:12 INF] Saved 1 entities to in-memory store.
[08:09:12 INF] Saved 1 entities to in-memory store.
  Failed Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.JsonColumns_WorkCorrectly [607 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.JsonColumns_WorkCorrectly() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Migrations/TestcontainersMigrationTests.cs:line 409
--- End of stack trace from previous location ---
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[testcontainers.org 00:00:55.89] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 54724de3c5e3
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Starting web host
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:13 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:56.70] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 328b79df3777
[08:09:13 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Security configuration validation passed successfully
[08:09:14 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:14 WRN] Skipping database migration per configuration.
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Application started. Press Ctrl+C to shut down.
[08:09:14 INF] Hosting environment: Development
[08:09:14 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:14 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 83
[08:09:14 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:57.31] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 54724de3c5e3
[testcontainers.org 00:00:57.37] Docker container 54724de3c5e3 ready
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 WRN] Failed to determine the https port for redirect.
[08:09:14 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:14 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43296;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Executing chat request with intelligent fallback for model 'non-existent-model-12345'
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Attempting Tier 2 fallback: Free tier providers
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Saved 1 entities to in-memory store.
[08:09:14 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:57.78] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 328b79df3777
[08:09:14 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:57.84] Delete Docker container 54724de3c5e3
[testcontainers.org 00:00:57.84] Docker container 328b79df3777 ready
[xUnit.net 00:01:00.77]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.SoftDelete_DoesNotDeleteFromDatabase [FAIL]
[xUnit.net 00:01:00.77]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:01:00.78]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:01:00.78]       
[xUnit.net 00:01:00.78]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:01:00.78]       Stack Trace:
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:01:00.78]         ----- Inner Stack Trace -----
[xUnit.net 00:01:00.78]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:01:00.78]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:01:00.78]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:01:00.78]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.SoftDelete_DoesNotDeleteFromDatabase [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[08:09:15 INF] Saved 1 entities to in-memory store.
[08:09:15 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:58.18] Docker container 214e211ab743 created
[testcontainers.org 00:00:58.18] Start Docker container 214e211ab743
[testcontainers.org 00:00:58.26] Delete Docker container 328b79df3777
[testcontainers.org 00:00:58.32] Wait for Docker container 214e211ab743 to complete readiness checks
[testcontainers.org 00:00:58.33] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 214e211ab743
[08:09:15 INF] Saved 1 entities to in-memory store.
[08:09:15 WRN] Entity 'SynaxisUser' has a global query filter defined and is the required end of a relationship with the entity 'Invitation'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[08:09:15 WRN] Entity 'Organization' has a global query filter defined and is the required end of a relationship with the entity 'OrganizationSettings'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[08:09:15 WRN] Entity 'Group' has a global query filter defined and is the required end of a relationship with the entity 'UserGroupMembership'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[08:09:15 WRN] Entity 'Organization' has a global query filter defined and is the required end of a relationship with the entity 'UserOrganizationMembership'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[08:09:15 WRN] Entity 'Organization' has a global query filter defined and is the required end of a relationship with the entity 'UserRole'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[08:09:15 INF] Saved 1 entities to in-memory store.
[08:09:15 INF] Saved 1 entities to in-memory store.
[08:09:15 INF] Saved 1 entities to in-memory store.
[08:09:15 INF] Saved 1 entities to in-memory store.
[08:09:16 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 0 candidates for 'non-existent-model-12345'
[DEBUG] Fallback: Registry lookup with 'non-existent-model-12345' returned 0 candidates
[08:09:16 WRN] No providers found for model 'non-existent-model-12345' with required capabilities.
[08:09:16 WRN] Free tier fallback failed
System.ArgumentException: No providers available for model 'non-existent-model-12345' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 91
[08:09:16 INF] Attempting Tier 3 fallback: Paid providers
[08:09:16 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 0 candidates for 'non-existent-model-12345'
[DEBUG] Fallback: Registry lookup with 'non-existent-model-12345' returned 0 candidates
[08:09:16 WRN] No providers found for model 'non-existent-model-12345' with required capabilities.
[08:09:16 WRN] Paid provider fallback failed
System.ArgumentException: No providers available for model 'non-existent-model-12345' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 120
[08:09:16 INF] Attempting Tier 4 fallback: Emergency fallback
[08:09:16 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 0 candidates for 'non-existent-model-12345'
[DEBUG] Fallback: Registry lookup with 'non-existent-model-12345' returned 0 candidates
[08:09:16 WRN] No providers found for model 'non-existent-model-12345' with required capabilities.
[08:09:16 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:16 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PA, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
System.ArgumentException: No providers available for model 'non-existent-model-12345' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 147
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/SmartRoutingChatClient.cs:line 103
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 44
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 88
   at Synaxis.InferenceGateway.WebApi.Features.Chat.Handlers.ChatCompletionHandler.Handle(ChatCommand request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Features/Chat/Handlers/ChatCompletionHandler.cs:line 41
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 124
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:16 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PA, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: ArgumentException, Message: No providers available for model 'non-existent-model-12345' with the requested capabilities. (Parameter 'modelId')
System.ArgumentException: No providers available for model 'non-existent-model-12345' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 147
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/SmartRoutingChatClient.cs:line 103
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 44
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 88
   at Synaxis.InferenceGateway.WebApi.Features.Chat.Handlers.ChatCompletionHandler.Handle(ChatCommand request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Features/Chat/Handlers/ChatCompletionHandler.cs:line 41
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 124
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:16 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 1587.5642ms
  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_InvalidModelId_Returns400 [2 s]
  Standard Output Messages:
 Response: {"error":{"message":"No providers available for model \u0027non-existent-model-12345\u0027 with the requested capabilities. (Parameter \u0027modelId\u0027)","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PA"}}


[08:09:16 INF] Starting web host
[08:09:16 INF] Saved 1 entities to in-memory store.
[08:09:16 INF] Saved 1 entities to in-memory store.
[08:09:16 INF] Saved 1 entities to in-memory store.
[08:09:16 INF] Saved 1 entities to in-memory store.
[08:09:16 INF] Saved 1 entities to in-memory store.
[08:09:16 INF] Saved 1 entities to in-memory store.
[08:09:16 INF] Saved 1 entities to in-memory store.
[08:09:16 INF] Saved 1 entities to in-memory store.
[08:09:16 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:00:59.39] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 214e211ab743
[08:09:16 INF] Security configuration validation passed successfully
[08:09:16 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:16 WRN] Skipping database migration per configuration.
[08:09:16 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.Infrastructure.Tests.Migrations.TestcontainersMigrationTests.Migrations_CanBeApplied_ToFreshDatabase [406 ms]
[08:09:17 INF] Saved 1 entities to in-memory store.
[08:09:17 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:17 INF] Saved 1 entities to in-memory store.
[08:09:17 INF] Saved 1 entities to in-memory store.
[08:09:17 INF] Application started. Press Ctrl+C to shut down.
[08:09:17 INF] Hosting environment: Development
[08:09:17 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:17 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 85
[08:09:17 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:01:00.48] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container 214e211ab743
[08:09:17 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:01:00.54] Docker container 214e211ab743 ready
[08:09:17 INF] Saved 1 entities to in-memory store.
[08:09:17 WRN] Failed to determine the https port for redirect.
[08:09:17 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:17 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:17 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PB, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: Temperature: Temperature must be between 0 and 2
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:17 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PB, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: BadHttpRequestException, Message: Invalid request: Temperature: Temperature must be between 0 and 2
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: Temperature: Temperature must be between 0 and 2
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:17 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 155.0059ms
[08:09:17 INF] Starting web host
  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_InvalidTemperatureParameter_OutOfRange_Returns400 [1 s]
  Standard Output Messages:
 Response: {"error":{"message":"Invalid request: Temperature: Temperature must be between 0 and 2","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PB"}}


[08:09:17 INF] Saved 1 entities to in-memory store.
[08:09:17 INF] Saved 1 entities to in-memory store.
[08:09:17 INF] Saved 1 entities to in-memory store.
[08:09:18 INF] Saved 1 entities to in-memory store.
[08:09:18 INF] Saved 1 entities to in-memory store.
[08:09:18 INF] Saved 1 entities to in-memory store.
[08:09:18 INF] Saved 1 entities to in-memory store.
[08:09:18 INF] Security configuration validation passed successfully
[08:09:18 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:18 WRN] Skipping database migration per configuration.
[testcontainers.org 00:01:01.23] Delete Docker container 214e211ab743
[08:09:18 INF] Saved 1 entities to in-memory store.
[08:09:18 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:01:04.17]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.UniqueConstraint_SameSlugDifferentOrgs_Allowed [FAIL]
[xUnit.net 00:01:04.17]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:01:04.17]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:01:04.17]       
[xUnit.net 00:01:04.17]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:01:04.17]       Stack Trace:
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:01:04.18]         ----- Inner Stack Trace -----
[xUnit.net 00:01:04.18]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:01:04.18]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:01:04.18]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:01:04.18]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.UniqueConstraint_SameSlugDifferentOrgs_Allowed [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[08:09:18 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:01:01.53] Docker container b21076a081b3 created
[testcontainers.org 00:01:01.53] Start Docker container b21076a081b3
[08:09:18 INF] Saved 1 entities to in-memory store.
[08:09:18 INF] Saved 1 entities to in-memory store.
[08:09:18 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:01:01.72] Wait for Docker container b21076a081b3 to complete readiness checks
[testcontainers.org 00:01:01.72] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container b21076a081b3
[08:09:19 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:19 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:01:12.53]     Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_Success_StoresResult [FAIL]
[xUnit.net 00:01:12.54]       Moq.MockException : 
[xUnit.net 00:01:12.54]       Expected invocation on the mock once, but was 0 times: db => db.StringSetAsync(It.Is<RedisKey>(k => k.ToString() == resultKey), It.IsAny<RedisValue>(), It.IsAny<TimeSpan?>(), It.IsAny<bool>(), It.IsAny<When>(), CommandFlags.None)
[xUnit.net 00:01:12.54]       
[xUnit.net 00:01:12.54]       Performed invocations:
[xUnit.net 00:01:12.54]       
[xUnit.net 00:01:12.54]          Mock<IDatabase:62> (db):
[xUnit.net 00:01:12.54]       
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringSetAsync(inflight:hash-store, locked, 00:00:30, When.NotExists)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]             IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
[xUnit.net 00:01:12.54]       
[xUnit.net 00:01:12.55]       Stack Trace:
[xUnit.net 00:01:12.55]         /_/src/Moq/Mock.cs(332,0): at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage)
[xUnit.net 00:01:12.55]         /_/src/Moq/Mock`1.cs(840,0): at Moq.Mock`1.Verify[TResult](Expression`1 expression, Func`1 times)
[xUnit.net 00:01:12.55]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisInFlightDeduplicationTests.cs(275,0): at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_Success_StoresResult()
[xUnit.net 00:01:12.55]         --- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_Success_StoresResult [30 s]
  Error Message:
   Moq.MockException : 
Expected invocation on the mock once, but was 0 times: db => db.StringSetAsync(It.Is<RedisKey>(k => k.ToString() == resultKey), It.IsAny<RedisValue>(), It.IsAny<TimeSpan?>(), It.IsAny<bool>(), It.IsAny<When>(), CommandFlags.None)

Performed invocations:

   Mock<IDatabase:62> (db):

      IDatabaseAsync.StringSetAsync(inflight:hash-store, locked, 00:00:30, When.NotExists)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-store, CommandFlags.None)

  Stack Trace:
     at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage) in /_/src/Moq/Mock.cs:line 332
   at Moq.Mock`1.Verify[TResult](Expression`1 expression, Func`1 times) in /_/src/Moq/Mock`1.cs:line 840
   at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_Success_StoresResult() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisInFlightDeduplicationTests.cs:line 275
--- End of stack trace from previous location ---
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Application started. Press Ctrl+C to shut down.
[08:09:19 INF] Hosting environment: Development
[08:09:19 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:19 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 51
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 WRN] Failed to determine the https port for redirect.
[08:09:19 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:19 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43296;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:09:19 INF] Attempting Tier 2 fallback: Free tier providers
[08:09:19 INF] Executed DbCommand (3ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:09:19 INF] Attempting Tier 3 fallback: Paid providers
[08:09:19 INF] Executed DbCommand (3ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:09:19 INF] Executed DbCommand (3ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:09:19 INF] Using paid provider 'test-provider'
[08:09:19 INF] Routing request to provider 'test-provider'
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 20.4218ms
[08:09:19 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Writing value of type 'ChatCompletionResponse' as Json.
[08:09:19 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:19 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 200 null application/json; charset=utf-8 537.5106ms
  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_InvalidMessageFormat_MissingContent_Returns200 [2 s]
  Standard Output Messages:
 Response: {"id":"chatcmpl-0d3d58be80644cb6ac3e31544a0d20c4","object":"chat.completion","created":1770707359,"model":"test-alias","choices":[{"index":0,"message":{"role":"assistant","content":"Hello from mock!","name":null,"tool_calls":null},"finish_reason":"stop"}],"usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0}}


[08:09:19 INF] Starting web host
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:19 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Security configuration validation passed successfully
[08:09:20 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:20 WRN] Skipping database migration per configuration.
[testcontainers.org 00:01:02.96] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container b21076a081b3[08:09:20 INF] Saved 1 entities to in-memory store.

[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Application started. Press Ctrl+C to shut down.
[08:09:20 INF] Hosting environment: Development
[08:09:20 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:20 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 55
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 WRN] Failed to determine the https port for redirect.
[08:09:20 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:20 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:20 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PD, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: messages[0].Role: Message role is required
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:20 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PD, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: BadHttpRequestException, Message: Invalid request: messages[0].Role: Message role is required
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: messages[0].Role: Message role is required
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:20 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 224.9457ms
[08:09:20 INF] Starting web host
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Security configuration validation passed successfully
[08:09:20 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:20 WRN] Skipping database migration per configuration.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:20 INF] Application started. Press Ctrl+C to shut down.
[08:09:20 INF] Hosting environment: Development
[08:09:20 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:20 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 85
[08:09:20 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 WRN] Failed to determine the https port for redirect.
[08:09:21 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:21 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:21 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PE, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid JSON body
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.Boolean. Path: $.stream | LineNumber: 0 | BytePositionInLine: 84.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'String' as a boolean.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedBoolean(JsonTokenType tokenType)
   at System.Text.Json.Serialization.Converters.BooleanConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 105
   --- End of inner exception stack trace ---
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 132
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:21 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PE, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: BadHttpRequestException, Message: Invalid JSON body
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid JSON body
 ---> System.Text.Json.JsonException: The JSON value could not be converted to System.Boolean. Path: $.stream | LineNumber: 0 | BytePositionInLine: 84.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'String' as a boolean.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedBoolean(JsonTokenType tokenType)
   at System.Text.Json.Serialization.Converters.BooleanConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 105
   --- End of inner exception stack trace ---
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 132
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:21 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 99.5197ms
[08:09:21 INF] Starting web host
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:01:04.04] Execute "pg_isready --host localhost --dbname synaxis_test --username postgres" at Docker container b21076a081b3
[08:09:21 INF] Security configuration validation passed successfully
[08:09:21 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:21 WRN] Skipping database migration per configuration.
[08:09:21 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:01:04.12] Docker container b21076a081b3 ready
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_InvalidMessageFormat_MissingRole_Returns400 [746 ms]
  Standard Output Messages:
 Response: {"error":{"message":"Invalid request: messages[0].Role: Message role is required","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PD"}}


  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_InvalidStreamParameter_NonBoolean_Returns400 [471 ms]
  Standard Output Messages:
 Response: {"error":{"message":"Invalid JSON body","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PE"}}


[08:09:21 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Application started. Press Ctrl+C to shut down.
[08:09:21 INF] Hosting environment: Development
[08:09:21 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:21 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 36
[testcontainers.org 00:01:04.41] Delete Docker container b21076a081b3
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 WRN] Failed to determine the https port for redirect.
[08:09:21 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:21 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:21 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PF, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: Messages: At least one message is required
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:21 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PF, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: BadHttpRequestException, Message: Invalid request: Messages: At least one message is required
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: Messages: At least one message is required
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:21 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 133.0043ms
[08:09:21 INF] Starting web host
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[xUnit.net 00:01:07.34]     Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.UniqueConstraint_DuplicateSlugWithinOrg_ThrowsException [FAIL]
[xUnit.net 00:01:07.34]       Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
[xUnit.net 00:01:07.34]       ---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint
[xUnit.net 00:01:07.34]       
[xUnit.net 00:01:07.34]       DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
[xUnit.net 00:01:07.34]       Stack Trace:
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]         /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs(69,0): at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync()
[xUnit.net 00:01:07.34]         ----- Inner Stack Trace -----
[xUnit.net 00:01:07.34]            at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
[xUnit.net 00:01:07.34]            at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
[xUnit.net 00:01:07.34]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]            at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
[xUnit.net 00:01:07.34]   Finished:    Synaxis.Infrastructure.Tests
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Security configuration validation passed successfully
[08:09:21 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:21 WRN] Skipping database migration per configuration.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:21 INF] Saved 1 entities to in-memory store.
  Failed Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.UniqueConstraint_DuplicateSlugWithinOrg_ThrowsException [1 ms]
  Error Message:
   Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.
---- Npgsql.PostgresException : 23502: null value in column "description" of relation "organizations" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
  Stack Trace:
     at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Synaxis.Infrastructure.Tests.Services.TeamServiceIntegrationTests.InitializeAsync() in /home/rrj/src/github/rudironsoni/Synaxis/tests/Synaxis.Infrastructure.Tests/Services/TeamServiceIntegrationTests.cs:line 69
----- Inner Stack Trace -----
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)

Test Run Failed.
Total tests: 139
     Passed: 122
     Failed: 17
 Total time: 1.2008 Minutes
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:21 INF] Application started. Press Ctrl+C to shut down.
[08:09:21 INF] Hosting environment: Development
[08:09:21 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:21 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 86
[08:09:21 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 WRN] Failed to determine the https port for redirect.
[08:09:22 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:22 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:22 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PG, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: MaxTokens: MaxTokens must be a positive integer
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:22 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PG, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: BadHttpRequestException, Message: Invalid request: MaxTokens: MaxTokens must be a positive integer
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: MaxTokens: MaxTokens must be a positive integer
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:22 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 77.3671ms
[08:09:22 INF] Starting web host
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] ProviderDiscoveryJob: Successfully upserted 344 models for provider OpenRouter
[08:09:22 ERR] Error discovering models for provider Pollinations
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at Synaxis.InferenceGateway.Infrastructure.External.OpenAi.OpenAiModelDiscoveryClient.GetModelsAsync(String baseUrl, String apiKey, CancellationToken ct) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/External/OpenAi/OpenAiModelDiscoveryClient.cs:line 47
   at Synaxis.InferenceGateway.Infrastructure.Jobs.ProviderDiscoveryJob.ProcessProviderAsync(String providerKey, ProviderConfig providerCfg, ControlPlaneDbContext db, IOpenAiModelDiscoveryClient discovery) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Jobs/ProviderDiscoveryJob.cs:line 151
[08:09:22 INF] Start processing HTTP request GET https://api.sambanova.ai/v1/models
[08:09:22 INF] Sending HTTP request GET https://api.sambanova.ai/v1/models
[08:09:22 INF] Security configuration validation passed successfully
[08:09:22 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:22 WRN] Skipping database migration per configuration.
[08:09:22 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:22 INF] Application started. Press Ctrl+C to shut down.
[08:09:22 INF] Hosting environment: Development
[08:09:22 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:22 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 48
[08:09:22 WRN] Failed to determine the https port for redirect.
[08:09:22 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:22 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:22 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PH, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: Model: Model is required
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:22 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PH, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: BadHttpRequestException, Message: Invalid request: Model: Model is required
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: Model: Model is required
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:22 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 79.4948ms
[08:09:22 INF] Starting web host
[08:09:22 INF] Security configuration validation passed successfully
[08:09:22 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:22 WRN] Skipping database migration per configuration.
[08:09:22 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:22 INF] Application started. Press Ctrl+C to shut down.
[08:09:22 INF] Hosting environment: Development
[08:09:22 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:22 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 22
[08:09:22 WRN] Failed to determine the https port for redirect.
[08:09:22 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:22 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:22 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PI, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: Messages: At least one message is required
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:22 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PI, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: BadHttpRequestException, Message: Invalid request: Messages: At least one message is required
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid request: Messages: At least one message is required
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 121
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:22 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 68.5299ms
[08:09:22 INF] Starting web host
[08:09:22 INF] Received HTTP response headers after 583.922ms - 200
[08:09:22 INF] End processing HTTP request after 584.0989ms - 200
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Security configuration validation passed successfully
[08:09:22 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:22 WRN] Skipping database migration per configuration.
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:22 INF] Saved 1 entities to in-memory store.
  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_EmptyMessagesArray_Returns200 [566 ms]
  Standard Output Messages:
 Response: {"error":{"message":"Invalid request: Messages: At least one message is required","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PF"}}


  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_InvalidMaxTokensParameter_Negative_Returns400 [386 ms]
  Standard Output Messages:
 Response: {"error":{"message":"Invalid request: MaxTokens: MaxTokens must be a positive integer","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PG"}}


  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_MissingModelField_UsesDefault [325 ms]
  Standard Output Messages:
 Response: {"error":{"message":"Invalid request: Model: Model is required","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PH"}}


  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_MissingMessagesField_Returns200 [311 ms]
  Standard Output Messages:
 Response: {"error":{"message":"Invalid request: Messages: At least one message is required","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PI"}}


[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Application started. Press Ctrl+C to shut down.
[08:09:22 INF] Hosting environment: Development
[08:09:22 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:22 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 96
[08:09:22 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 WRN] Failed to determine the https port for redirect.
[08:09:23 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:23 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43296;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:23 INF] Executing streaming chat request with intelligent fallback for model 'test-provider/no-stream'
[08:09:23 INF] Attempting Tier 2 fallback: Free tier providers
[08:09:23 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[08:09:23 WRN] No providers found for model 'test-provider/no-stream' with required capabilities.
[08:09:23 WRN] Free tier fallback failed
System.ArgumentException: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 91
[08:09:23 INF] Attempting Tier 3 fallback: Paid providers
[08:09:23 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[08:09:23 WRN] No providers found for model 'test-provider/no-stream' with required capabilities.
[08:09:23 WRN] Paid provider fallback failed
System.ArgumentException: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 120
[08:09:23 INF] Attempting Tier 4 fallback: Emergency fallback
[08:09:23 INF] Executed DbCommand (4ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[08:09:23 WRN] No providers found for model 'test-provider/no-stream' with required capabilities.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:23 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PJ, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
System.ArgumentException: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 147
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/SmartRoutingChatClient.cs:line 135
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 76
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 76
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 154
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 154
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:23 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PJ, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: ArgumentException, Message: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
System.ArgumentException: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 147
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/SmartRoutingChatClient.cs:line 135
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 76
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 76
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 154
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 154
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:23 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 114.6246ms
[08:09:23 INF] Starting web host
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Security configuration validation passed successfully
[08:09:23 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:23 WRN] Skipping database migration per configuration.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Application started. Press Ctrl+C to shut down.
[08:09:23 INF] Hosting environment: Development
[08:09:23 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:23 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 79
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 WRN] Failed to determine the https port for redirect.
[08:09:23 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:23 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:09:23 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0PK, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid JSON body
 ---> System.Text.Json.JsonException: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. Path: $ | LineNumber: 0 | BytePositionInLine: 79.
 ---> System.Text.Json.JsonReaderException: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. LineNumber: 0 | BytePositionInLine: 79.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 105
   --- End of inner exception stack trace ---
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 132
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:23 ERR] Exception caught. RequestId: 0HNJ8ECIBO0PK, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: BadHttpRequestException, Message: Invalid JSON body
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid JSON body
 ---> System.Text.Json.JsonException: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. Path: $ | LineNumber: 0 | BytePositionInLine: 79.
 ---> System.Text.Json.JsonReaderException: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. LineNumber: 0 | BytePositionInLine: 79.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 105
   --- End of inner exception stack trace ---
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 132
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:09:23 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 77.7126ms
[08:09:23 INF] Saved 1 entities to in-memory store.
[testcontainers.org 00:01:14.48] Delete Docker container 8a7c8ebf73d3
[testcontainers.org 00:01:14.48] Delete Docker container 8ec990774bcf
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Saved 1 entities to in-memory store.
[08:09:23 INF] ProviderDiscoveryJob: Successfully upserted 17 models for provider SambaNova
[08:09:23 INF] Start processing HTTP request GET https://api.siliconflow.cn/v1/models
[08:09:23 INF] Sending HTTP request GET https://api.siliconflow.cn/v1/models
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Application is shutting down...
[08:09:23 INF] Application is shutting down...
[testcontainers.org 00:01:14.79] Docker container b410049e4fd3 created
[testcontainers.org 00:01:14.79] Start Docker container b410049e4fd3
[testcontainers.org 00:01:14.79] Docker container 51f6532badf2 created
[testcontainers.org 00:01:14.79] Start Docker container 51f6532badf2
[testcontainers.org 00:01:14.93] Wait for Docker container b410049e4fd3 to complete readiness checks
[testcontainers.org 00:01:14.93] Execute "redis-cli ping" at Docker container b410049e4fd3
[testcontainers.org 00:01:14.97] Wait for Docker container 51f6532badf2 to complete readiness checks
[testcontainers.org 00:01:14.97] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 51f6532badf2
[testcontainers.org 00:01:14.99] Docker container b410049e4fd3 ready
  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_UnsupportedModelCapability_StreamingOnNonStreamingModel_Returns400 [391 ms]
  Standard Output Messages:
 Response: {"error":{"message":"No providers available for model \u0027test-provider/no-stream\u0027 with the requested capabilities. (Parameter \u0027modelId\u0027)","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PJ"}}


  Passed Synaxis.InferenceGateway.IntegrationTests.API.ApiEndpointErrorTests.Post_ChatCompletions_MalformedJson_Returns400 [374 ms]
  Standard Output Messages:
 Response: {"error":{"message":"Invalid JSON body","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO0PK"}}


[testcontainers.org 00:01:16.03] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 51f6532badf2
[08:09:25 INF] Received HTTP response headers after 1652.3094ms - 401
[08:09:25 INF] End processing HTTP request after 1652.5384ms - 401
[08:09:25 WRN] Model discovery call to https://api.siliconflow.cn/v1/models returned Unauthorized
[08:09:25 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider SiliconFlow
[08:09:25 INF] Start processing HTTP request GET https://open.bigmodel.cn/api/paas/v4/v1/models
[08:09:25 INF] Sending HTTP request GET https://open.bigmodel.cn/api/paas/v4/v1/models
[testcontainers.org 00:01:17.09] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 51f6532badf2
[testcontainers.org 00:01:17.15] Docker container 51f6532badf2 ready
[08:09:26 INF] Received HTTP response headers after 1357.6192ms - 401
[08:09:26 INF] End processing HTTP request after 1357.8ms - 401
[08:09:26 WRN] Model discovery call to https://open.bigmodel.cn/api/paas/v4/v1/models returned Unauthorized
[08:09:26 INF] ProviderDiscoveryJob: Successfully upserted 0 models for provider Zai
[08:09:26 INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelsAndHealthEndpointTests.Readiness_ReturnsUnhealthyWhenRedisUnavailable [1 m 6 s]
[08:09:26 INF] Starting web host
[08:09:26 INF] Security configuration validation passed successfully
[08:09:26 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:26 INF] ControlPlane configuration - UseInMemory: True, ConnectionString present: False
[08:09:26 WRN] Using in-memory database for ControlPlane
[08:09:26 ERR] An error occurred while migrating the database.
System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.Infrastructure.Extensions.InfrastructureExtensions.InitializeDatabaseAsync(IHost host) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Extensions/InfrastructureExtensions.cs:line 481
[08:09:26 WRN] Database initialization failed, continuing without migrations. Some features may be unavailable.
System.InvalidOperationException: Database migration failed. See inner exception for details.
 ---> System.InvalidOperationException: Relational-specific methods can only be used when the context is using a relational database provider.
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.Infrastructure.Extensions.InfrastructureExtensions.InitializeDatabaseAsync(IHost host) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Extensions/InfrastructureExtensions.cs:line 481
   --- End of inner exception stack trace ---
   at Synaxis.InferenceGateway.Infrastructure.Extensions.InfrastructureExtensions.InitializeDatabaseAsync(IHost host) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Infrastructure/Extensions/InfrastructureExtensions.cs:line 487
   at Program.<Main>$(String[] args) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Program.cs:line 402
[08:09:26 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:26 INF] Application started. Press Ctrl+C to shut down.
[08:09:26 INF] Hosting environment: Development
[08:09:26 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:26 INF] Request starting HTTP/1.1 GET http://localhost/health/liveness - null null
[08:09:26 WRN] Failed to determine the https port for redirect.
[08:09:26 INF] Executing endpoint 'Health checks'
[08:09:26 INF] Executed endpoint 'Health checks'
[08:09:26 INF] Request finished HTTP/1.1 GET http://localhost/health/liveness - 200 null text/plain 70.7812ms
[08:09:26 INF] Application is shutting down...
[08:09:27 INF] Starting web host
[08:09:27 INF] Security configuration validation passed successfully
[08:09:27 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:27 WRN] Skipping database migration per configuration.
[08:09:27 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:27 INF] Application started. Press Ctrl+C to shut down.
[08:09:27 INF] Hosting environment: Development
[08:09:27 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:27 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:27 WRN] Failed to determine the https port for redirect.
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:27 INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.5444ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 15.6965ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 100.271ms
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:27 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/79d875a4-3744-46a0-a78c-74f3144ecdfd - null null
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "GetApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApiKey(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @orgId AND t.user_id = @userId)
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@keyId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @keyId AND v.organization_id = @orgId
LIMIT 1
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.0211ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.ApiKeyDetailsResponse'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi) in 58.2366ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/79d875a4-3744-46a0-a78c-74f3144ecdfd - 200 null application/json; charset=utf-8 71.4164ms
[08:09:27 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.1304ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.9145ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 10.5356ms
[08:09:27 INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:27 INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:27 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/be074932-e293-4143-88a9-a1b460f611a0/rotate - null null
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "RotateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RotateApiKey(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@keyId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @keyId AND v.organization_id = @orgId
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE virtual_keys SET key_hash = @p0, updated_at = @p1
WHERE id = @p2;
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.0105ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType45`3[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi) in 9.1068ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/be074932-e293-4143-88a9-a1b460f611a0/rotate - 200 null application/json; charset=utf-8 21.5205ms
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @p
LIMIT 1
[08:09:27 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.0828ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.278ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.8238ms
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:27 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/498a46c2-7c3e-4960-8e48-0accb7747a8c - application/json; charset=utf-8 111
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "UpdateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateApiKey(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateApiKeyRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@keyId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @keyId AND v.organization_id = @orgId
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?' (DbType = Boolean), @p2='?' (DbType = Decimal), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE virtual_keys SET description = @p0, is_active = @p1, max_budget = @p2, name = @p3, rpm_limit = @p4, updated_at = @p5
WHERE id = @p6;
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.7496ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.ApiKeyDetailsResponse'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi) in 34.7422ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/498a46c2-7c3e-4960-8e48-0accb7747a8c - 200 null application/json; charset=utf-8 44.1575ms
[08:09:27 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.4789ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 7.6682ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 9.5228ms
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:27 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 27
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.6439ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 9.204ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 9.5199ms
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:27 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/aa33a606-6863-400d-a73e-1babe0e87e73/api-keys/f079ff66-0825-4c26-9dc6-3384e2b58a4a - application/json; charset=utf-8 23
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "UpdateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateApiKey(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateApiKeyRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@keyId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @keyId AND v.organization_id = @orgId
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 19.9382ms.
[08:09:27 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:27 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi) in 24.0567ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.UpdateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/aa33a606-6863-400d-a73e-1babe0e87e73/api-keys/f079ff66-0825-4c26-9dc6-3384e2b58a4a - 403 null null 25.2994ms
[08:09:27 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.203ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.2412ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 7.1004ms
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (3ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:27 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - application/json; charset=utf-8 87
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "CreateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApiKey(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateApiKeyRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.6358ms.
[08:09:27 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) in 8.1074ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - 400 null text/plain; charset=utf-8 15.9013ms
[08:09:27 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:27 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:27 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:27 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5023ms.
[08:09:27 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:27 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.5202ms
[08:09:27 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:27 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.8498ms
[08:09:27 INF] Executed DbCommand (21ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:27 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:27 INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Executed DbCommand (16ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (6ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - null null
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "ListApiKeys", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListApiKeys(System.Guid, System.Nullable`1[System.Guid], Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @orgId AND t.user_id = @userId)
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM virtual_keys AS v
WHERE v.organization_id = @orgId
  Passed Synaxis.InferenceGateway.IntegrationTests.ModelsAndHealthEndpointTests.Liveness_ReturnsOk [311 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.GetApiKey_ReturnsKeyDetails [599 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.RotateApiKey_ValidRequest_GeneratesNewKey [78 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.UpdateApiKey_ValidRequest_UpdatesKey [76 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.UpdateApiKey_NonAdmin_ReturnsForbidden [88 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.CreateApiKey_NegativeBudget_ReturnsBadRequest [48 ms]
[08:09:28 INF] Executed DbCommand (3ms) [Parameters=[@orgId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT v.id AS "Id", v.name AS "Name", v.description AS "Description", v.team_id AS "TeamId", v.max_budget AS "MaxBudget", v.current_spend AS "CurrentSpend", v.is_active AS "IsActive", v.is_revoked AS "IsRevoked", v.expires_at AS "ExpiresAt", v.created_at AS "CreatedAt", v.updated_at AS "UpdatedAt"
FROM virtual_keys AS v
WHERE v.organization_id = @orgId
ORDER BY v.created_at DESC
LIMIT @p2 OFFSET @p
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 101.5752ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`5[[System.Collections.Generic.List`1[[Synaxis.InferenceGateway.WebApi.Controllers.ApiKeySummaryResponse, Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi) in 106.5763ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - 200 null application/json; charset=utf-8 126.4725ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.0041ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 9.155ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 10.1049ms
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (3ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.2372ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 8.4059ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 10.1793ms
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/5adf22ae-9044-44cb-b761-a7d90223e2cb/api-keys/a51a4dc0-5410-4b7f-8afd-0cc917329097 - null null
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "GetApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApiKey(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @orgId AND t.user_id = @userId)
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 1.5488ms.
[08:09:28 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:28 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi) in 2.6144ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/5adf22ae-9044-44cb-b761-a7d90223e2cb/api-keys/a51a4dc0-5410-4b7f-8afd-0cc917329097 - 403 null null 3.8364ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8903ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.806ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.2242ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - application/json; charset=utf-8 67
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "CreateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApiKey(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateApiKeyRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE t.id = @request_TeamId AND t.organization_id = @orgId)
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 9.4389ms.
[08:09:28 INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) in 10.0758ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - 404 null text/plain; charset=utf-8 10.5918ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/800cdb0f-9bd4-4ee0-b568-c3eec0c94535/api-keys - application/json; charset=utf-8 67
[08:09:28 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:28 INF] AuthenticationScheme: Bearer was challenged.
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/800cdb0f-9bd4-4ee0-b568-c3eec0c94535/api-keys - 401 null null 2.0185ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.1248ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.9593ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.4721ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/c4947c8b-8d6c-48aa-935c-c93b49bbc90a - null null
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "RevokeApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeApiKey(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@keyId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @keyId AND v.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE virtual_keys SET is_revoked = @p0, revoked_at = @p1, updated_at = @p2
WHERE id = @p3;
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 5.2682ms.
[08:09:28 INF] Executing StatusCodeResult, setting HTTP status code 204
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi) in 5.7856ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/c4947c8b-8d6c-48aa-935c-c93b49bbc90a - 204 null null 12.8548ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @p
LIMIT 1
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.6203ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.4077ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.769ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys?teamId=c0c41f6f-2eb5-47f4-b8d9-1a09737503ac - null null
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "ListApiKeys", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListApiKeys(System.Guid, System.Nullable`1[System.Guid], Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @orgId AND t.user_id = @userId)
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @teamId_Value='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM virtual_keys AS v
WHERE v.organization_id = @orgId AND v.team_id = @teamId_Value
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @teamId_Value='?' (DbType = Guid), @p3='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT v.id AS "Id", v.name AS "Name", v.description AS "Description", v.team_id AS "TeamId", v.max_budget AS "MaxBudget", v.current_spend AS "CurrentSpend", v.is_active AS "IsActive", v.is_revoked AS "IsRevoked", v.expires_at AS "ExpiresAt", v.created_at AS "CreatedAt", v.updated_at AS "UpdatedAt"
FROM virtual_keys AS v
WHERE v.organization_id = @orgId AND v.team_id = @teamId_Value
ORDER BY v.created_at DESC
LIMIT @p3 OFFSET @p
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.2901ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`5[[System.Collections.Generic.List`1[[Synaxis.InferenceGateway.WebApi.Controllers.ApiKeySummaryResponse, Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi) in 47.1896ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys?teamId=c0c41f6f-2eb5-47f4-b8d9-1a09737503ac - 200 null application/json; charset=utf-8 50.1391ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 27
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.7706ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.9584ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.9578ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/a5c65272-2161-4f03-9b67-2bc3283c1985/api-keys - application/json; charset=utf-8 67
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "CreateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApiKey(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateApiKeyRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (3ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE t.id = @request_TeamId AND t.organization_id = @orgId)
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 8.0328ms.
[08:09:28 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:28 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) in 8.541ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/a5c65272-2161-4f03-9b67-2bc3283c1985/api-keys - 403 null null 9.0244ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2806ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.4898ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.3646ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys?page=1&pageSize=10 - null null
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "ListApiKeys", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListApiKeys(System.Guid, System.Nullable`1[System.Guid], Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @orgId AND t.user_id = @userId)
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM virtual_keys AS v
WHERE v.organization_id = @orgId
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT v.id AS "Id", v.name AS "Name", v.description AS "Description", v.team_id AS "TeamId", v.max_budget AS "MaxBudget", v.current_spend AS "CurrentSpend", v.is_active AS "IsActive", v.is_revoked AS "IsRevoked", v.expires_at AS "ExpiresAt", v.created_at AS "CreatedAt", v.updated_at AS "UpdatedAt"
FROM virtual_keys AS v
WHERE v.organization_id = @orgId
ORDER BY v.created_at DESC
LIMIT @p2 OFFSET @p
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.5482ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`5[[System.Collections.Generic.List`1[[Synaxis.InferenceGateway.WebApi.Controllers.ApiKeySummaryResponse, Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi) in 6.7645ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.ListApiKeys (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys?page=1&pageSize=10 - 200 null application/json; charset=utf-8 8.2227ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0684ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 6.8401ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 7.9967ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/308e0514-cb74-4f0e-b4bc-a568aa39d42e/usage - null null
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "GetUsage", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsage(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @orgId AND t.user_id = @userId)
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@keyId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @keyId AND v.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@keyId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM requests AS r
WHERE r.virtual_key_id = @keyId
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.2249ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.ApiKeyUsageResponse'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi) in 19.7877ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/308e0514-cb74-4f0e-b4bc-a568aa39d42e/usage - 200 null application/json; charset=utf-8 26.7575ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.ListApiKeys_ReturnsKeysWithoutKeyHash [291 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.GetApiKey_NonMember_ReturnsForbidden [75 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.CreateApiKey_InvalidTeam_ReturnsNotFound [25 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.CreateApiKey_WithoutAuth_ReturnsUnauthorized [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.RevokeApiKey_ValidRequest_RevokesKey [37 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.ListApiKeys_WithTeamFilter_ReturnsFilteredKeys [86 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.CreateApiKey_NonTeamAdmin_ReturnsForbidden [30 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.ListApiKeys_PaginationWorks [127 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.GetUsage_NoBudget_ReturnsNullRemainingBudget [60 ms]
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.4506ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.6252ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.9914ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - application/json; charset=utf-8 230
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "CreateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApiKey(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateApiKeyRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE t.id = @request_TeamId AND t.organization_id = @orgId)
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 16.4104ms.
[08:09:28 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.ApiKeyResponse'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) in 33.7007ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - 201 null application/json; charset=utf-8 34.282ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @p
LIMIT 1
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9138ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.5231ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.8339ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - application/json; charset=utf-8 67
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "CreateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApiKey(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateApiKeyRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE t.id = @request_TeamId AND t.organization_id = @orgId)
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 8.5361ms.
[08:09:28 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.ApiKeyResponse'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) in 9.9749ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - 201 null application/json; charset=utf-8 10.4582ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @p
LIMIT 1
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7147ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.3843ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.7929ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 27
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.092ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.0964ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.6841ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/aa33a606-6863-400d-a73e-1babe0e87e73/api-keys/a09284e8-4c71-48e0-8368-08116d9f9c8e/rotate - null null
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "RotateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RotateApiKey(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@keyId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @keyId AND v.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (3ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 7.1122ms.
[08:09:28 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:28 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi) in 7.5417ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RotateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/aa33a606-6863-400d-a73e-1babe0e87e73/api-keys/a09284e8-4c71-48e0-8368-08116d9f9c8e/rotate - 403 null null 8.1622ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8066ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.8323ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.6349ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - application/json; charset=utf-8 83
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "CreateApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApiKey(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateApiKeyRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.0179ms.
[08:09:28 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi) in 0.4665ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.CreateApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys - 400 null text/plain; charset=utf-8 0.8913ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8625ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.8761ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.181ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/0eeff394-5ef3-46b4-bf3a-ec89a77cd699/usage - null null
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "GetUsage", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsage(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @orgId AND t.user_id = @userId)
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@keyId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @keyId AND v.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (0ms) [Parameters=[@keyId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM requests AS r
WHERE r.virtual_key_id = @keyId
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.6213ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.ApiKeyUsageResponse'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi) in 4.2378ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.GetUsage (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/9ec76b83-e263-4e0c-b64f-f2b87d64b5ba/api-keys/0eeff394-5ef3-46b4-bf3a-ec89a77cd699/usage - 200 null application/json; charset=utf-8 4.6436ms
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 26
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.1207ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.8249ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 7.3484ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@user_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @user_OrganizationId
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p36='?' (DbType = Guid), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Boolean), @p17='?', @p18='?', @p19='?', @p20='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Boolean), @p29='?', @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Object), @p33='?', @p34='?', @p35='?' (DbType = DateTime), @p37='?' (DbType = Guid), @p38='?' (DbType = Guid), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?' (DbType = Guid), @p42='?', @p43='?' (DbType = Guid), @p44='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
UPDATE users SET avatar_url = @p12, created_at = @p13, created_in_region = @p14, cross_border_consent_date = @p15, cross_border_consent_given = @p16, cross_border_consent_version = @p17, data_residency_region = @p18, email = @p19, email_verified_at = @p20, failed_login_attempts = @p21, first_name = @p22, is_active = @p23, last_login_at = @p24, last_name = @p25, locale = @p26, locked_until = @p27, mfa_enabled = @p28, mfa_secret = @p29, organization_id = @p30, password_hash = @p31, privacy_consent = @p32, role = @p33, timezone = @p34, updated_at = @p35
WHERE id = @p36;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
[08:09:28 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 27
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7614ms.
[08:09:28 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.2159ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.6865ms
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Object), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Int32), @p18='?' (DbType = Object), @p19='?' (DbType = Guid), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime), @p22='?' (DbType = Guid), @p23='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO virtual_keys (id, "AllowedModels", "BlockedModels", created_at, created_by, current_spend, description, expires_at, is_active, is_revoked, key_hash, max_budget, metadata, name, organization_id, revoked_at, revoked_reason, rpm_limit, "Tags", team_id, tpm_limit, updated_at, "UserId", user_region)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
[08:09:28 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/aa33a606-6863-400d-a73e-1babe0e87e73/api-keys/f41be31b-9c90-4828-b2ad-3975fc89471e - null null
[08:09:28 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Route matched with {action = "RevokeApiKey", controller = "VirtualKeys"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeApiKey(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController (Synaxis.InferenceGateway.WebApi).
[08:09:28 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@keyId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT v.id, v."AllowedModels", v."BlockedModels", v.created_at, v.created_by, v.current_spend, v.description, v.expires_at, v.is_active, v.is_revoked, v.key_hash, v.max_budget, v.metadata, v.name, v.organization_id, v.revoked_at, v.revoked_reason, v.rpm_limit, v."Tags", v.team_id, v.tpm_limit, v.updated_at, v."UserId", v.user_region
FROM virtual_keys AS v
WHERE v.id = @keyId AND v.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:28 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 3.8866ms.
[08:09:28 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:28 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:28 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi) in 4.4519ms
[08:09:28 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.VirtualKeysController.RevokeApiKey (Synaxis.InferenceGateway.WebApi)'
[08:09:28 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/aa33a606-6863-400d-a73e-1babe0e87e73/api-keys/f41be31b-9c90-4828-b2ad-3975fc89471e - 403 null null 5.2039ms
[testcontainers.org 00:01:19.93] Delete Docker container 51f6532badf2
[testcontainers.org 00:01:19.93] Delete Docker container b410049e4fd3
[08:09:29 INF] Application is shutting down...
[testcontainers.org 00:01:20.21] Docker container ae8393b3d0d9 created
[testcontainers.org 00:01:20.21] Docker container d923d8e4f4ce created
[testcontainers.org 00:01:20.21] Start Docker container d923d8e4f4ce
[testcontainers.org 00:01:20.22] Start Docker container ae8393b3d0d9
[testcontainers.org 00:01:20.36] Wait for Docker container d923d8e4f4ce to complete readiness checks
[testcontainers.org 00:01:20.36] Execute "redis-cli ping" at Docker container d923d8e4f4ce
[testcontainers.org 00:01:20.39] Wait for Docker container ae8393b3d0d9 to complete readiness checks
[testcontainers.org 00:01:20.40] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container ae8393b3d0d9
[testcontainers.org 00:01:20.43] Docker container d923d8e4f4ce ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.CreateApiKey_ValidRequest_ReturnsPlainKeyOnce [90 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.CreateApiKey_SetsUserRegion [26 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.RotateApiKey_NonAdmin_ReturnsForbidden [41 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.CreateApiKey_NegativeRpmLimit_ReturnsBadRequest [19 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.GetUsage_ReturnsUsageStats [25 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.VirtualKeysControllerTests.RevokeApiKey_NonAdmin_ReturnsForbidden [37 ms]
[testcontainers.org 00:01:21.46] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container ae8393b3d0d9
[testcontainers.org 00:01:22.50] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container ae8393b3d0d9
[testcontainers.org 00:01:22.57] Docker container ae8393b3d0d9 ready
[08:09:32 INF] Starting web host
[08:09:32 INF] Security configuration validation passed successfully
[08:09:32 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:32 WRN] Skipping database migration per configuration.
[08:09:32 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:32 INF] Application started. Press Ctrl+C to shut down.
[08:09:32 INF] Hosting environment: Development
[08:09:32 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:32 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/users/me/organizations - null null
[08:09:32 WRN] Failed to determine the https port for redirect.
[08:09:32 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:32 INF] AuthenticationScheme: Bearer was challenged.
[08:09:32 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/users/me/organizations - 401 null null 68.188ms
[08:09:32 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/users/me - application/json; charset=utf-8 23
[08:09:32 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:32 INF] AuthenticationScheme: Bearer was challenged.
[08:09:32 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/users/me - 401 null null 4.34ms
[08:09:32 INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:32 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/users/me - application/json; charset=utf-8 100
[08:09:32 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateMe (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Route matched with {action = "UpdateMe", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMe(Synaxis.InferenceGateway.WebApi.Controllers.UpdateUserRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.UsersController (Synaxis.InferenceGateway.WebApi).
[08:09:32 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateMe (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?', @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET first_name = @p0, last_name = @p1, locale = @p2, timezone = @p3, updated_at = @p4
WHERE id = @p5;
[08:09:32 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateMe (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.352ms.
[08:09:32 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType38`9[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:32 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateMe (Synaxis.InferenceGateway.WebApi) in 22.6279ms
[08:09:32 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateMe (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/users/me - 200 null application/json; charset=utf-8 30.183ms
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:32 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/users/me/avatar - null null
[08:09:32 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:32 INF] AuthenticationScheme: Bearer was challenged.
[08:09:32 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/users/me/avatar - 401 null null 1.3402ms
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:32 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
[08:09:32 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
[08:09:32 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
[08:09:32 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/users/me/organizations - null null
[08:09:32 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyOrganizations (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Route matched with {action = "GetMyOrganizations", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyOrganizations(Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.UsersController (Synaxis.InferenceGateway.WebApi).
[08:09:32 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyOrganizations (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM organizations AS o
WHERE EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE o.id = t.organization_id AND EXISTS (
        SELECT 1
        FROM team_memberships AS t0
        WHERE t.id = t0.team_id AND t0.user_id = @userId))
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o.name, o.slug, o.description, o.tier, o.is_active AS "isActive", o.created_at AS "createdAt"
FROM organizations AS o
WHERE EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE o.id = t.organization_id AND EXISTS (
        SELECT 1
        FROM team_memberships AS t0
        WHERE t.id = t0.team_id AND t0.user_id = @userId))
ORDER BY o.name
LIMIT @p2 OFFSET @p
[08:09:32 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyOrganizations (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.8155ms.
[08:09:32 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`5[[System.Collections.Generic.List`1[[<>f__AnonymousType40`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:32 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyOrganizations (Synaxis.InferenceGateway.WebApi) in 39.8913ms
[08:09:32 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyOrganizations (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/users/me/organizations - 200 null application/json; charset=utf-8 47.5103ms
[08:09:32 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/users/me/cross-border-consent - application/json; charset=utf-8 21
[08:09:32 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:32 INF] AuthenticationScheme: Bearer was challenged.
[08:09:32 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/users/me/cross-border-consent - 401 null null 1.4474ms
[08:09:32 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:32 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/users/me/teams - null null
[08:09:32 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyTeams (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Route matched with {action = "GetMyTeams", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTeams(Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.UsersController (Synaxis.InferenceGateway.WebApi).
[08:09:32 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyTeams (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM teams AS t
WHERE EXISTS (
    SELECT 1
    FROM team_memberships AS t0
    WHERE t.id = t0.team_id AND t0.user_id = @userId)
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.organization_id AS "organizationId", t.name, t.slug, t.description, t.is_active AS "isActive", t.created_at AS "createdAt"
FROM teams AS t
WHERE EXISTS (
    SELECT 1
    FROM team_memberships AS t0
    WHERE t.id = t0.team_id AND t0.user_id = @userId)
ORDER BY t.name
LIMIT @p2 OFFSET @p
[08:09:32 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyTeams (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.4662ms.
[08:09:32 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`5[[System.Collections.Generic.List`1[[<>f__AnonymousType41`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:32 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyTeams (Synaxis.InferenceGateway.WebApi) in 35.0313ms
[08:09:32 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMyTeams (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/users/me/teams - 200 null application/json; charset=utf-8 40.8398ms
[08:09:32 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/users/me - null null
[08:09:32 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:32 INF] AuthenticationScheme: Bearer was challenged.
[08:09:32 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/users/me - 401 null null 0.4034ms
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:32 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/users/me/data-export - null null
[08:09:32 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.RequestDataExport (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Route matched with {action = "RequestDataExport", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestDataExport(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.UsersController (Synaxis.InferenceGateway.WebApi).
[08:09:32 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.RequestDataExport (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:32 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:32 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.RequestDataExport (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.AcceptedResult in 6.0069ms.
[08:09:32 INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType42`3[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:32 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.UsersController.RequestDataExport (Synaxis.InferenceGateway.WebApi) in 7.9726ms
[08:09:32 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.RequestDataExport (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/users/me/data-export - 202 null application/json; charset=utf-8 13.588ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.GetMyOrganizations_WithoutAuth_ReturnsUnauthorized [274 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.UpdateMe_WithoutAuth_ReturnsUnauthorized [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.UpdateMe_ValidRequest_UpdatesUserProfile [49 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.UploadAvatar_WithoutAuth_ReturnsUnauthorized [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.GetMyOrganizations_ValidRequest_ReturnsUserOrganizations [73 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.UpdateCrossBorderConsent_WithoutAuth_ReturnsUnauthorized [6 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.GetMyTeams_ValidRequest_ReturnsUserTeams [62 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.DeleteMe_WithoutAuth_ReturnsUnauthorized [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.RequestDataExport_ValidRequest_ReturnsAccepted [19 ms]
[08:09:32 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/users/me/teams - null null
[08:09:32 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:32 INF] AuthenticationScheme: Bearer was challenged.
[08:09:32 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/users/me/teams - 401 null null 0.5369ms
[08:09:32 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/users/me - null null
[08:09:32 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:32 INF] AuthenticationScheme: Bearer was challenged.
[08:09:32 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/users/me - 401 null null 0.9706ms
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:32 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/users/me/cross-border-consent - application/json; charset=utf-8 45
[08:09:32 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Route matched with {action = "UpdateCrossBorderConsent", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCrossBorderConsent(Synaxis.InferenceGateway.WebApi.Controllers.UpdateCrossBorderConsentRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.UsersController (Synaxis.InferenceGateway.WebApi).
[08:09:32 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?', @p3='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET cross_border_consent_date = @p0, cross_border_consent_given = @p1, cross_border_consent_version = @p2, updated_at = @p3
WHERE id = @p4;
[08:09:32 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.0394ms.
[08:09:32 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType43`4[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:32 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi) in 10.1685ms
[08:09:32 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/users/me/cross-border-consent - 200 null application/json; charset=utf-8 15.7874ms
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:32 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/users/me/avatar - null null
[08:09:32 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UploadAvatar (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Route matched with {action = "UploadAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadAvatar(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.UsersController (Synaxis.InferenceGateway.WebApi).
[08:09:32 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UploadAvatar (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:32 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UploadAvatar (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.2598ms.
[08:09:32 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType39`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:32 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UploadAvatar (Synaxis.InferenceGateway.WebApi) in 5.5953ms
[08:09:32 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UploadAvatar (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/users/me/avatar - 200 null application/json; charset=utf-8 11.2332ms
[08:09:32 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:32 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/users/me - null null
[08:09:32 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.DeleteMe (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Route matched with {action = "DeleteMe", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMe(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.UsersController (Synaxis.InferenceGateway.WebApi).
[08:09:32 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.DeleteMe (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET is_active = @p0, updated_at = @p1
WHERE id = @p2;
[08:09:32 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.DeleteMe (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 3.7662ms.
[08:09:32 INF] Executing StatusCodeResult, setting HTTP status code 204
[08:09:32 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.UsersController.DeleteMe (Synaxis.InferenceGateway.WebApi) in 4.3192ms
[08:09:32 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.DeleteMe (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/users/me - 204 null null 13.8551ms
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:32 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/users/me - null null
[08:09:32 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMe (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Route matched with {action = "GetMe", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.UsersController (Synaxis.InferenceGateway.WebApi).
[08:09:32 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMe (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:32 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:32 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMe (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.3378ms.
[08:09:32 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType37`15[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:32 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMe (Synaxis.InferenceGateway.WebApi) in 6.9092ms
[08:09:32 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.GetMe (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/users/me - 200 null application/json; charset=utf-8 14.3031ms
[08:09:32 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/users/me/data-export - null null
[08:09:32 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:32 INF] AuthenticationScheme: Bearer was challenged.
[08:09:32 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/users/me/data-export - 401 null null 0.3778ms
[08:09:32 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:32 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/users/me/cross-border-consent - application/json; charset=utf-8 25
[08:09:32 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Route matched with {action = "UpdateCrossBorderConsent", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCrossBorderConsent(Synaxis.InferenceGateway.WebApi.Controllers.UpdateCrossBorderConsentRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.UsersController (Synaxis.InferenceGateway.WebApi).
[08:09:32 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:32 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.0171ms.
[08:09:32 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:32 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi) in 0.715ms
[08:09:32 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.UsersController.UpdateCrossBorderConsent (Synaxis.InferenceGateway.WebApi)'
[08:09:32 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/users/me/cross-border-consent - 400 null text/plain; charset=utf-8 1.2247ms
[testcontainers.org 00:01:23.96] Delete Docker container ae8393b3d0d9
[testcontainers.org 00:01:23.97] Delete Docker container d923d8e4f4ce
[08:09:33 INF] Application is shutting down...
[testcontainers.org 00:01:24.28] Docker container b89e82ccd4b4 created
[testcontainers.org 00:01:24.28] Docker container f93f65694527 created
[testcontainers.org 00:01:24.28] Start Docker container b89e82ccd4b4
[testcontainers.org 00:01:24.29] Start Docker container f93f65694527
[testcontainers.org 00:01:24.44] Wait for Docker container b89e82ccd4b4 to complete readiness checks
[testcontainers.org 00:01:24.45] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container b89e82ccd4b4
[testcontainers.org 00:01:24.49] Wait for Docker container f93f65694527 to complete readiness checks
[testcontainers.org 00:01:24.49] Execute "redis-cli ping" at Docker container f93f65694527
[testcontainers.org 00:01:24.57] Docker container f93f65694527 ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.GetMyTeams_WithoutAuth_ReturnsUnauthorized [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.GetMe_WithoutAuth_ReturnsUnauthorized [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.UpdateCrossBorderConsent_ValidRequest_UpdatesConsent [27 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.UploadAvatar_ValidRequest_ReturnsPlaceholder [16 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.DeleteMe_ValidRequest_SoftDeletesUser [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.GetMe_WithAuth_ReturnsUserProfile [19 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.RequestDataExport_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.UsersControllerTests.UpdateCrossBorderConsent_MissingConsentGiven_ReturnsBadRequest [11 ms]
[testcontainers.org 00:01:25.54] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container b89e82ccd4b4
[testcontainers.org 00:01:26.60] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container b89e82ccd4b4
[testcontainers.org 00:01:26.66] Docker container b89e82ccd4b4 ready
[08:09:36 INF] Starting web host
[08:09:36 INF] Security configuration validation passed successfully
[08:09:36 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:36 WRN] Skipping database migration per configuration.
[08:09:36 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:36 INF] Application started. Press Ctrl+C to shut down.
[08:09:36 INF] Hosting environment: Development
[08:09:36 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:36 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/a1d8a7e8-1732-4d2b-9c89-c4c62f8a53eb/teams - null null
[08:09:36 WRN] Failed to determine the https port for redirect.
[08:09:36 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:36 INF] AuthenticationScheme: Bearer was challenged.
[08:09:36 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/a1d8a7e8-1732-4d2b-9c89-c4c62f8a53eb/teams - 401 null null 70.2633ms
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.8285ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 9.8054ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 18.0985ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 33
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.9317ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.4073ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 7.0173ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/99861934-3857-4970-ad1e-5feb71ba35ad/teams/46c7559c-a7a3-4a5f-95ac-37dad7c18a13/members - application/json; charset=utf-8 64
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:36 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId AND u.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @request_UserId AND t.team_id = @teamId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:36 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 75.402ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:36 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0RL, Path: /api/v1/organizations/99861934-3857-4970-ad1e-5feb71ba35ad/teams/46c7559c-a7a3-4a5f-95ac-37dad7c18a13/members, Method: POST, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember(Guid orgId, Guid teamId, AddMemberRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 442
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:36 ERR] Exception caught. RequestId: 0HNJ8ECIBO0RL, Path: /api/v1/organizations/99861934-3857-4970-ad1e-5feb71ba35ad/teams/46c7559c-a7a3-4a5f-95ac-37dad7c18a13/members, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember(Guid orgId, Guid teamId, AddMemberRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 442
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/99861934-3857-4970-ad1e-5feb71ba35ad/teams/46c7559c-a7a3-4a5f-95ac-37dad7c18a13/members - 500 null application/json 99.0002ms
[xUnit.net 00:01:30.71]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_AsOrgAdmin_ReturnsCreated [FAIL]
[xUnit.net 00:01:30.71]       Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:30.71]       Stack Trace:
[xUnit.net 00:01:30.71]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:30.71]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:30.71]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:30.71]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:30.71]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:30.71]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:30.71]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:30.71]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(429,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_AsOrgAdmin_ReturnsCreated()
[xUnit.net 00:01:30.71]         --- End of stack trace from previous location ---
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.6425ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 8.4283ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 8.7146ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/63df3488-0f8d-473b-96e5-bbec761415c3/teams - application/json; charset=utf-8 27
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "CreateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTeam(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateTeamRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:36 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @orgId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @request_Name='?'], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.organization_id = @orgId AND t.name = @request_Name
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 33.8027ms.
[08:09:36 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi) in 36.8634ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/63df3488-0f8d-473b-96e5-bbec761415c3/teams - 400 null text/plain; charset=utf-8 44.7625ms
[xUnit.net 00:01:30.77]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_CreatesAuditLog [SKIP]
[xUnit.net 00:01:30.77]       Audit log schema mismatch: AuditService writes to audit.AuditLogs (ControlPlaneDbContext) but tests query public.audit_logs (SynaxisDbContext). Requires audit log unification.
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.8883ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.4861ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.7677ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.9892ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.3806ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.6718ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/cbc7fed0-3a65-45ea-b61e-e335911bbc81/teams - application/json; charset=utf-8 27
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "CreateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTeam(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateTeamRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:36 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 1.2341ms.
[08:09:36 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:36 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi) in 7.2828ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/cbc7fed0-3a65-45ea-b61e-e335911bbc81/teams - 403 null null 7.6943ms
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.0214ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.2511ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.5521ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/6d12276d-2d5c-48e4-af66-b54653359f57/teams - application/json; charset=utf-8 27
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "CreateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTeam(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateTeamRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:36 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 2.1523ms.
[08:09:36 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:36 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi) in 3.6029ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/6d12276d-2d5c-48e4-af66-b54653359f57/teams - 403 null null 4.4561ms
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6594ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.2517ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.5784ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:36 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/43234c9a-148a-4577-a1f8-486bf54f23fb/teams/c0e9311d-5de9-4935-9e24-0d98aed36737 - null null
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeam(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:36 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.name, t.description, t.slug, t.is_active AS "isActive", (
    SELECT count(*)::int
    FROM team_memberships AS t0
    WHERE t.id = t0.team_id) AS "memberCount", t.created_at AS "createdAt"
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.0209ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi) in 28.1301ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/43234c9a-148a-4577-a1f8-486bf54f23fb/teams/c0e9311d-5de9-4935-9e24-0d98aed36737 - 200 null application/json; charset=utf-8 33.5718ms
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.3898ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.0065ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.31ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.395ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7831ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.0579ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/99ca3495-462b-4e42-97f3-be41fa980692/teams - null null
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "ListTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListTeams(System.Guid, Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:36 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 3.2233ms.
[08:09:36 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:36 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi) in 3.6958ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/99ca3495-462b-4e42-97f3-be41fa980692/teams - 403 null null 9.412ms
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8403ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.447ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.7237ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 32
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.8107ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.2956ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.5507ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/e990284b-c856-41d3-b9c8-331c79118bd4/teams/3d1a240c-a6bd-485a-86f9-4fddbc976c19/members - application/json; charset=utf-8 65
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:36 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed DbCommand (0ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId AND u.organization_id = @orgId
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @request_UserId AND t.team_id = @teamId
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 7.0969ms.
[08:09:36 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 7.8714ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/e990284b-c856-41d3-b9c8-331c79118bd4/teams/3d1a240c-a6bd-485a-86f9-4fddbc976c19/members - 400 null text/plain; charset=utf-8 8.9445ms
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.ListTeams_WithoutAuth_ReturnsUnauthorized [262 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_AsOrgAdmin_ReturnsCreated [176 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_AsOrgAdmin_ReturnsCreated() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 429
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_DuplicateName_ReturnsBadRequest [64 ms]
  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_CreatesAuditLog [1 ms]
  Error Message:
   Audit log schema mismatch: AuditService writes to audit.AuditLogs (ControlPlaneDbContext) but tests query public.audit_logs (SynaxisDbContext). Requires audit log unification.

  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_NotOrganizationMember_ReturnsForbidden [27 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_InvalidOrganization_ReturnsNotFound [16 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.GetTeam_ValidRequest_ReturnsTeamDetails [63 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.ListTeams_NotOrganizationMember_ReturnsForbidden [26 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_DuplicateMember_ReturnsBadRequest [38 ms]
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7296ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.0758ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.9813ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:36 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/724e42a4-d72a-47c1-9e55-76aeaeb6278c/teams/622e9634-1bad-4324-ae7e-0ec4a8a606b6/members/c2fda6bd-fdd5-45d8-a096-64e1242cf29e/role - application/json; charset=utf-8 16
[08:09:36 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:36 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/724e42a4-d72a-47c1-9e55-76aeaeb6278c/teams/622e9634-1bad-4324-ae7e-0ec4a8a606b6/members/c2fda6bd-fdd5-45d8-a096-64e1242cf29e/role - 500 null text/plain; charset=utf-8 3.6119ms
[xUnit.net 00:01:30.98]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_MemberNotFound_ReturnsNotFound [FAIL]
[xUnit.net 00:01:30.98]       Expected response.StatusCode to be HttpStatusCode.NotFound {value: 404}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:30.98]       Stack Trace:
[xUnit.net 00:01:30.98]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:30.98]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:30.98]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:30.98]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:30.98]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:30.98]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:30.98]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:30.98]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(617,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_MemberNotFound_ReturnsNotFound()
[xUnit.net 00:01:30.98]         --- End of stack trace from previous location ---
[08:09:36 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/ac81f45b-d033-47f8-939d-604e7f9cc956/teams/01d8ee25-58fc-49bd-8e05-652824570ce3 - application/json; charset=utf-8 23
[xUnit.net 00:01:30.98]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_CreatesAuditLog [SKIP]
[xUnit.net 00:01:30.98]       Audit log schema mismatch: AuditService writes to audit.AuditLogs (ControlPlaneDbContext) but tests query public.audit_logs (SynaxisDbContext). Requires audit log unification.
[08:09:36 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:36 INF] AuthenticationScheme: Bearer was challenged.
[08:09:36 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/ac81f45b-d033-47f8-939d-604e7f9cc956/teams/01d8ee25-58fc-49bd-8e05-652824570ce3 - 401 null null 0.502ms
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.7982ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.4616ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.756ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:36 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 30
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.7763ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.2021ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.4864ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:36 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/6e59cb6d-fd98-4c0a-a894-a4cceb128282/teams/a1763c7d-962d-4549-9199-4c5e9e59c81f/members/d93199ef-9dca-402d-86c7-fa033c806ede/role - application/json; charset=utf-8 16
[08:09:36 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:36 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/6e59cb6d-fd98-4c0a-a894-a4cceb128282/teams/a1763c7d-962d-4549-9199-4c5e9e59c81f/members/d93199ef-9dca-402d-86c7-fa033c806ede/role - 500 null text/plain; charset=utf-8 0.4683ms
[xUnit.net 00:01:31.01]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_ValidRequest_ReturnsOk [FAIL]
[xUnit.net 00:01:31.01]       Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:31.01]       Stack Trace:
[xUnit.net 00:01:31.01]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:31.01]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:31.01]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:31.01]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.01]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.01]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:31.01]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:31.01]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(579,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_ValidRequest_ReturnsOk()
[xUnit.net 00:01:31.01]         --- End of stack trace from previous location ---
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/e58d56d8-e5d3-49b9-bbc3-4bf5c309b7f3/teams - application/json; charset=utf-8 27
[08:09:36 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:36 INF] AuthenticationScheme: Bearer was challenged.
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/e58d56d8-e5d3-49b9-bbc3-4bf5c309b7f3/teams - 401 null null 0.3866ms
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:36 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5176ms.
[08:09:36 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:36 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.2061ms
[08:09:36 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.5107ms
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:36 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:36 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:36 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 33
[08:09:36 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:36 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:36 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.391ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.8015ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.0734ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/a52b5344-fd0d-4504-898f-684a510292ee/teams/05d15886-ecf1-48d6-ba58-a82e929709d0/members - application/json; charset=utf-8 70
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.6121ms.
[08:09:37 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 3.3195ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/a52b5344-fd0d-4504-898f-684a510292ee/teams/05d15886-ecf1-48d6-ba58-a82e929709d0/members - 400 null text/plain; charset=utf-8 3.773ms
[xUnit.net 00:01:31.05]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_CreatesAuditLog [SKIP]
[xUnit.net 00:01:31.05]       AuditLog schema mismatch: ControlPlaneDbContext uses audit.AuditLogs with properties (EntityType, PreviousValues, NewValues), while SynaxisDbContext uses public.audit_logs with properties (EventType, ResourceType, Metadata). Requires schema unification.
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4985ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.3263ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.6589ms
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/4da2e68b-6e06-449c-a22d-c309cc3398f3/teams/d86989c1-bca6-4673-b80e-1f74798bf9ef - application/json; charset=utf-8 55
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "UpdateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTeam(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateTeamRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?', @p1='?', @p2='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE teams SET description = @p0, name = @p1, updated_at = @p2
WHERE id = @p3;
[08:09:37 ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam (Synaxis.InferenceGateway.WebApi) in 12.5388ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0SG, Path: /api/v1/organizations/4da2e68b-6e06-449c-a22d-c309cc3398f3/teams/d86989c1-bca6-4673-b80e-1f74798bf9ef, Method: PUT, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam(Guid orgId, Guid teamId, UpdateTeamRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 293
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:37 ERR] Exception caught. RequestId: 0HNJ8ECIBO0SG, Path: /api/v1/organizations/4da2e68b-6e06-449c-a22d-c309cc3398f3/teams/d86989c1-bca6-4673-b80e-1f74798bf9ef, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam(Guid orgId, Guid teamId, UpdateTeamRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 293
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:37 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/4da2e68b-6e06-449c-a22d-c309cc3398f3/teams/d86989c1-bca6-4673-b80e-1f74798bf9ef - 500 null application/json 21.5708ms
[xUnit.net 00:01:31.09]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateTeam_ValidRequest_UpdatesTeam [FAIL]
[xUnit.net 00:01:31.09]       Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:31.09]       Stack Trace:
[xUnit.net 00:01:31.09]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:31.09]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:31.09]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:31.09]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.09]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.09]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:31.09]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:31.09]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(265,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateTeam_ValidRequest_UpdatesTeam()
[xUnit.net 00:01:31.09]         --- End of stack trace from previous location ---
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8301ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.7574ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.0396ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 33
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4528ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.9278ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.0315ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/ec15f81b-4641-4494-aaf4-c369f3472f77/teams/6de0654d-106d-4c6b-a707-029b76ec066f/members - application/json; charset=utf-8 65
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 4.2999ms.
[08:09:37 INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 5.52ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/ec15f81b-4641-4494-aaf4-c369f3472f77/teams/6de0654d-106d-4c6b-a707-029b76ec066f/members - 404 null text/plain; charset=utf-8 6.1334ms
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_MemberNotFound_ReturnsNotFound [30 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.NotFound {value: 404}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_MemberNotFound_ReturnsNotFound() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 617
--- End of stack trace from previous location ---
  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_CreatesAuditLog [1 ms]
  Error Message:
   Audit log schema mismatch: AuditService writes to audit.AuditLogs (ControlPlaneDbContext) but tests query public.audit_logs (SynaxisDbContext). Requires audit log unification.

  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateTeam_WithoutAuth_ReturnsUnauthorized [2 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_ValidRequest_ReturnsOk [31 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_ValidRequest_ReturnsOk() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 579
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_InvalidRole_ReturnsBadRequest [31 ms]
  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_CreatesAuditLog [1 ms]
  Error Message:
   AuditLog schema mismatch: ControlPlaneDbContext uses audit.AuditLogs with properties (EntityType, PreviousValues, NewValues), while SynaxisDbContext uses public.audit_logs with properties (EventType, ResourceType, Metadata). Requires schema unification.

  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateTeam_ValidRequest_UpdatesTeam [41 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateTeam_ValidRequest_UpdatesTeam() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 265
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_TeamNotFound_ReturnsNotFound [33 ms]
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3482ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.0065ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.2764ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6109ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.3186ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.6959ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/9c111f51-33c3-44ee-9492-97c56b7a199b/teams/9442e474-18da-47f3-9a25-35027c7239be - null null
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DeleteTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTeam(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 3.863ms.
[08:09:37 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:37 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam (Synaxis.InferenceGateway.WebApi) in 4.8376ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/9c111f51-33c3-44ee-9492-97c56b7a199b/teams/9442e474-18da-47f3-9a25-35027c7239be - 403 null null 10.8ms
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/0c62400e-7bd1-4b53-bc1b-ddc0170ab22f/teams/2a298893-7c64-418a-80ed-aa3d13b16ac0/members - application/json; charset=utf-8 65
[08:09:37 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:37 INF] AuthenticationScheme: Bearer was challenged.
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/0c62400e-7bd1-4b53-bc1b-ddc0170ab22f/teams/2a298893-7c64-418a-80ed-aa3d13b16ac0/members - 401 null null 0.4831ms
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5284ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.0597ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.4639ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4841ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.8823ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.1445ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.3728ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 8.4019ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 9.9007ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/e03d147a-91ea-4ecb-8105-6f9bf0d40715/teams/aca7f451-823f-42eb-a20a-32ffc621123c/members - application/json; charset=utf-8 65
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (3ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 5.8376ms.
[08:09:37 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:37 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 7.3317ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/e03d147a-91ea-4ecb-8105-6f9bf0d40715/teams/aca7f451-823f-42eb-a20a-32ffc621123c/members - 403 null null 7.7922ms
[08:09:37 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/0feeb292-0a9c-4017-8bc8-a4738b5c7ae5/teams/a7f75507-74ca-4c0e-ac29-21c45667707a - null null
[08:09:37 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:37 INF] AuthenticationScheme: Bearer was challenged.
[08:09:37 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/0feeb292-0a9c-4017-8bc8-a4738b5c7ae5/teams/a7f75507-74ca-4c0e-ac29-21c45667707a - 401 null null 0.4637ms
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4509ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.1445ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.4755ms
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9982ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.9632ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.2645ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/8dde4b9c-ff0b-4c2d-9017-e4cee50fcdb7/teams/f9557e1c-6611-41ed-a6f8-061fcabade7c - application/json; charset=utf-8 23
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "UpdateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTeam(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateTeamRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 3.0689ms.
[08:09:37 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:37 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam (Synaxis.InferenceGateway.WebApi) in 3.678ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/8dde4b9c-ff0b-4c2d-9017-e4cee50fcdb7/teams/f9557e1c-6611-41ed-a6f8-061fcabade7c - 403 null null 4.091ms
[08:09:37 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/8db2d763-8b16-4923-b701-beaa40f575f5/teams/e9f86e9b-d7a2-43cc-a886-da32bd3f4e64 - null null
[08:09:37 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:37 INF] AuthenticationScheme: Bearer was challenged.
[08:09:37 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/8db2d763-8b16-4923-b701-beaa40f575f5/teams/e9f86e9b-d7a2-43cc-a886-da32bd3f4e64 - 401 null null 0.7838ms
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3844ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.9595ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.3405ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/a3bf5a46-14e6-4429-ba41-865024b891ed/teams/b370e596-b01f-49f0-8498-94b267072d9f - null null
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DeleteTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTeam(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE teams SET is_active = @p0, updated_at = @p1
WHERE id = @p2;
[08:09:37 ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam (Synaxis.InferenceGateway.WebApi) in 5.8743ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0T2, Path: /api/v1/organizations/a3bf5a46-14e6-4429-ba41-865024b891ed/teams/b370e596-b01f-49f0-8498-94b267072d9f, Method: DELETE, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam(Guid orgId, Guid teamId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 381
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:37 ERR] Exception caught. RequestId: 0HNJ8ECIBO0T2, Path: /api/v1/organizations/a3bf5a46-14e6-4429-ba41-865024b891ed/teams/b370e596-b01f-49f0-8498-94b267072d9f, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.DeleteTeam(Guid orgId, Guid teamId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 381
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:37 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/a3bf5a46-14e6-4429-ba41-865024b891ed/teams/b370e596-b01f-49f0-8498-94b267072d9f - 500 null application/json 9.2757ms
[xUnit.net 00:01:31.29]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.DeleteTeam_ValidRequest_SoftDeletesTeam [FAIL]
[xUnit.net 00:01:31.29]       Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:31.29]       Stack Trace:
[xUnit.net 00:01:31.29]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:31.29]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:31.29]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:31.29]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.29]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.29]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:31.29]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[xUnit.net 00:01:31.29]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(331,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.DeleteTeam_ValidRequest_SoftDeletesTeam()
[xUnit.net 00:01:31.29]         --- End of stack trace from previous location ---
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.1041ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.9112ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.1805ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/6dcc24b6-f286-45eb-8f25-02db6fad6e96/teams?pageSize=2&page=1 - null null
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "ListTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListTeams(System.Guid, Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.name, t.description, t.slug, t.is_active AS "isActive", (
    SELECT count(*)::int
    FROM team_memberships AS t0
    WHERE t.id = t0.team_id) AS "memberCount"
FROM teams AS t
WHERE t.organization_id = @orgId
ORDER BY t.name
LIMIT @p OFFSET @p
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM teams AS t
WHERE t.organization_id = @orgId
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.2132ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`4[[System.Collections.Generic.List`1[[<>f__AnonymousType31`6[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi) in 42.1844ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/6dcc24b6-f286-45eb-8f25-02db6fad6e96/teams?pageSize=2&page=1 - 200 null application/json; charset=utf-8 42.5813ms
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.753ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.3673ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.8258ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 30
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6591ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.5598ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.8236ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/3e1dacae-8b39-4aad-af8b-17b9aef6ad0c/teams/4341b30e-7773-4f6b-9918-473890dedb99/members/d93199ef-9dca-402d-86c7-fa033c806ede/role - application/json; charset=utf-8 22
[08:09:37 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:37 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/3e1dacae-8b39-4aad-af8b-17b9aef6ad0c/teams/4341b30e-7773-4f6b-9918-473890dedb99/members/d93199ef-9dca-402d-86c7-fa033c806ede/role - 500 null text/plain; charset=utf-8 0.2537ms
[xUnit.net 00:01:31.39]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_InvalidRole_ReturnsBadRequest [FAIL]
[xUnit.net 00:01:31.39]       Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:31.39]       Stack Trace:
[xUnit.net 00:01:31.39]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:31.39]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:31.39]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:31.39]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.39]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.39]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:31.39]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:31.39]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(602,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_InvalidRole_ReturnsBadRequest()
[xUnit.net 00:01:31.39]         --- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.DeleteTeam_NotTeamAdmin_ReturnsForbidden [35 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_WithoutAuth_ReturnsUnauthorized [4 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_NotTeamAdmin_ReturnsForbidden [53 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.GetTeam_WithoutAuth_ReturnsUnauthorized [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateTeam_NotTeamAdmin_ReturnsForbidden [31 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.DeleteTeam_WithoutAuth_ReturnsUnauthorized [3 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.DeleteTeam_ValidRequest_SoftDeletesTeam [27 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.DeleteTeam_ValidRequest_SoftDeletesTeam() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 331
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.ListTeams_SupportsPagination [63 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_InvalidRole_ReturnsBadRequest [35 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_InvalidRole_ReturnsBadRequest() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 602
--- End of stack trace from previous location ---
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8469ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.4017ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.6402ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/02ac150f-d7f7-4a46-b042-0191374cf90b/teams - null null
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "ListTeams", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListTeams(System.Guid, Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.name, t.description, t.slug, t.is_active AS "isActive", (
    SELECT count(*)::int
    FROM team_memberships AS t0
    WHERE t.id = t0.team_id) AS "memberCount"
FROM teams AS t
WHERE t.organization_id = @orgId
ORDER BY t.name
LIMIT @p2 OFFSET @p
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM teams AS t
WHERE t.organization_id = @orgId
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.4195ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`4[[System.Collections.Generic.List`1[[<>f__AnonymousType31`6[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi) in 25.0127ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListTeams (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/02ac150f-d7f7-4a46-b042-0191374cf90b/teams - 200 null application/json; charset=utf-8 25.6603ms
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5452ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.3831ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.7448ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4755ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.87ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.125ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4403ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.9774ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.2356ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/9a0dc613-f0a9-441e-81a9-70eb07fcc26b/teams/1396be5d-b321-4824-9cb5-ce9454f13d60/members/4fb66068-c64c-4791-a26f-c91c5093a1ea/role - application/json; charset=utf-8 16
[08:09:37 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:37 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/9a0dc613-f0a9-441e-81a9-70eb07fcc26b/teams/1396be5d-b321-4824-9cb5-ce9454f13d60/members/4fb66068-c64c-4791-a26f-c91c5093a1ea/role - 500 null text/plain; charset=utf-8 0.2438ms
[xUnit.net 00:01:31.47]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_NotTeamAdmin_ReturnsForbidden [FAIL]
[xUnit.net 00:01:31.47]       Expected response.StatusCode to be HttpStatusCode.Forbidden {value: 403}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:31.47]       Stack Trace:
[xUnit.net 00:01:31.47]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:31.47]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:31.47]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:31.47]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.47]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.47]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:31.47]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:31.47]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(561,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_NotTeamAdmin_ReturnsForbidden()
[xUnit.net 00:01:31.47]         --- End of stack trace from previous location ---
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.529ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.1145ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.3975ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/68570c74-faa3-4f9c-b1e3-2ab63286d5e3/teams - application/json; charset=utf-8 65
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "CreateTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTeam(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.CreateTeamRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @request_Name='?'], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.organization_id = @orgId AND t.name = @request_Name
LIMIT 1
[08:09:37 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime), @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
[08:09:37 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi) in 11.6362ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0TF, Path: /api/v1/organizations/68570c74-faa3-4f9c-b1e3-2ab63286d5e3/teams, Method: POST, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam(Guid orgId, CreateTeamRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 68
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:37 ERR] Exception caught. RequestId: 0HNJ8ECIBO0TF, Path: /api/v1/organizations/68570c74-faa3-4f9c-b1e3-2ab63286d5e3/teams, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.CreateTeam(Guid orgId, CreateTeamRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 68
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/68570c74-faa3-4f9c-b1e3-2ab63286d5e3/teams - 500 null application/json 15.8546ms
[xUnit.net 00:01:31.50]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_ValidRequest_CreatesTeamAndReturnsDetails [FAIL]
[xUnit.net 00:01:31.50]       Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:31.50]       Stack Trace:
[xUnit.net 00:01:31.50]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:31.50]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:31.50]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:31.50]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.50]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.50]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:31.50]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:31.50]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(82,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_ValidRequest_CreatesTeamAndReturnsDetails()
[xUnit.net 00:01:31.50]         --- End of stack trace from previous location ---
[xUnit.net 00:01:31.50]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.DeleteTeam_CreatesAuditLog [SKIP]
[xUnit.net 00:01:31.50]       Audit log schema mismatch: AuditService writes to audit.AuditLogs (ControlPlaneDbContext) but tests query public.audit_logs (SynaxisDbContext). Requires audit log unification.
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5512ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.2344ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.501ms
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 33
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.3657ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.8289ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.0475ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/4b5a7c95-bfe7-4226-bfa1-20c9ca51d635/teams/9f5dc459-b221-4d3e-8ceb-c0f3000eb651/members - application/json; charset=utf-8 65
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId
LIMIT 1
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@request_UserId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @request_UserId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 19.9027ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0TI, Path: /api/v1/organizations/4b5a7c95-bfe7-4226-bfa1-20c9ca51d635/teams/9f5dc459-b221-4d3e-8ceb-c0f3000eb651/members, Method: POST, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember(Guid orgId, Guid teamId, AddMemberRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 442
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:37 ERR] Exception caught. RequestId: 0HNJ8ECIBO0TI, Path: /api/v1/organizations/4b5a7c95-bfe7-4226-bfa1-20c9ca51d635/teams/9f5dc459-b221-4d3e-8ceb-c0f3000eb651/members, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember(Guid orgId, Guid teamId, AddMemberRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 442
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/4b5a7c95-bfe7-4226-bfa1-20c9ca51d635/teams/9f5dc459-b221-4d3e-8ceb-c0f3000eb651/members - 500 null application/json 33.733ms
[xUnit.net 00:01:31.57]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_ValidRequest_ReturnsCreated [FAIL]
[xUnit.net 00:01:31.57]       Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:31.57]       Stack Trace:
[xUnit.net 00:01:31.57]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:31.57]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:31.57]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:31.57]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.57]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.57]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:31.57]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:31.57]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(409,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_ValidRequest_ReturnsCreated()
[xUnit.net 00:01:31.57]         --- End of stack trace from previous location ---
[xUnit.net 00:01:31.57]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateTeam_CreatesAuditLog [SKIP]
[xUnit.net 00:01:31.57]       Audit log schema mismatch: AuditService writes to audit.AuditLogs (ControlPlaneDbContext) but tests query public.audit_logs (SynaxisDbContext). Requires audit log unification.
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (3ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.6198ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 5.1185ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 5.8922ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2492ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.6451ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.8949ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/455c4d09-c7de-40b6-8491-331f89e451ed/teams/b950e7d7-a0cf-4be7-9e00-9f91a9899f0a - null null
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "GetTeam", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeam(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 1.8345ms.
[08:09:37 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:37 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi) in 2.7721ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.GetTeam (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/455c4d09-c7de-40b6-8491-331f89e451ed/teams/b950e7d7-a0cf-4be7-9e00-9f91a9899f0a - 403 null null 3.1681ms
[08:09:37 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/a4e7b0f9-641c-4563-8184-9f858d734642/teams/e75927a8-b8d7-49e5-9dab-a46e16ffa11e/members/846dbff7-7b00-471e-bb99-3b1c768d72f2/role - application/json; charset=utf-8 16
[08:09:37 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:37 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/a4e7b0f9-641c-4563-8184-9f858d734642/teams/e75927a8-b8d7-49e5-9dab-a46e16ffa11e/members/846dbff7-7b00-471e-bb99-3b1c768d72f2/role - 500 null text/plain; charset=utf-8 0.2893ms
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[xUnit.net 00:01:31.60]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_WithoutAuth_ReturnsUnauthorized [FAIL]
[xUnit.net 00:01:31.60]       Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:31.60]       Stack Trace:
[xUnit.net 00:01:31.60]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:31.60]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:31.60]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:31.60]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
[xUnit.net 00:01:31.60]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.60]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:31.60]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:31.60]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(540,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_WithoutAuth_ReturnsUnauthorized()
[xUnit.net 00:01:31.60]         --- End of stack trace from previous location ---
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9895ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.0116ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.0538ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/5357aed9-c1fa-4bf9-be18-e1020266e8a4/teams/d64d122c-4eb4-4e81-a158-f33cce8302ca/members/b540dc11-6b57-4cdf-9e36-93b5f3ec24c1/role - application/json; charset=utf-8 16
[08:09:37 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:37 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/5357aed9-c1fa-4bf9-be18-e1020266e8a4/teams/d64d122c-4eb4-4e81-a158-f33cce8302ca/members/b540dc11-6b57-4cdf-9e36-93b5f3ec24c1/role - 500 null text/plain; charset=utf-8 0.2621ms
[xUnit.net 00:01:31.61]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_TeamNotFound_ReturnsNotFound [FAIL]
[xUnit.net 00:01:31.61]       Expected response.StatusCode to be HttpStatusCode.NotFound {value: 404}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:31.61]       Stack Trace:
[xUnit.net 00:01:31.61]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:31.61]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:31.61]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:31.61]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.61]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:31.61]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:31.61]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:31.61]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs(631,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_TeamNotFound_ReturnsNotFound()
[xUnit.net 00:01:31.61]         --- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.ListTeams_ValidRequest_ReturnsTeamsList [40 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_NotTeamAdmin_ReturnsForbidden [38 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Forbidden {value: 403}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_NotTeamAdmin_ReturnsForbidden() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 561
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_ValidRequest_CreatesTeamAndReturnsDetails [30 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.CreateTeam_ValidRequest_CreatesTeamAndReturnsDetails() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 82
--- End of stack trace from previous location ---
  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.DeleteTeam_CreatesAuditLog [1 ms]
  Error Message:
   Audit log schema mismatch: AuditService writes to audit.AuditLogs (ControlPlaneDbContext) but tests query public.audit_logs (SynaxisDbContext). Requires audit log unification.

  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_ValidRequest_ReturnsCreated [63 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_ValidRequest_ReturnsCreated() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 409
--- End of stack trace from previous location ---
  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateTeam_CreatesAuditLog [1 ms]
  Error Message:
   Audit log schema mismatch: AuditService writes to audit.AuditLogs (ControlPlaneDbContext) but tests query public.audit_logs (SynaxisDbContext). Requires audit log unification.

  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.GetTeam_NotTeamMember_ReturnsForbidden [24 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_WithoutAuth_ReturnsUnauthorized [2 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_WithoutAuth_ReturnsUnauthorized() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 540
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_TeamNotFound_ReturnsNotFound [15 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.NotFound {value: 404}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.UpdateMemberRole_TeamNotFound_ReturnsNotFound() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamsControllerTests.cs:line 631
--- End of stack trace from previous location ---
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4086ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.8295ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 5.1637ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:37 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.872ms.
[08:09:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 5.2417ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 5.6594ms
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:37 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/d0f6b782-4b2b-4f15-8eab-5e2a9199821f/teams/ac6fb898-df7c-4154-87e3-0f578895ec20/members - application/json; charset=utf-8 65
[08:09:37 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:37 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:37 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43308;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:37 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId
LIMIT 1
[08:09:37 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId AND u.organization_id = @orgId
LIMIT 1
[08:09:37 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 5.8312ms.
[08:09:37 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:37 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 6.595ms
[08:09:37 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:37 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/d0f6b782-4b2b-4f15-8eab-5e2a9199821f/teams/ac6fb898-df7c-4154-87e3-0f578895ec20/members - 400 null text/plain; charset=utf-8 7.0026ms
[testcontainers.org 00:01:28.65] Delete Docker container b89e82ccd4b4
[testcontainers.org 00:01:28.65] Delete Docker container f93f65694527
[08:09:37 INF] Application is shutting down...
[testcontainers.org 00:01:28.95] Docker container b2db807c87ec created
[testcontainers.org 00:01:28.96] Start Docker container b2db807c87ec
[testcontainers.org 00:01:28.97] Docker container 43c21029bf88 created
[testcontainers.org 00:01:28.97] Start Docker container 43c21029bf88
[testcontainers.org 00:01:29.11] Wait for Docker container b2db807c87ec to complete readiness checks
[testcontainers.org 00:01:29.12] Execute "redis-cli ping" at Docker container b2db807c87ec
[testcontainers.org 00:01:29.17] Wait for Docker container 43c21029bf88 to complete readiness checks
[testcontainers.org 00:01:29.17] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 43c21029bf88
[testcontainers.org 00:01:29.21] Docker container b2db807c87ec ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamsControllerTests.AddMember_UserNotInOrganization_ReturnsBadRequest [47 ms]
[testcontainers.org 00:01:30.23] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 43c21029bf88
[testcontainers.org 00:01:31.34] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 43c21029bf88
[testcontainers.org 00:01:31.39] Docker container 43c21029bf88 ready
[08:09:40 INF] Starting web host
[08:09:41 INF] Security configuration validation passed successfully
[08:09:41 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:41 WRN] Skipping database migration per configuration.
[08:09:41 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:41 INF] Application started. Press Ctrl+C to shut down.
[08:09:41 INF] Hosting environment: Development
[08:09:41 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 WRN] Failed to determine the https port for redirect.
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.7607ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 10.1187ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 79.1696ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.5202ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.9137ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 6.2473ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/2638d01e-729b-490f-9918-84806638967f/teams/af649d94-ca56-4fca-8c8c-cd6aefdd6e24/members/1098e6be-5502-4e36-873a-e4a0aa12ac48 - null null
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:41 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/2638d01e-729b-490f-9918-84806638967f/teams/af649d94-ca56-4fca-8c8c-cd6aefdd6e24/members/1098e6be-5502-4e36-873a-e4a0aa12ac48 - 500 null text/plain; charset=utf-8 0.3014ms
[xUnit.net 00:01:35.32]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_RemoveSelf_ReturnsNoContent [FAIL]
[xUnit.net 00:01:35.32]       Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:35.32]       Stack Trace:
[xUnit.net 00:01:35.32]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.32]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.32]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.32]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.32]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.32]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.32]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.32]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(221,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_RemoveSelf_ReturnsNoContent()
[xUnit.net 00:01:35.32]         --- End of stack trace from previous location ---
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2769ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.8642ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 6.6029ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2536ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7428ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.973ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/fd429722-34e4-449b-a51d-5f87615f8b5b/teams/1dc98f93-d6ae-4ca7-ad84-a81abc1dd43c/memberships - null null
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "ListMemberships", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListMemberships(System.Guid, System.Guid, Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 5.491ms.
[08:09:41 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:41 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi) in 6.4212ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/fd429722-34e4-449b-a51d-5f87615f8b5b/teams/1dc98f93-d6ae-4ca7-ad84-a81abc1dd43c/memberships - 403 null null 15.6458ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6378ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.2631ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.5071ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2848ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.6138ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.8359ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.3771ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.7729ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.0816ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/1433a313-e4ac-4696-8420-b7da4d59ddf5/teams/f1c2b86e-fcdc-4479-a77c-16e2f2802345/members - application/json; charset=utf-8 65
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 3.4846ms.
[08:09:41 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:41 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 5.2915ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/1433a313-e4ac-4696-8420-b7da4d59ddf5/teams/f1c2b86e-fcdc-4479-a77c-16e2f2802345/members - 403 null null 10.9639ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9211ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.4868ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.763ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6362ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.9888ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.2909ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6776ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.3042ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.3366ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @groupId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @groupId
LIMIT 1
[08:09:41 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/171500ea-0ba2-4407-83da-9ed8935eb2f4/teams/e968d80d-a16a-467c-a063-423b04de83f2/memberships/443ba49e-9334-4841-af2e-17f24138d28e - null null
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DeleteMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMembership(System.Guid, System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.id = @id AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 13.2423ms.
[08:09:41 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:41 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi) in 17.5827ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/171500ea-0ba2-4407-83da-9ed8935eb2f4/teams/e968d80d-a16a-467c-a063-423b04de83f2/memberships/443ba49e-9334-4841-af2e-17f24138d28e - 403 null null 24.924ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4922ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.8392ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.1379ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2913ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.0384ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.1379ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @groupId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @groupId
LIMIT 1
[08:09:41 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/070c5987-abae-496c-86d7-a1af4729444e/teams/665c86c1-e164-42b7-b5df-065936cce271/memberships/d2eef34f-963d-4cad-ac8d-02c2ddf7b38b - application/json; charset=utf-8 16
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "UpdateMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMembership(System.Guid, System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateMembershipRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed DbCommand (0ms) [Parameters=[@id='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.id = @id AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE team_memberships SET role = @p0
WHERE id = @p1;
[08:09:41 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi) in 11.6928ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0UC, Path: /api/v1/organizations/070c5987-abae-496c-86d7-a1af4729444e/teams/665c86c1-e164-42b7-b5df-065936cce271/memberships/d2eef34f-963d-4cad-ac8d-02c2ddf7b38b, Method: PUT, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership(Guid orgId, Guid teamId, Guid id, UpdateMembershipRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamMembershipsController.cs:line 477
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
[xUnit.net 00:01:35.53]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMembership_ValidRequest_ReturnsOk [FAIL]
[xUnit.net 00:01:35.53]       Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:35.53]       Stack Trace:
[xUnit.net 00:01:35.53]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.53]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.53]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.53]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.53]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.53]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.53]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.53]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(567,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMembership_ValidRequest_ReturnsOk()
[xUnit.net 00:01:35.53]         --- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:41 ERR] Exception caught. RequestId: 0HNJ8ECIBO0UC, Path: /api/v1/organizations/070c5987-abae-496c-86d7-a1af4729444e/teams/665c86c1-e164-42b7-b5df-065936cce271/memberships/d2eef34f-963d-4cad-ac8d-02c2ddf7b38b, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership(Guid orgId, Guid teamId, Guid id, UpdateMembershipRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamMembershipsController.cs:line 477
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:41 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/070c5987-abae-496c-86d7-a1af4729444e/teams/665c86c1-e164-42b7-b5df-065936cce271/memberships/d2eef34f-963d-4cad-ac8d-02c2ddf7b38b - 500 null application/json 22.0731ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6167ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.3697ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.6885ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.4061ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.4256ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.1936ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/3de44c77-754d-4eca-9c5c-5709216970c5/teams/525dc353-71ae-4dc4-bf74-854339235a2d/members - application/json; charset=utf-8 64
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @request_UserId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 10.1199ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:41 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO0UF, Path: /api/v1/organizations/3de44c77-754d-4eca-9c5c-5709216970c5/teams/525dc353-71ae-4dc4-bf74-854339235a2d/members, Method: POST, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember(Guid orgId, Guid teamId, AddMemberRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 442
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:41 ERR] Exception caught. RequestId: 0HNJ8ECIBO0UF, Path: /api/v1/organizations/3de44c77-754d-4eca-9c5c-5709216970c5/teams/525dc353-71ae-4dc4-bf74-854339235a2d/members, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember(Guid orgId, Guid teamId, AddMemberRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 442
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/3de44c77-754d-4eca-9c5c-5709216970c5/teams/525dc353-71ae-4dc4-bf74-854339235a2d/members - 500 null application/json 14.7232ms
[xUnit.net 00:01:35.58]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_AsOrgAdmin_ReturnsCreated [FAIL]
[xUnit.net 00:01:35.58]       Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:35.58]       Stack Trace:
[xUnit.net 00:01:35.58]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.58]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.58]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.58]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.58]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.58]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.58]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.58]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(98,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_AsOrgAdmin_ReturnsCreated()
[xUnit.net 00:01:35.58]         --- End of stack trace from previous location ---
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6321ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.3905ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.8317ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2942ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7193ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.9752ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/cc890da3-1b53-4ecf-91ff-f7147733d30b/teams/19199464-d6e4-436e-a9e6-30754b958cb1/members/1098e6be-5502-4e36-873a-e4a0aa12ac48 - null null
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:41 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/cc890da3-1b53-4ecf-91ff-f7147733d30b/teams/19199464-d6e4-436e-a9e6-30754b958cb1/members/1098e6be-5502-4e36-873a-e4a0aa12ac48 - 500 null text/plain; charset=utf-8 0.2545ms
[xUnit.net 00:01:35.61]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_ValidRequest_ReturnsNoContent [FAIL]
[xUnit.net 00:01:35.61]       Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:35.61]       Stack Trace:
[xUnit.net 00:01:35.61]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.61]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.61]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.61]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.61]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.61]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.61]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.61]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(202,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_ValidRequest_ReturnsNoContent()
[xUnit.net 00:01:35.61]         --- End of stack trace from previous location ---
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0419ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.608ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.8522ms
[08:09:41 INF] Executed DbCommand (3ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2996ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.6692ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.8761ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3916ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7511ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.0688ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.5413ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.9539ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.232ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.965ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.3058ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.5165ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.0578ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 5.7117ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 5.9596ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/848ee0f3-ea1c-4983-99c0-979192941af4/teams/e24298f1-1b70-427c-a1b1-decd1c7d8fca/members?pageSize=2&page=1 - null null
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListMembers (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMembers (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:41 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/848ee0f3-ea1c-4983-99c0-979192941af4/teams/e24298f1-1b70-427c-a1b1-decd1c7d8fca/members?pageSize=2&page=1 - 500 null text/plain; charset=utf-8 0.3021ms
[xUnit.net 00:01:35.69]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_SupportsPagination [FAIL]
[xUnit.net 00:01:35.69]       Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:35.69]       Stack Trace:
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.69]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.69]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(396,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_SupportsPagination()
[xUnit.net 00:01:35.69]         --- End of stack trace from previous location ---
[08:09:41 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/de5cb5b0-d55d-42fe-9a76-eb7cb37d6a6f/teams/bce6326d-0ea8-40fd-82ff-3c27e210672f/members/d8b81694-e80c-4ce0-9be6-0ca93a76eac0 - null null
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:41 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/de5cb5b0-d55d-42fe-9a76-eb7cb37d6a6f/teams/bce6326d-0ea8-40fd-82ff-3c27e210672f/members/d8b81694-e80c-4ce0-9be6-0ca93a76eac0 - 500 null text/plain; charset=utf-8 0.5936ms
[xUnit.net 00:01:35.69]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_WithoutAuth_ReturnsUnauthorized [FAIL]
[xUnit.net 00:01:35.69]       Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:35.69]       Stack Trace:
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.69]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.70]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.70]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.70]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.70]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(164,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_WithoutAuth_ReturnsUnauthorized()
[xUnit.net 00:01:35.70]         --- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_RemoveSelf_ReturnsNoContent [353 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_RemoveSelf_ReturnsNoContent() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 221
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMemberships_NotTeamMember_ReturnsForbidden [45 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_NotTeamAdmin_ReturnsForbidden [38 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_NotTeamAdmin_ReturnsForbidden [76 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMembership_ValidRequest_ReturnsOk [51 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMembership_ValidRequest_ReturnsOk() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 567
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_AsOrgAdmin_ReturnsCreated [42 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_AsOrgAdmin_ReturnsCreated() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 98
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_ValidRequest_ReturnsNoContent [34 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_ValidRequest_ReturnsNoContent() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 202
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_SupportsPagination [77 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_SupportsPagination() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 396
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_WithoutAuth_ReturnsUnauthorized [2 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_WithoutAuth_ReturnsUnauthorized() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 164
--- End of stack trace from previous location ---
[08:09:41 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/e965967d-e8d3-438f-9e69-cf8481fe9aed/teams/fe035d4c-fe6f-4604-8396-6e11901285e1/memberships/06550666-e370-472c-b12d-717b14243136 - null null
[08:09:41 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:41 INF] AuthenticationScheme: Bearer was challenged.
[08:09:41 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/e965967d-e8d3-438f-9e69-cf8481fe9aed/teams/fe035d4c-fe6f-4604-8396-6e11901285e1/memberships/06550666-e370-472c-b12d-717b14243136 - 401 null null 2.2439ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4517ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.1087ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.3453ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/1c1e12eb-4086-47ed-9c27-55f4056e2c63/teams/9855180a-87c1-4107-9399-468eedd1cf02/memberships/95b43cda-f2f3-4107-b9f6-d74aa443405e - null null
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DeleteMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMembership(System.Guid, System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.id = @id AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 1.0677ms.
[08:09:41 INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi) in 1.7679ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/1c1e12eb-4086-47ed-9c27-55f4056e2c63/teams/9855180a-87c1-4107-9399-468eedd1cf02/memberships/95b43cda-f2f3-4107-b9f6-d74aa443405e - 404 null text/plain; charset=utf-8 2.2659ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2956ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.8548ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.0976ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.637ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.095ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.5342ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3712ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7973ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.1397ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @groupId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @groupId
LIMIT 1
[08:09:41 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/13d20254-000f-41ad-9c9e-2410afc2314c/teams/a3cba662-e434-4542-8e41-fba81cc7a86c/memberships/7878d357-e703-47a1-8fd4-2c33c05bf070 - application/json; charset=utf-8 16
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "UpdateMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMembership(System.Guid, System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateMembershipRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 1.9064ms.
[08:09:41 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:41 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi) in 2.5235ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/13d20254-000f-41ad-9c9e-2410afc2314c/teams/a3cba662-e434-4542-8e41-fba81cc7a86c/memberships/7878d357-e703-47a1-8fd4-2c33c05bf070 - 403 null null 3.1132ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/649177fb-4828-4f66-9892-4ce5853259a4/teams/db6a9064-ab6c-4f9d-b9a2-aa91e4a9323a/members - application/json; charset=utf-8 65
[08:09:41 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:41 INF] AuthenticationScheme: Bearer was challenged.
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/649177fb-4828-4f66-9892-4ce5853259a4/teams/db6a9064-ab6c-4f9d-b9a2-aa91e4a9323a/members - 401 null null 0.457ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4685ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.053ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.2973ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.0897ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.7311ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.2735ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/500b6569-45f4-4ccb-a8b3-b69d038d8e25/teams/987c7ae8-06e0-41c1-ae16-aa8fa12a2618/members - application/json; charset=utf-8 64
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (3ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 4.0778ms.
[08:09:41 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 5.106ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/500b6569-45f4-4ccb-a8b3-b69d038d8e25/teams/987c7ae8-06e0-41c1-ae16-aa8fa12a2618/members - 400 null text/plain; charset=utf-8 5.4708ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9663ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.9858ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.3897ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4487ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.6606ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.8667ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/0dc14bfd-4283-497a-96cd-a8e01efee0f8/teams/f611831b-b09d-4cc1-8e63-ae35f0d35d11/members/1098e6be-5502-4e36-873a-e4a0aa12ac48/role - application/json; charset=utf-8 16
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:41 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/0dc14bfd-4283-497a-96cd-a8e01efee0f8/teams/f611831b-b09d-4cc1-8e63-ae35f0d35d11/members/1098e6be-5502-4e36-873a-e4a0aa12ac48/role - 500 null text/plain; charset=utf-8 0.4833ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1283ms.
[xUnit.net 00:01:35.84]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_ValidRequest_ReturnsOk [FAIL]
[xUnit.net 00:01:35.84]       Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:35.84]       Stack Trace:
[xUnit.net 00:01:35.84]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.84]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.84]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.84]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.84]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.84]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.84]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.84]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(291,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_ValidRequest_ReturnsOk()
[xUnit.net 00:01:35.84]         --- End of stack trace from previous location ---
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.243ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.8216ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.0679ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 7.9234ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 8.327ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9141ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.0424ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.9521ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/db307e0f-949b-4754-9d96-ac857bcb3445/teams/48e47346-e486-4209-8f53-900b6e408ff3/members/edce3524-9a22-4cf5-9c57-636b992fdbfe - null null
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:41 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/db307e0f-949b-4754-9d96-ac857bcb3445/teams/48e47346-e486-4209-8f53-900b6e408ff3/members/edce3524-9a22-4cf5-9c57-636b992fdbfe - 500 null text/plain; charset=utf-8 0.2811ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8823ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.7611ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.796ms
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1665ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.4907ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.7036ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/93af5b8c-ac49-48f1-8423-9f6565741e2e/teams/eaf1b59f-f465-4c70-a95b-f350225506a9/members/1098e6be-5502-4e36-873a-e4a0aa12ac48/role - application/json; charset=utf-8 21
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:41 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/93af5b8c-ac49-48f1-8423-9f6565741e2e/teams/eaf1b59f-f465-4c70-a95b-f350225506a9/members/1098e6be-5502-4e36-873a-e4a0aa12ac48/role - 500 null text/plain; charset=utf-8 1.7658ms
[xUnit.net 00:01:35.92]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_NotTeamAdmin_ReturnsForbidden [FAIL]
[xUnit.net 00:01:35.92]       Expected response.StatusCode to be HttpStatusCode.Forbidden {value: 403}, but found HttpStatusCode.InternalServerError {value: 500}.
[08:09:41 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/9c63a9ba-5ded-4140-a92a-2b1e2b27da32/teams/b4f7928f-40a1-489d-b42e-d04114d2ad49/members - null null
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListMembers (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMembers (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[xUnit.net 00:01:35.92]       Stack Trace:
[xUnit.net 00:01:35.92]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.92]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.92]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.92]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[08:09:41 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/9c63a9ba-5ded-4140-a92a-2b1e2b27da32/teams/b4f7928f-40a1-489d-b42e-d04114d2ad49/members - 500 null text/plain; charset=utf-8 2.0888ms
[xUnit.net 00:01:35.92]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.92]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.92]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.92]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(185,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_NotTeamAdmin_ReturnsForbidden()
[xUnit.net 00:01:35.92]         --- End of stack trace from previous location ---
[xUnit.net 00:01:35.93]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_InvalidRole_ReturnsBadRequest [FAIL]
[xUnit.net 00:01:35.93]       Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:35.93]       Stack Trace:
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.93]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.93]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(312,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_InvalidRole_ReturnsBadRequest()
[xUnit.net 00:01:35.93]         --- End of stack trace from previous location ---
[xUnit.net 00:01:35.93]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_WithoutAuth_ReturnsUnauthorized [FAIL]
[xUnit.net 00:01:35.93]       Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:35.93]       Stack Trace:
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:35.93]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:35.93]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:35.93]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(339,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_WithoutAuth_ReturnsUnauthorized()
[xUnit.net 00:01:35.93]         --- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.GetMembership_WithoutAuth_ReturnsUnauthorized [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_NotFound_ReturnsNotFound [18 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMembership_NotTeamAdmin_ReturnsForbidden [44 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_InvalidRole_ReturnsBadRequest [32 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_ValidRequest_ReturnsOk [34 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_ValidRequest_ReturnsOk() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 291
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_NotTeamAdmin_ReturnsForbidden [50 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Forbidden {value: 403}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_NotTeamAdmin_ReturnsForbidden() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 185
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_InvalidRole_ReturnsBadRequest [29 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.BadRequest {value: 400}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_InvalidRole_ReturnsBadRequest() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 312
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_WithoutAuth_ReturnsUnauthorized [5 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_WithoutAuth_ReturnsUnauthorized() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 339
--- End of stack trace from previous location ---
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6894ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.4043ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.6354ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4141ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.8947ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.5166ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @groupId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @groupId
LIMIT 1
[08:09:41 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/736d1e47-d9bc-4a53-8e26-239ae302d3d7/teams/b242499f-62e0-4c5a-9daa-287cc66fd5dc/memberships/b4945293-2237-4c76-86b9-aeb4919afa63 - null null
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "GetMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMembership(System.Guid, System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 4.5712ms.
[08:09:41 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:41 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi) in 6.2919ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/736d1e47-d9bc-4a53-8e26-239ae302d3d7/teams/b242499f-62e0-4c5a-9daa-287cc66fd5dc/memberships/b4945293-2237-4c76-86b9-aeb4919afa63 - 403 null null 13.3077ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7564ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.9621ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.4746ms
[08:09:41 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/57806eb8-747f-461e-bdde-b7cde90ca259/teams/8beef488-66a8-439b-809b-3e073b276810/members/fd89bf3d-d9cf-4906-b027-c5364a7c1aae/role - application/json; charset=utf-8 16
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:41 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/57806eb8-747f-461e-bdde-b7cde90ca259/teams/8beef488-66a8-439b-809b-3e073b276810/members/fd89bf3d-d9cf-4906-b027-c5364a7c1aae/role - 500 null text/plain; charset=utf-8 0.2581ms
[xUnit.net 00:01:36.00]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_MemberNotFound_ReturnsNotFound [FAIL]
[xUnit.net 00:01:36.00]       Expected response.StatusCode to be HttpStatusCode.NotFound {value: 404}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:36.00]       Stack Trace:
[xUnit.net 00:01:36.00]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:36.00]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:36.00]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:36.00]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.00]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.00]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:36.00]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:36.00]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(328,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_MemberNotFound_ReturnsNotFound()
[xUnit.net 00:01:36.00]         --- End of stack trace from previous location ---
[08:09:41 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/bd4143ea-a28c-4fef-bd8e-481ddb9de5d7/teams/6f0ec666-3187-4ab9-848c-d33ff5b2f8c7/memberships - null null
[08:09:41 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:41 INF] AuthenticationScheme: Bearer was challenged.
[08:09:41 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/bd4143ea-a28c-4fef-bd8e-481ddb9de5d7/teams/6f0ec666-3187-4ab9-848c-d33ff5b2f8c7/memberships - 401 null null 0.169ms
[08:09:41 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/f556aa95-2a15-4644-8cd9-3f96d2febe06/teams/f7682523-4f6a-4dde-b50c-0b4e1eea1e43/members/b9d6a2b3-4ec8-45cf-bbef-6a2d35669fe3/role - application/json; charset=utf-8 16
[08:09:41 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:41 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/f556aa95-2a15-4644-8cd9-3f96d2febe06/teams/f7682523-4f6a-4dde-b50c-0b4e1eea1e43/members/b9d6a2b3-4ec8-45cf-bbef-6a2d35669fe3/role - 500 null text/plain; charset=utf-8 0.2914ms
[xUnit.net 00:01:36.01]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_WithoutAuth_ReturnsUnauthorized [FAIL]
[xUnit.net 00:01:36.01]       Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:36.01]       Stack Trace:
[xUnit.net 00:01:36.01]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:36.01]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:36.01]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:36.01]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.01]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.01]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:36.01]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:36.01]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(251,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_WithoutAuth_ReturnsUnauthorized()
[xUnit.net 00:01:36.01]         --- End of stack trace from previous location ---
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7922ms.
[08:09:41 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.4078ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.6506ms
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:41 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/f0db8195-3713-47ab-98ad-aa81491fda87/teams/ccb0544d-515e-41f7-8360-22789ba99cc8/memberships/ec84dcf9-1f64-416d-a861-f190b4d90a5e - application/json; charset=utf-8 16
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "UpdateMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMembership(System.Guid, System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateMembershipRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:41 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:41 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.id = @id AND t.team_id = @teamId
LIMIT 1
[08:09:41 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 5.4542ms.
[08:09:41 INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
[08:09:41 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi) in 5.9604ms
[08:09:41 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/f0db8195-3713-47ab-98ad-aa81491fda87/teams/ccb0544d-515e-41f7-8360-22789ba99cc8/memberships/ec84dcf9-1f64-416d-a861-f190b4d90a5e - 404 null text/plain; charset=utf-8 6.3425ms
[08:09:41 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:41 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:41 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:41 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.0308ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.6014ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.8687ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4555ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7899ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.0499ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4136ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.9011ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.125ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/3bffee7e-71d0-43c5-91e4-36a4a20878ab/teams/5963decb-cd2c-4c50-a2a5-66965dd23f1a/members/edce3524-9a22-4cf5-9c57-636b992fdbfe/role - application/json; charset=utf-8 16
[08:09:42 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMemberRole (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:42 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/3bffee7e-71d0-43c5-91e4-36a4a20878ab/teams/5963decb-cd2c-4c50-a2a5-66965dd23f1a/members/edce3524-9a22-4cf5-9c57-636b992fdbfe/role - 500 null text/plain; charset=utf-8 0.3159ms
[xUnit.net 00:01:36.07]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_NotTeamAdmin_ReturnsForbidden [FAIL]
[xUnit.net 00:01:36.07]       Expected response.StatusCode to be HttpStatusCode.Forbidden {value: 403}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:36.07]       Stack Trace:
[xUnit.net 00:01:36.07]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:36.07]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:36.07]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:36.07]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.07]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.07]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:36.07]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:36.07]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(273,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_NotTeamAdmin_ReturnsForbidden()
[xUnit.net 00:01:36.07]         --- End of stack trace from previous location ---
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.1788ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.7582ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 5.1533ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2158ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.5811ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.7696ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @groupId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @groupId
LIMIT 1
[08:09:42 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/7a9de1fa-ebc8-4b6a-9567-a7d063a7931b/teams/27c7b43a-a3d3-44b9-a56b-7ad5d49b0081/memberships/eb5fc706-b788-4d9f-9e50-ecd74002d63c - application/json; charset=utf-8 21
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "UpdateMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMembership(System.Guid, System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateMembershipRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:42 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.8224ms.
[08:09:42 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi) in 3.3109ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.UpdateMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/7a9de1fa-ebc8-4b6a-9567-a7d063a7931b/teams/27c7b43a-a3d3-44b9-a56b-7ad5d49b0081/memberships/eb5fc706-b788-4d9f-9e50-ecd74002d63c - 400 null text/plain; charset=utf-8 3.8646ms
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.3705ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.6568ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.9216ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3855ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.737ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.9337ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/406a5d21-d851-4f85-96e2-81e460a4b91c/teams/3653aad5-d0dd-460b-9f90-025a9558d6d6/members - application/json; charset=utf-8 65
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:42 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @request_UserId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 7.9777ms.
[08:09:42 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 8.7361ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/406a5d21-d851-4f85-96e2-81e460a4b91c/teams/3653aad5-d0dd-460b-9f90-025a9558d6d6/members - 400 null text/plain; charset=utf-8 9.6893ms
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2984ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.3268ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.4026ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2855ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.1448ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.6655ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @groupId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @groupId
LIMIT 1
[08:09:42 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/f6359676-c07f-4184-82fd-33b7be81bca1/teams/40cb28eb-398f-4d0c-88bd-b6182697e2cd/memberships/628ba79d-024c-44d5-91d9-a22871449501 - null null
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DeleteMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMembership(System.Guid, System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:42 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.id = @id AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
DELETE FROM team_memberships
WHERE id = @p0;
[08:09:42 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi) in 15.7844ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO106, Path: /api/v1/organizations/f6359676-c07f-4184-82fd-33b7be81bca1/teams/40cb28eb-398f-4d0c-88bd-b6182697e2cd/memberships/628ba79d-024c-44d5-91d9-a22871449501, Method: DELETE, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership(Guid orgId, Guid teamId, Guid id, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamMembershipsController.cs:line 541
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:42 ERR] Exception caught. RequestId: 0HNJ8ECIBO106, Path: /api/v1/organizations/f6359676-c07f-4184-82fd-33b7be81bca1/teams/40cb28eb-398f-4d0c-88bd-b6182697e2cd/memberships/628ba79d-024c-44d5-91d9-a22871449501, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership(Guid orgId, Guid teamId, Guid id, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamMembershipsController.cs:line 541
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:42 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/f6359676-c07f-4184-82fd-33b7be81bca1/teams/40cb28eb-398f-4d0c-88bd-b6182697e2cd/memberships/628ba79d-024c-44d5-91d9-a22871449501 - 500 null application/json 20.0543ms
[xUnit.net 00:01:36.20]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_ValidRequest_ReturnsNoContent [FAIL]
[xUnit.net 00:01:36.20]       Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:36.20]       Stack Trace:
[xUnit.net 00:01:36.20]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:36.20]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:36.20]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:36.20]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.20]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.20]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:36.20]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:36.20]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(659,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_ValidRequest_ReturnsNoContent()
[xUnit.net 00:01:36.20]         --- End of stack trace from previous location ---
[08:09:42 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/e2508407-6507-43dc-b56d-2a9d550a6ae6/teams/e1b828a4-57ca-48ae-8ba5-e9da306ba812/memberships/8436035a-8deb-4152-a359-80dfa238b038 - null null
[08:09:42 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:42 INF] AuthenticationScheme: Bearer was challenged.
[08:09:42 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/e2508407-6507-43dc-b56d-2a9d550a6ae6/teams/e1b828a4-57ca-48ae-8ba5-e9da306ba812/memberships/8436035a-8deb-4152-a359-80dfa238b038 - 401 null null 0.9392ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.GetMembership_NotTeamMember_ReturnsForbidden [40 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_MemberNotFound_ReturnsNotFound [27 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.NotFound {value: 404}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_MemberNotFound_ReturnsNotFound() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 328
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMemberships_WithoutAuth_ReturnsUnauthorized [3 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_WithoutAuth_ReturnsUnauthorized [5 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Unauthorized {value: 401}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_WithoutAuth_ReturnsUnauthorized() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 251
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMembership_NotFound_ReturnsNotFound [23 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_NotTeamAdmin_ReturnsForbidden [38 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Forbidden {value: 403}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMemberRole_NotTeamAdmin_ReturnsForbidden() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 273
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMembership_InvalidRole_ReturnsBadRequest [33 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_DuplicateMember_ReturnsBadRequest [39 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_ValidRequest_ReturnsNoContent [49 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_ValidRequest_ReturnsNoContent() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 659
--- End of stack trace from previous location ---
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.6457ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.3261ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.629ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3013ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.8438ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.0834ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/94c7eae5-fc74-45d3-be95-36f18389ec96/teams/f5cc376e-4914-4bcb-aaa6-912666bce93c/members - null null
[08:09:42 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListMembers (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMembers (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:42 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/94c7eae5-fc74-45d3-be95-36f18389ec96/teams/f5cc376e-4914-4bcb-aaa6-912666bce93c/members - 500 null text/plain; charset=utf-8 0.3755ms
[xUnit.net 00:01:36.24]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_ValidRequest_ReturnsMembersList [FAIL]
[xUnit.net 00:01:36.24]       Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:36.24]       Stack Trace:
[xUnit.net 00:01:36.24]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:36.24]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:36.24]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:36.24]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.24]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.24]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:36.24]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:36.24]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(371,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_ValidRequest_ReturnsMembersList()
[xUnit.net 00:01:36.24]         --- End of stack trace from previous location ---
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3568ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.9974ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.2266ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/c812579a-cc73-4790-8be6-c5d4e641a395/teams/7917fc81-9a7b-4c00-b4e9-c380387a285a/memberships/67cd7a85-2c4d-4eab-a0af-2e23891b0e8c - null null
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "GetMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMembership(System.Guid, System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:42 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id, u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM team_memberships AS t
INNER JOIN users AS u ON t.user_id = u.id
WHERE t.id = @id AND t.team_id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 27.9248ms.
[08:09:42 INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi) in 28.3439ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/c812579a-cc73-4790-8be6-c5d4e641a395/teams/7917fc81-9a7b-4c00-b4e9-c380387a285a/memberships/67cd7a85-2c4d-4eab-a0af-2e23891b0e8c - 404 null text/plain; charset=utf-8 28.76ms
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3631ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.9375ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.2993ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5612ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.5145ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.4159ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @groupId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @groupId
LIMIT 1
[08:09:42 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/91246e1f-2920-4bdc-9134-4c4a22451f75/teams/452cb408-9a32-4c9a-a1e7-a6771b635a86/memberships/b5f19a9e-8576-4cd5-a451-59d8083d9d45 - null null
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DeleteMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMembership(System.Guid, System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:42 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.id = @id AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
DELETE FROM team_memberships
WHERE id = @p0;
[08:09:42 ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi) in 4.3407ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO10F, Path: /api/v1/organizations/91246e1f-2920-4bdc-9134-4c4a22451f75/teams/452cb408-9a32-4c9a-a1e7-a6771b635a86/memberships/b5f19a9e-8576-4cd5-a451-59d8083d9d45, Method: DELETE, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership(Guid orgId, Guid teamId, Guid id, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamMembershipsController.cs:line 541
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:42 ERR] Exception caught. RequestId: 0HNJ8ECIBO10F, Path: /api/v1/organizations/91246e1f-2920-4bdc-9134-4c4a22451f75/teams/452cb408-9a32-4c9a-a1e7-a6771b635a86/memberships/b5f19a9e-8576-4cd5-a451-59d8083d9d45, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.DeleteMembership(Guid orgId, Guid teamId, Guid id, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamMembershipsController.cs:line 541
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:42 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/91246e1f-2920-4bdc-9134-4c4a22451f75/teams/452cb408-9a32-4c9a-a1e7-a6771b635a86/memberships/b5f19a9e-8576-4cd5-a451-59d8083d9d45 - 500 null application/json 7.6046ms
[xUnit.net 00:01:36.32]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_RemoveSelf_ReturnsNoContent [FAIL]
[xUnit.net 00:01:36.32]       Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:36.32]       Stack Trace:
[xUnit.net 00:01:36.32]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:36.32]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:36.32]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:36.32]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.32]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.32]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:36.32]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:36.32]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(680,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_RemoveSelf_ReturnsNoContent()
[xUnit.net 00:01:36.32]         --- End of stack trace from previous location ---
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.534ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.1ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.4558ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1468ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7058ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.8901ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/51e624ee-5e09-4c23-9b2b-5a239104c1eb/teams/194bc20b-2a4a-4fe2-9178-7d716b45dc1b/members - null null
[08:09:42 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.ListMembers (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMembers (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:42 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/51e624ee-5e09-4c23-9b2b-5a239104c1eb/teams/194bc20b-2a4a-4fe2-9178-7d716b45dc1b/members - 500 null text/plain; charset=utf-8 0.4998ms
[xUnit.net 00:01:36.34]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_NotTeamMember_ReturnsForbidden [FAIL]
[xUnit.net 00:01:36.34]       Expected response.StatusCode to be HttpStatusCode.Forbidden {value: 403}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:36.34]       Stack Trace:
[xUnit.net 00:01:36.34]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:36.34]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:36.34]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:36.34]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.34]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.34]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:36.34]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[xUnit.net 00:01:36.35]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(354,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_NotTeamMember_ReturnsForbidden()
[xUnit.net 00:01:36.35]         --- End of stack trace from previous location ---
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.654ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.3612ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.941ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2977ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.217ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.41ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/8843d22c-d913-41c5-9f27-5150bce4eb5e/teams/e06f9395-3ff5-4211-b222-6f471615ec56/members - application/json; charset=utf-8 65
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:42 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@request_UserId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @request_UserId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO public.audit_logs (id, organization_id, user_id, action, new_values, created_at)
                  VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 13.9324ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:42 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO10L, Path: /api/v1/organizations/8843d22c-d913-41c5-9f27-5150bce4eb5e/teams/e06f9395-3ff5-4211-b222-6f471615ec56/members, Method: POST, IsStreaming: False
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember(Guid orgId, Guid teamId, AddMemberRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 442
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:42 ERR] Exception caught. RequestId: 0HNJ8ECIBO10L, Path: /api/v1/organizations/8843d22c-d913-41c5-9f27-5150bce4eb5e/teams/e06f9395-3ff5-4211-b222-6f471615ec56/members, ErrorCode: internal_error, ErrorType: server_error, ExceptionType: PostgresException, Message: 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
Npgsql.PostgresException (0x80004005): 42703: column "new_values" of relation "audit_logs" does not exist
POSITION: 70
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember(Guid orgId, Guid teamId, AddMemberRequest request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Controllers/TeamsController.cs:line 442
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column "new_values" of relation "audit_logs" does not exist
    Position: 70
    File: parse_target.c
    Line: 1066
    Routine: checkInsertTargets
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/8843d22c-d913-41c5-9f27-5150bce4eb5e/teams/e06f9395-3ff5-4211-b222-6f471615ec56/members - 500 null application/json 18.6891ms
[xUnit.net 00:01:36.39]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_ValidRequest_ReturnsCreated [FAIL]
[xUnit.net 00:01:36.39]       Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:36.39]       Stack Trace:
[xUnit.net 00:01:36.39]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:36.39]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:36.39]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:36.39]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.39]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.39]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:36.39]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:36.39]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(79,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_ValidRequest_ReturnsCreated()
[xUnit.net 00:01:36.39]         --- End of stack trace from previous location ---
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.6634ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.2711ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.5558ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.3461ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.9067ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.1139ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations/ff3ab92a-632f-4878-8452-aaa5740f1bc6/teams/02bcb5d4-c3f9-4893-8fb0-eeeda2a180b2/members - application/json; charset=utf-8 65
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "AddMember", controller = "Teams"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMember(System.Guid, System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.AddMemberRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamsController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:42 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_UserId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId
LIMIT 1
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@request_UserId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @request_UserId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 4.9108ms.
[08:09:42 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi) in 5.5454ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.AddMember (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations/ff3ab92a-632f-4878-8452-aaa5740f1bc6/teams/02bcb5d4-c3f9-4893-8fb0-eeeda2a180b2/members - 400 null text/plain; charset=utf-8 5.9924ms
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0051ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.5936ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.8671ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @groupId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @groupId
LIMIT 1
[08:09:42 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/0c4ce257-a728-46c9-b193-c687a0f45b6d/teams/8c3a371d-8161-4483-bb5c-a1db8fe0a490/memberships/efcf3ad1-c8a7-41d1-a066-59e68e24ccff - null null
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "GetMembership", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMembership(System.Guid, System.Guid, System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:42 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id, u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM team_memberships AS t
INNER JOIN users AS u ON t.user_id = u.id
WHERE t.id = @id AND t.team_id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6695ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi) in 7.5926ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.GetMembership (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/0c4ce257-a728-46c9-b193-c687a0f45b6d/teams/8c3a371d-8161-4483-bb5c-a1db8fe0a490/memberships/efcf3ad1-c8a7-41d1-a066-59e68e24ccff - 200 null application/json; charset=utf-8 8.5197ms
[08:09:42 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/1b268365-a737-4b75-8f49-e979bb329fcd/teams/e71e4d63-26c9-4098-a992-08b5cf27896c/memberships/81d162c4-3022-42d6-9053-0a22a856b267 - application/json; charset=utf-8 16
[08:09:42 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:42 INF] AuthenticationScheme: Bearer was challenged.
[08:09:42 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/1b268365-a737-4b75-8f49-e979bb329fcd/teams/e71e4d63-26c9-4098-a992-08b5cf27896c/memberships/81d162c4-3022-42d6-9053-0a22a856b267 - 401 null null 0.9174ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_WithoutAuth_ReturnsUnauthorized [6 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_ValidRequest_ReturnsMembersList [29 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_ValidRequest_ReturnsMembersList() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 371
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.GetMembership_NotFound_ReturnsNotFound [47 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_RemoveSelf_ReturnsNoContent [38 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.NoContent {value: 204}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.DeleteMembership_RemoveSelf_ReturnsNoContent() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 680
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_NotTeamMember_ReturnsForbidden [20 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Forbidden {value: 403}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMembers_NotTeamMember_ReturnsForbidden() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 354
--- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_ValidRequest_ReturnsCreated [49 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.Created {value: 201}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_ValidRequest_ReturnsCreated() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 79
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.AddMember_UserNotInOrganization_ReturnsBadRequest [27 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.GetMembership_ValidRequest_ReturnsMembership [24 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.UpdateMembership_WithoutAuth_ReturnsUnauthorized [2 ms]
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (4ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.1166ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 5.7903ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 6.373ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/daa4f5ae-69fb-4578-8104-9d7be6e34d9e/teams/289ac6a6-d422-4d82-b759-d1e88e13baa9/members/2ee509d5-9839-474f-926f-9f6ed709792b - null null
[08:09:42 ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 
Synaxis.InferenceGateway.WebApi.Controllers.TeamsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.RemoveMember (Synaxis.InferenceGateway.WebApi)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[08:09:42 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/daa4f5ae-69fb-4578-8104-9d7be6e34d9e/teams/289ac6a6-d422-4d82-b759-d1e88e13baa9/members/2ee509d5-9839-474f-926f-9f6ed709792b - 500 null text/plain; charset=utf-8 0.2565ms
[xUnit.net 00:01:36.47]     Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_MemberNotFound_ReturnsNotFound [FAIL]
[xUnit.net 00:01:36.47]       Expected response.StatusCode to be HttpStatusCode.NotFound {value: 404}, but found HttpStatusCode.InternalServerError {value: 500}.
[xUnit.net 00:01:36.47]       Stack Trace:
[xUnit.net 00:01:36.47]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:36.47]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:36.47]            at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
[xUnit.net 00:01:36.47]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.47]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:36.47]            at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
[xUnit.net 00:01:36.47]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:36.47]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs(238,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_MemberNotFound_ReturnsNotFound()
[xUnit.net 00:01:36.47]         --- End of stack trace from previous location ---
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.477ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.1262ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.4051ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.6567ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.2574ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.294ms
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:42 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/6743d200-f186-4f82-a66e-ac9d3c6d6bc9/teams/c8c55790-d0a4-4037-86ae-1d21e80e4d41/memberships - null null
[08:09:42 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Route matched with {action = "ListMemberships", controller = "TeamMemberships"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListMemberships(System.Guid, System.Guid, Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController (Synaxis.InferenceGateway.WebApi).
[08:09:42 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:42 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43311;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:42 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @teamId AND t.organization_id = @orgId
LIMIT 1
[08:09:42 INF] Executed DbCommand (1ms) [Parameters=[@teamId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.user_id AS "userId", u.email, u.first_name AS "firstName", u.last_name AS "lastName", t.role, t.joined_at AS "joinedAt"
FROM team_memberships AS t
INNER JOIN users AS u ON t.user_id = u.id
WHERE t.team_id = @teamId
ORDER BY u.email
LIMIT @p2 OFFSET @p
[08:09:42 INF] Executed DbCommand (2ms) [Parameters=[@teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM team_memberships AS t
WHERE t.team_id = @teamId
[08:09:42 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.4012ms.
[08:09:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`4[[System.Collections.Generic.List`1[[<>f__AnonymousType23`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:42 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi) in 41.3723ms
[08:09:42 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.TeamMembershipsController.ListMemberships (Synaxis.InferenceGateway.WebApi)'
[08:09:42 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/6743d200-f186-4f82-a66e-ac9d3c6d6bc9/teams/c8c55790-d0a4-4037-86ae-1d21e80e4d41/memberships - 200 null application/json; charset=utf-8 41.7606ms
[testcontainers.org 00:01:33.53] Delete Docker container b2db807c87ec
[testcontainers.org 00:01:33.53] Delete Docker container 43c21029bf88
[08:09:42 INF] Application is shutting down...
[testcontainers.org 00:01:33.85] Docker container 6ff27f8c47d2 created
[testcontainers.org 00:01:33.85] Docker container 14716434fa1b created
[testcontainers.org 00:01:33.85] Start Docker container 6ff27f8c47d2
[testcontainers.org 00:01:33.86] Start Docker container 14716434fa1b
[testcontainers.org 00:01:34.00] Wait for Docker container 6ff27f8c47d2 to complete readiness checks
[testcontainers.org 00:01:34.01] Execute "redis-cli ping" at Docker container 6ff27f8c47d2
[testcontainers.org 00:01:34.05] Wait for Docker container 14716434fa1b to complete readiness checks
[testcontainers.org 00:01:34.06] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 14716434fa1b
[testcontainers.org 00:01:34.08] Docker container 6ff27f8c47d2 ready
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_MemberNotFound_ReturnsNotFound [22 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.NotFound {value: 404}, but found HttpStatusCode.InternalServerError {value: 500}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionScope.AddPreFormattedFailure(String formattedFailureMessage)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Execution.AssertionChain.FailWith(String message, Object[] args)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.RemoveMember_MemberNotFound_ReturnsNotFound() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/TeamMembershipsControllerTests.cs:line 238
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.TeamMembershipsControllerTests.ListMemberships_ValidRequest_ReturnsMembershipsList [71 ms]
[testcontainers.org 00:01:35.13] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 14716434fa1b
[testcontainers.org 00:01:36.18] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 14716434fa1b
[testcontainers.org 00:01:36.24] Docker container 14716434fa1b ready
[08:09:45 INF] Starting web host
[08:09:45 INF] Security configuration validation passed successfully
[08:09:45 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:45 WRN] Skipping database migration per configuration.
[08:09:45 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:46 INF] Application started. Press Ctrl+C to shut down.
[08:09:46 INF] Hosting environment: Development
[08:09:46 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:46 WRN] Failed to determine the https port for redirect.
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.493ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 7.9682ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 84.2366ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 30
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.8039ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 8.3554ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 10.7628ms
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 80
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 15.5546ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 21.776ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 30.1478ms
[08:09:46 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/ef2449f4-9493-4dbf-a1f6-5e57940ed8a4 - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DeleteOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteOrganization(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @organizationId
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 42.7229ms.
[08:09:46 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:46 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi) in 43.1491ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/ef2449f4-9493-4dbf-a1f6-5e57940ed8a4 - 403 null null 51.3079ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.2482ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.8179ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.0385ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 19
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 7.2326ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 400 null application/problem+json; charset=utf-8 9.2556ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3428ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.0508ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.3481ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 4.2564ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 4.7312ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 5.0656ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/80939c53-4e77-49e8-bf84-0608b27ffb2f/limits - application/json; charset=utf-8 15
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "UpdateOrganizationLimits", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrganizationLimits(System.Guid, Synaxis.Core.Contracts.UpdateOrganizationLimitsRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 4.1235ms.
[08:09:46 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi) in 6.7353ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/80939c53-4e77-49e8-bf84-0608b27ffb2f/limits - 400 null text/plain; charset=utf-8 13.9705ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations - null null
[08:09:46 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:46 INF] AuthenticationScheme: Bearer was challenged.
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations - 401 null null 1.4267ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.52ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.0787ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.2887ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 82
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.7849ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 4.172ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.4848ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@user_Id='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @user_Id AND t.organization_id = @orgId AND t.role = 'OrgAdmin'
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/346a4e38-52c8-409e-bc31-634089482fb5/settings - null null
[08:09:46 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:46 INF] AuthenticationScheme: Bearer was challenged.
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/346a4e38-52c8-409e-bc31-634089482fb5/settings - 401 null null 1.2222ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.417ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.9253ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.1449ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 80
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.5008ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.9119ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.349ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/56f6e4aa-0905-45ae-af0a-9b9a1daee5c2 - application/json; charset=utf-8 78
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "UpdateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrganization(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?', @id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug AND o.id <> @id)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?', @p1='?', @p2='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE organizations SET name = @p0, slug = @p1, updated_at = @p2
WHERE id = @p3;
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.2685ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi) in 15.9262ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/56f6e4aa-0905-45ae-af0a-9b9a1daee5c2 - 200 null application/json; charset=utf-8 23.1473ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2982ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7837ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.0184ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.906ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 4.5944ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.9354ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/d3f54635-8e01-4484-8485-5937b696afa4/limits - application/json; charset=utf-8 73
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "UpdateOrganizationLimits", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrganizationLimits(System.Guid, Synaxis.Core.Contracts.UpdateOrganizationLimitsRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int64), @p3='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE organizations SET "MaxConcurrentRequests" = @p0, "MaxTeams" = @p1, "MonthlyRequestLimit" = @p2, updated_at = @p3
WHERE id = @p4;
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.2669ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type 'Synaxis.Core.Contracts.OrganizationLimitsResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi) in 9.3971ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationLimits (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/d3f54635-8e01-4484-8485-5937b696afa4/limits - 200 null application/json; charset=utf-8 9.8319ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1439ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.8005ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.3327ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1571ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.4691ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.6677ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 76
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.2134ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.6805ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 7.6979ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/153940fc-bde2-4abc-bbcb-120081dea06b - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "GetOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganization(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @id AND t.user_id = @userId)
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 10.8992ms.
[08:09:46 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:46 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) in 11.1668ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/153940fc-bde2-4abc-bbcb-120081dea06b - 403 null null 16.9983ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.DeleteOrganization_AsNonAdmin_ReturnsForbidden [381 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.CreateOrganization_WithMissingSlug_ReturnsBadRequest [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganizationLimits_WithNegativeValues_ReturnsBadRequest [25 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.ListOrganizations_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.CreateOrganization_SetsCreatorAsOrgAdmin [20 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganizationSettings_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganization_AsOrgAdmin_UpdatesOrganization [34 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganizationLimits_AsOrgAdmin_UpdatesLimits [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganizationById_AsNonMember_ReturnsForbidden [39 ms]
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:46 INF] AuthenticationScheme: Bearer was challenged.
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 401 null null 0.542ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/cc094e13-a5fe-4022-8846-b8fcfd40b002 - null null
[08:09:46 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:46 INF] AuthenticationScheme: Bearer was challenged.
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/cc094e13-a5fe-4022-8846-b8fcfd40b002 - 401 null null 0.7409ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8086ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.7388ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.3041ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 30
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (3ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.6367ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.0865ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.2986ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.9695ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 4.522ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 5.0233ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/2398ab8b-ab98-478c-9285-fa521b877849 - application/json; charset=utf-8 22
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "UpdateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrganization(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @organizationId
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 3.3104ms.
[08:09:46 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:46 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi) in 3.6105ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/2398ab8b-ab98-478c-9285-fa521b877849 - 403 null null 4.1614ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7814ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.4342ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.4831ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 68
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.7989ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 4.7237ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 68
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 6.0298ms
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.6686ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 4.0681ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.5679ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/24b9a87e-c124-4141-b902-6487617b1099 - application/json; charset=utf-8 51
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "UpdateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrganization(System.Guid, Synaxis.InferenceGateway.WebApi.Controllers.UpdateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?', @id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug AND o.id <> @id)
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3.7062ms.
[08:09:46 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi) in 4.4675ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/24b9a87e-c124-4141-b902-6487617b1099 - 400 null text/plain; charset=utf-8 5.0276ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1337ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7795ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.02ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 30
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.213ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.4826ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.6666ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 5.1037ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 5.5196ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 5.8593ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/ae4cf30c-3f96-43ce-9657-fc523284d79f/settings - application/json; charset=utf-8 24
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "UpdateOrganizationSettings", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrganizationSettings(System.Guid, Synaxis.Core.Contracts.UpdateOrganizationSettingsRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId AND u.organization_id = @organizationId
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 4.0652ms.
[08:09:46 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:46 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi) in 5.8661ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/ae4cf30c-3f96-43ce-9657-fc523284d79f/settings - 403 null null 12.0482ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4328ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.9321ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.1437ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 64
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.1861ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.5494ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 3.8946ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 64
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (4ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 7.3305ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 8.0452ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 64
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 9.4279ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 6.1633ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 6.5826ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 6.9196ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations?page=1&pageSize=2 - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "ListOrganizations", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListOrganizations(Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM organizations AS o
WHERE EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE o.id = t.organization_id AND EXISTS (
        SELECT 1
        FROM team_memberships AS t0
        WHERE t.id = t0.team_id AND t0.user_id = @userId))
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT o.id AS "Id", o.name AS "Name", o.slug AS "Slug", o.description AS "Description", o.tier AS "Tier", o.is_active AS "IsActive", o.created_at AS "CreatedAt"
FROM organizations AS o
WHERE EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE o.id = t.organization_id AND EXISTS (
        SELECT 1
        FROM team_memberships AS t0
        WHERE t.id = t0.team_id AND t0.user_id = @userId))
ORDER BY o.name
LIMIT @p2 OFFSET @p
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.3614ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`5[[System.Collections.Generic.List`1[[Synaxis.InferenceGateway.WebApi.Controllers.OrganizationSummaryResponse, Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi) in 29.1925ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations?page=1&pageSize=2 - 200 null application/json; charset=utf-8 34.6311ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/b7da4f7e-1d63-46bc-ab78-03d60052c630/limits - null null
[08:09:46 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:46 INF] AuthenticationScheme: Bearer was challenged.
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/b7da4f7e-1d63-46bc-ab78-03d60052c630/limits - 401 null null 0.5915ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.0707ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.7259ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.9592ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.8059ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 4.2451ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.5657ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/1a1455aa-0f4b-4f2e-94fc-4caa5029659d/limits - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationLimits (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "GetOrganizationLimits", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizationLimits(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationLimits (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationLimits (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.7609ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type 'Synaxis.Core.Contracts.OrganizationLimitsResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationLimits (Synaxis.InferenceGateway.WebApi) in 4.0618ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationLimits (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/1a1455aa-0f4b-4f2e-94fc-4caa5029659d/limits - 200 null application/json; charset=utf-8 10.6449ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/368bb288-dc2d-43de-8130-ac159e5d364a/limits - application/json; charset=utf-8 15
[08:09:46 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:46 INF] AuthenticationScheme: Bearer was challenged.
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/368bb288-dc2d-43de-8130-ac159e5d364a/limits - 401 null null 0.3265ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1186ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.6095ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.8237ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.CreateOrganization_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganization_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganization_AsNonAdmin_ReturnsForbidden [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganization_WithDuplicateSlug_ReturnsBadRequest [25 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganizationSettings_AsNonAdmin_ReturnsForbidden [29 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.ListOrganizations_WithPagination_ReturnsPagedResults [60 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganizationLimits_WithoutAuth_ReturnsUnauthorized [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganizationLimits_AsOrgAdmin_ReturnsLimits [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganizationLimits_WithoutAuth_ReturnsUnauthorized [1 ms]
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.2019ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.6564ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.0145ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/bd9d6f94-ad3c-4b6d-85bf-211d176e6219/settings - application/json; charset=utf-8 91
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "UpdateOrganizationSettings", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrganizationSettings(System.Guid, Synaxis.Core.Contracts.UpdateOrganizationSettingsRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Object), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE organizations SET "AllowedEmailDomains" = @p0, "DataRetentionDays" = @p1, "RequireSso" = @p2, updated_at = @p3
WHERE id = @p4;
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.4736ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type 'Synaxis.Core.Contracts.OrganizationSettingsResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi) in 7.6377ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.UpdateOrganizationSettings (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/bd9d6f94-ad3c-4b6d-85bf-211d176e6219/settings - 200 null application/json; charset=utf-8 8.1501ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1793ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.677ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.8968ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.4135ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.8006ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.1411ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/b26f9c45-90b4-47a5-83cf-a94ced832965/settings - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationSettings (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "GetOrganizationSettings", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganizationSettings(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationSettings (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @id AND t.user_id = @userId)
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationSettings (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.4015ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type 'Synaxis.Core.Contracts.OrganizationSettingsResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationSettings (Synaxis.InferenceGateway.WebApi) in 3.6745ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganizationSettings (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/b26f9c45-90b4-47a5-83cf-a94ced832965/settings - 200 null application/json; charset=utf-8 9.5964ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/eb03f094-9fb8-45c4-8273-6874fad36917/settings - application/json; charset=utf-8 24
[08:09:46 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:46 INF] AuthenticationScheme: Bearer was challenged.
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/eb03f094-9fb8-45c4-8273-6874fad36917/settings - 401 null null 0.5686ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1796ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.6882ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.9615ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 145
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 5.0851ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 6.0975ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 7.8404ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1906ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.6775ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.9683ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 42
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.0375ms.
[08:09:46 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 9.4911ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 400 null text/plain; charset=utf-8 9.8271ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2352ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7555ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.0629ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 68
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.2493ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.627ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 3.946ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 68
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 5.1496ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 5.5326ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 5.8683ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "ListOrganizations", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListOrganizations(Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM organizations AS o
WHERE EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE o.id = t.organization_id AND EXISTS (
        SELECT 1
        FROM team_memberships AS t0
        WHERE t.id = t0.team_id AND t0.user_id = @userId))
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT o.id AS "Id", o.name AS "Name", o.slug AS "Slug", o.description AS "Description", o.tier AS "Tier", o.is_active AS "IsActive", o.created_at AS "CreatedAt"
FROM organizations AS o
WHERE EXISTS (
    SELECT 1
    FROM teams AS t
    WHERE o.id = t.organization_id AND EXISTS (
        SELECT 1
        FROM team_memberships AS t0
        WHERE t.id = t0.team_id AND t0.user_id = @userId))
ORDER BY o.name
LIMIT @p2 OFFSET @p
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.785ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`5[[System.Collections.Generic.List`1[[Synaxis.InferenceGateway.WebApi.Controllers.OrganizationSummaryResponse, Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi) in 4.05ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.ListOrganizations (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations - 200 null application/json; charset=utf-8 4.682ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2341ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.7393ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.9874ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 77
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.2337ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.6134ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 3.9267ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 78
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.0594ms.
[08:09:46 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 1.4253ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 400 null text/plain; charset=utf-8 1.7486ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2111ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.8292ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.4024ms
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/0b97d72c-7983-4fd9-a6d6-fc8c1c545909 - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "GetOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganization(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 1.0377ms.
[08:09:46 INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) in 2.8151ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/0b97d72c-7983-4fd9-a6d6-fc8c1c545909 - 404 null application/problem+json; charset=utf-8 3.2136ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0238ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.5982ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.9736ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 84
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.3054ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.8799ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.6798ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganizationSettings_AsOrgAdmin_UpdatesSettings [25 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganizationSettings_AsMember_ReturnsSettings [20 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganizationSettings_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.CreateOrganization_WithValidData_ReturnsCreatedOrganization [20 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.CreateOrganization_WithInvalidSlugFormat_ReturnsBadRequest [16 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.ListOrganizations_ReturnsUserOrganizations [23 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.CreateOrganization_WithDuplicateSlug_ReturnsBadRequest [12 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganizationById_WithNonExistentId_ReturnsNotFound [14 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.CreateOrganization_SetsDefaultLimits [14 ms]
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8254ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.6677ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.8851ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 53
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 0.2973ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 400 null application/problem+json; charset=utf-8 0.5994ms
[08:09:46 INF] Request starting HTTP/1.1 PUT http://localhost/api/v1/organizations/e4d2508d-2925-4dcc-b1cb-c299dc50aeff - application/json; charset=utf-8 23
[08:09:46 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:46 INF] AuthenticationScheme: Bearer was challenged.
[08:09:46 INF] Request finished HTTP/1.1 PUT http://localhost/api/v1/organizations/e4d2508d-2925-4dcc-b1cb-c299dc50aeff - 401 null null 0.3975ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.8819ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.4586ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.7033ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 5.9232ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 6.3046ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 6.7584ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/8d6a8522-2905-4ad6-9306-a72bb1d02ca8 - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "GetOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganization(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @id AND t.user_id = @userId)
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9569ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) in 2.2321ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/8d6a8522-2905-4ad6-9306-a72bb1d02ca8 - 200 null application/json; charset=utf-8 2.5382ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6893ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.6988ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.9191ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 72
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.483ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 4.0143ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.8508ms
[08:09:46 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/74623531-b9e9-4cb5-8a18-abed7904a3b5 - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DeleteOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteOrganization(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid), @organizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @organizationId AND t.role = 'OrgAdmin')
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE organizations SET is_active = @p0, updated_at = @p1
WHERE id = @p2;
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 4.1667ms.
[08:09:46 INF] Executing StatusCodeResult, setting HTTP status code 204
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi) in 4.4895ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.DeleteOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/74623531-b9e9-4cb5-8a18-abed7904a3b5 - 204 null null 4.8451ms
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1443ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.6525ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.9197ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 70
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.1698ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.5655ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 3.9048ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/308d0828-39e2-45dc-9e2b-9c4cf29cff68 - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "GetOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganization(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@id='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @id AND t.user_id = @userId)
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2132ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) in 2.4529ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/308d0828-39e2-45dc-9e2b-9c4cf29cff68 - 200 null application/json; charset=utf-8 2.7049ms
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7208ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.4009ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.6211ms
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4132ms.
[08:09:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.027ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.2802ms
[08:09:46 INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:46 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/organizations - application/json; charset=utf-8 76
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "CreateOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrganization(Synaxis.InferenceGateway.WebApi.Controllers.CreateOrganizationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@request_Slug='?'], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM organizations AS o
    WHERE o.slug = @request_Slug)
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?' (DbType = Object), @p33='?' (DbType = Object), @p34='?' (DbType = Decimal), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Boolean), @p38='?' (DbType = Decimal), @p39='?', @p40='?' (DbType = Guid), @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Guid), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime), @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50);
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 3.2704ms.
[08:09:46 INF] Executing CreatedAtActionResult, writing value of type 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationResponse'.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi) in 3.6551ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.CreateOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/organizations - 201 null application/json; charset=utf-8 4.0328ms
[08:09:46 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/1f7c4442-16b8-4d17-a5f1-52ea4c6e61fe - null null
[08:09:46 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Route matched with {action = "GetOrganization", controller = "Organizations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrganization(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController (Synaxis.InferenceGateway.WebApi).
[08:09:46 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @id
LIMIT 1
[08:09:46 INF] Executed DbCommand (0ms) [Parameters=[@id='?' (DbType = Guid), @userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.organization_id = @id AND t.user_id = @userId)
[08:09:46 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 1.7744ms.
[08:09:46 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:46 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:46 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi) in 2.0097ms
[08:09:46 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.OrganizationsController.GetOrganization (Synaxis.InferenceGateway.WebApi)'
[08:09:46 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/1f7c4442-16b8-4d17-a5f1-52ea4c6e61fe - 403 null null 2.2905ms
[08:09:46 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/organizations/9722340f-5c46-4987-9fb0-42b8e38217c4 - null null
[08:09:46 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:46 INF] AuthenticationScheme: Bearer was challenged.
[08:09:46 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/organizations/9722340f-5c46-4987-9fb0-42b8e38217c4 - 401 null null 0.61ms
[testcontainers.org 00:01:37.81] Delete Docker container 14716434fa1b
[testcontainers.org 00:01:37.81] Delete Docker container 6ff27f8c47d2
[08:09:46 INF] Application is shutting down...
[testcontainers.org 00:01:38.10] Docker container fea9905ef4ec created
[testcontainers.org 00:01:38.10] Start Docker container fea9905ef4ec
[testcontainers.org 00:01:38.10] Docker container 8ee77e3ebab1 created
[testcontainers.org 00:01:38.10] Start Docker container 8ee77e3ebab1
[testcontainers.org 00:01:38.25] Wait for Docker container fea9905ef4ec to complete readiness checks
[testcontainers.org 00:01:38.25] Execute "redis-cli ping" at Docker container fea9905ef4ec
[testcontainers.org 00:01:38.29] Wait for Docker container 8ee77e3ebab1 to complete readiness checks
[testcontainers.org 00:01:38.29] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 8ee77e3ebab1
[testcontainers.org 00:01:38.35] Docker container fea9905ef4ec ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.CreateOrganization_WithMissingName_ReturnsBadRequest [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.UpdateOrganization_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganizationById_AsMember_ReturnsOrganization [18 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.DeleteOrganization_AsOrgAdmin_SoftDeletesOrganization [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganization_AsMember_ReturnsOrganization [14 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.GetOrganization_AsNonMember_ReturnsForbidden [17 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.OrganizationsControllerTests.DeleteOrganization_WithoutAuth_ReturnsUnauthorized [3 ms]
[testcontainers.org 00:01:39.38] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 8ee77e3ebab1
[xUnit.net 00:01:42.62]     Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_FirstCall_AcquiresLock [FAIL]
[xUnit.net 00:01:42.62]       Moq.MockException : 
[xUnit.net 00:01:42.63]       Expected invocation on the mock once, but was 0 times: db => db.StringSetAsync(It.Is<RedisKey>(k => k.ToString() == lockKey), It.IsAny<RedisValue>(), It.IsAny<TimeSpan?>(), It.IsAny<bool>(), When.NotExists, CommandFlags.None)
[xUnit.net 00:01:42.63]       
[xUnit.net 00:01:42.63]       Performed invocations:
[xUnit.net 00:01:42.63]       
[xUnit.net 00:01:42.63]          Mock<IDatabase:63> (db):
[xUnit.net 00:01:42.63]       
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringSetAsync(inflight:hash-123, locked, 00:00:30, When.NotExists)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]             IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
[xUnit.net 00:01:42.63]       
[xUnit.net 00:01:42.63]       Stack Trace:
[xUnit.net 00:01:42.63]         /_/src/Moq/Mock.cs(332,0): at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage)
[xUnit.net 00:01:42.63]         /_/src/Moq/Mock`1.cs(840,0): at Moq.Mock`1.Verify[TResult](Expression`1 expression, Func`1 times)
[xUnit.net 00:01:42.63]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisInFlightDeduplicationTests.cs(88,0): at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_FirstCall_AcquiresLock()
[xUnit.net 00:01:42.63]         --- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_FirstCall_AcquiresLock [30 s]
  Error Message:
   Moq.MockException : 
Expected invocation on the mock once, but was 0 times: db => db.StringSetAsync(It.Is<RedisKey>(k => k.ToString() == lockKey), It.IsAny<RedisValue>(), It.IsAny<TimeSpan?>(), It.IsAny<bool>(), When.NotExists, CommandFlags.None)

Performed invocations:

   Mock<IDatabase:63> (db):

      IDatabaseAsync.StringSetAsync(inflight:hash-123, locked, 00:00:30, When.NotExists)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)
      IDatabaseAsync.StringGetAsync(result:hash-123, CommandFlags.None)

  Stack Trace:
     at Moq.Mock.Verify(Mock mock, LambdaExpression expression, Times times, String failMessage) in /_/src/Moq/Mock.cs:line 332
   at Moq.Mock`1.Verify[TResult](Expression`1 expression, Func`1 times) in /_/src/Moq/Mock`1.cs:line 840
   at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_FirstCall_AcquiresLock() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisInFlightDeduplicationTests.cs:line 88
--- End of stack trace from previous location ---
[testcontainers.org 00:01:40.43] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 8ee77e3ebab1
[testcontainers.org 00:01:40.50] Docker container 8ee77e3ebab1 ready
[08:09:50 INF] Starting web host
[08:09:50 INF] Security configuration validation passed successfully
[08:09:50 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:50 WRN] Skipping database migration per configuration.
[08:09:50 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:50 INF] Application started. Press Ctrl+C to shut down.
[08:09:50 INF] Hosting environment: Development
[08:09:50 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:50 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/invitations/44599b75-ff1e-4e07-9d6b-6ce715e43ece - null null
[08:09:50 WRN] Failed to determine the https port for redirect.
[08:09:50 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:50 INF] AuthenticationScheme: Bearer was challenged.
[08:09:50 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/invitations/44599b75-ff1e-4e07-9d6b-6ce715e43ece - 401 null null 77.3194ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.5478ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 7.3912ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 16.3105ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 153
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 77.2012ms.
[08:09:50 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 85.7586ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 93.4162ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.9511ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.5516ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.9479ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.6216ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.8945ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.0669ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?'], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0, role = @p1
WHERE id = @p2;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:50 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/invitations/5db22674-5841-44ee-bdd5-9607bbf9e010 - null null
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CancelInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CancelInvitation(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.id = @id
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @invitation_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @invitation_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @invitation_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @invitation_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 30.6671ms.
[08:09:50 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:50 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi) in 30.9174ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/invitations/5db22674-5841-44ee-bdd5-9607bbf9e010 - 403 null null 37.926ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0728ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.4439ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.6533ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2449ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.4712ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.6226ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE users SET organization_id = @p0
WHERE id = @p1;
[08:09:50 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 153
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 2.1345ms.
[08:09:50 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:50 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 2.4333ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 403 null null 2.7405ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0361ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.63ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.4472ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 31
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.141ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.4104ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.5692ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations/5b9e14f8dde3433d8415b9fee4943542714467f160ee47d5892712a9b426765f/accept - null null
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "AcceptInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptInvitation(System.String, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@token='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.token = @token
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 13.1063ms.
[08:09:50 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi) in 13.6541ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations/5b9e14f8dde3433d8415b9fee4943542714467f160ee47d5892712a9b426765f/accept - 400 null text/plain; charset=utf-8 19.5376ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7546ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.4315ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.6865ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 151
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 6.3019ms.
[08:09:50 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 6.6892ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 6.9461ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 31
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1059ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.3326ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.459ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations/08a51d0b571a4a579ab5e61a07a9b42551a82ec93648422983dfe3c6c2daa45a/decline - null null
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.DeclineInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DeclineInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeclineInvitation(System.String, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.DeclineInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@token='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.token = @token
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?'], CommandType='Text', CommandTimeout='30']
UPDATE invitations SET declined_at = @p0, declined_by = @p1, status = @p2
WHERE id = @p3;
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.DeclineInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.8605ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.DeclineInvitation (Synaxis.InferenceGateway.WebApi) in 9.4257ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.DeclineInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations/08a51d0b571a4a579ab5e61a07a9b42551a82ec93648422983dfe3c6c2daa45a/decline - 200 null application/json; charset=utf-8 16.6068ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1684ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.5636ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.7429ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.IsInFlightAsync_Locked_ReturnsTrue [8 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.RedisFailure_FailsOpen_ExecutesDirectly [14 ms]
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 153
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 6.2997ms.
[08:09:50 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 6.8998ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 7.4732ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 153
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 5.2894ms.
[08:09:50 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 5.9784ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 400 null text/plain; charset=utf-8 7.1639ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8485ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.5346ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.8905ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 148
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 8.6896ms.
[08:09:50 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 9.0599ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 9.3116ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.094ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.5367ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.6916ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations/fff322e5cd2349cc91aa7f0985c5a55d17fce3fa18cf4fa9abc943001a0bffa9/accept - null null
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "AcceptInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptInvitation(System.String, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@token='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.token = @token
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @invitation_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @invitation_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE invitations SET accepted_at = @p0, accepted_by = @p1, status = @p2
WHERE id = @p3;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.1137ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType13`3[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi) in 7.8046ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations/fff322e5cd2349cc91aa7f0985c5a55d17fce3fa18cf4fa9abc943001a0bffa9/accept - 200 null application/json; charset=utf-8 8.174ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations/fff322e5cd2349cc91aa7f0985c5a55d17fce3fa18cf4fa9abc943001a0bffa9/accept - null null
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "AcceptInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptInvitation(System.String, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@token='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.token = @token
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.3392ms.
[08:09:50 INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi) in 1.5549ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations/fff322e5cd2349cc91aa7f0985c5a55d17fce3fa18cf4fa9abc943001a0bffa9/accept - 400 null text/plain; charset=utf-8 1.8223ms
[08:09:50 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/invitations/invalid-token-12345678 - null null
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "GetInvitationByToken", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvitationByToken(System.String, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@token='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token, o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at, t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at, u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM invitations AS i
INNER JOIN organizations AS o ON i.organization_id = o.id
INNER JOIN teams AS t ON i.team_id = t.id
INNER JOIN users AS u ON i.invited_by = u.id
WHERE i.token = @token
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 64.239ms.
[08:09:50 INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi) in 64.9923ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/invitations/invalid-token-12345678 - 404 null text/plain; charset=utf-8 70.4302ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2805ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.CancelInvitation_WithoutAuth_ReturnsUnauthorized [289 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.CreateInvitation_ValidRequest_CreatesInvitation [134 ms]
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.1972ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.CancelInvitation_NotTeamAdmin_ReturnsForbidden [82 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.CreateInvitation_NotTeamAdmin_ReturnsForbidden [23 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.AcceptInvitation_ExpiredToken_ReturnsBadRequest [42 ms]
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.8279ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.DeclineInvitation_ValidToken_UpdatesStatus [48 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.CreateInvitation_DuplicateEmail_ReturnsBadRequest [28 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.AcceptInvitation_AlreadyAccepted_ReturnsBadRequest [42 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.GetInvitationByToken_InvalidToken_ReturnsNotFound [73 ms]
[08:09:50 INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/invitations/1c7a5e5bcd9f47f08d1e6af161155fd7af172e353d2a41d8aad69a2642eac662 - null null
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "GetInvitationByToken", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvitationByToken(System.String, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@token='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token, o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at, t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at, u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM invitations AS i
INNER JOIN organizations AS o ON i.organization_id = o.id
INNER JOIN teams AS t ON i.team_id = t.id
INNER JOIN users AS u ON i.invited_by = u.id
WHERE i.token = @token
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 3.6771ms.
[08:09:50 INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi) in 3.9338ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/invitations/1c7a5e5bcd9f47f08d1e6af161155fd7af172e353d2a41d8aad69a2642eac662 - 404 null text/plain; charset=utf-8 4.0951ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3221ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.8019ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.0019ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3586ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.6305ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.8373ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/d2648bc9-b72b-4711-8d9c-87f99b03f66e/invitations - null null
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "ListInvitations", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListInvitations(System.Guid, Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @orgId)
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.ForbidResult in 12.6668ms.
[08:09:50 INF] Executing ForbidResult with authentication schemes ([]).
[08:09:50 INF] AuthenticationScheme: Bearer was forbidden.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi) in 12.945ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/d2648bc9-b72b-4711-8d9c-87f99b03f66e/invitations - 403 null null 20.2139ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.8759ms.
[08:09:50 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.3766ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.561ms
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 149
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (0ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 4.8889ms.
[08:09:50 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 5.2482ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 5.6565ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 149
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (0ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 5.1091ms.
[08:09:50 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 6.0646ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 6.4517ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 149
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 6.9468ms.
[08:09:50 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 7.2601ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 8.083ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 149
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (7ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 14.908ms.
[08:09:50 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 15.3158ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 15.5438ms
[08:09:50 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 149
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:50 INF] Executed DbCommand (2ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:50 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 7.874ms.
[08:09:50 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:50 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 8.2561ms
[08:09:50 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 8.5156ms
[08:09:50 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/6d5fc5ff-84b4-40bf-b331-829f7232d717/invitations?pageSize=2&page=1 - null null
[08:09:50 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi)'
[08:09:50 INF] Route matched with {action = "ListInvitations", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListInvitations(System.Guid, Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:50 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:50 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @orgId)
[08:09:50 INF] Executed DbCommand (3ms) [Parameters=[@orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM invitations AS i
WHERE i.organization_id = @orgId AND i.status = 'pending'
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT i0.id, i0.email, i0.role, i0.status, i0.team_id, t.name, i0.invited_by, TRUE, u.first_name, u.last_name, i0.created_at, i0.expires_at
FROM (
    SELECT i.id, i.created_at, i.email, i.expires_at, i.invited_by, i.role, i.status, i.team_id
    FROM invitations AS i
    WHERE i.organization_id = @orgId AND i.status = 'pending'
    ORDER BY i.created_at DESC
    LIMIT @p2 OFFSET @p
) AS i0
INNER JOIN teams AS t ON i0.team_id = t.id
INNER JOIN users AS u ON i0.invited_by = u.id
ORDER BY i0.created_at DESC
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.3733ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`5[[System.Collections.Generic.List`1[[<>f__AnonymousType15`10[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi) in 54.846ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/6d5fc5ff-84b4-40bf-b331-829f7232d717/invitations?pageSize=2&page=1 - 200 null application/json; charset=utf-8 56.2887ms
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5771ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.2338ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.441ms
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 144
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 2.8344ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 400 null application/problem+json; charset=utf-8 3.2772ms
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations/some-token/accept - null null
[08:09:51 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:51 INF] AuthenticationScheme: Bearer was challenged.
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations/some-token/accept - 401 null null 0.466ms
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.7679ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.7237ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.9428ms
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 149
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:51 INF] Executed DbCommand (0ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 6.1058ms.
[08:09:51 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 6.467ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 6.7313ms
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 152
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 8.5024ms.
[08:09:51 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 9.2527ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 9.5085ms
[08:09:51 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/561dab08-75b6-4963-b158-9faef50e66ba/invitations - null null
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "ListInvitations", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListInvitations(System.Guid, Int32, Int32, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (2ms) [Parameters=[@userId='?' (DbType = Guid), @orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @orgId)
[08:09:51 INF] Executed DbCommand (0ms) [Parameters=[@orgId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM invitations AS i
WHERE i.organization_id = @orgId AND i.status = 'pending'
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@orgId='?' (DbType = Guid), @p2='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT i0.id, i0.email, i0.role, i0.status, i0.team_id, t.name, i0.invited_by, TRUE, u.first_name, u.last_name, i0.created_at, i0.expires_at
FROM (
    SELECT i.id, i.created_at, i.email, i.expires_at, i.invited_by, i.role, i.status, i.team_id
    FROM invitations AS i
    WHERE i.organization_id = @orgId AND i.status = 'pending'
    ORDER BY i.created_at DESC
    LIMIT @p2 OFFSET @p
) AS i0
INNER JOIN teams AS t ON i0.team_id = t.id
INNER JOIN users AS u ON i0.invited_by = u.id
ORDER BY i0.created_at DESC
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.1907ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`5[[System.Collections.Generic.List`1[[<>f__AnonymousType15`10[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi) in 5.4766ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.ListInvitations (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/561dab08-75b6-4963-b158-9faef50e66ba/invitations - 200 null application/json; charset=utf-8 5.9911ms
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8927ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.4981ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.0017ms
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:51 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 151
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:51 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:51 INF] Executed DbCommand (0ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 4.4849ms.
[08:09:51 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 4.8448ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/invitations/e81f1b192db64bd7b09bfbec948c64355b442615a9db4936b28fed49df7bd536 - null null
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "GetInvitationByToken", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvitationByToken(System.String, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 5.1868ms
[08:09:51 INF] Executed DbCommand (3ms) [Parameters=[@token='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token, o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at, t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at, u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM invitations AS i
INNER JOIN organizations AS o ON i.organization_id = o.id
INNER JOIN teams AS t ON i.team_id = t.id
INNER JOIN users AS u ON i.invited_by = u.id
WHERE i.token = @token
LIMIT 1
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.831ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`9[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi) in 5.6903ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.GetInvitationByToken (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/invitations/e81f1b192db64bd7b09bfbec948c64355b442615a9db4936b28fed49df7bd536 - 200 null application/json; charset=utf-8 6.078ms
[08:09:51 INF] Request starting HTTP/1.1 GET http://localhost/api/v1/organizations/5f6a622b-fc0f-4dcf-a6ff-a4b096991319/invitations - null null
[08:09:51 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:51 INF] AuthenticationScheme: Bearer was challenged.
[08:09:51 INF] Request finished HTTP/1.1 GET http://localhost/api/v1/organizations/5f6a622b-fc0f-4dcf-a6ff-a4b096991319/invitations - 401 null null 1.0072ms
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 29
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2826ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 1.8002ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 1.9843ms
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 151
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "CreateInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateInvitation(Synaxis.InferenceGateway.WebApi.Controllers.CreateInvitationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid), @request_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @request_TeamId
LIMIT 1
[08:09:51 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM team_memberships AS t
    WHERE t.user_id = @userId AND t.organization_id = @request_OrganizationId AND t.role = 'OrgAdmin')
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_OrganizationId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @request_TeamId AND t.organization_id = @request_OrganizationId
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_TeamId='?' (DbType = Guid), @request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.team_id = @request_TeamId AND i.email = @request_Email AND i.status = 'pending'
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 6.4069ms.
[08:09:51 INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType11`7[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi) in 7.378ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CreateInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 201 null application/json; charset=utf-8 7.7797ms
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 31
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1336ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.3984ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.8284ms
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations/cd604b1154b7466187a1733d572eb0b5aa5913308af44486994d1a854fb2359c/accept - null null
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "AcceptInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AcceptInvitation(System.String, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@token='?'], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.token = @token
LIMIT 1
[08:09:51 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @invitation_TeamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @invitation_TeamId
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE invitations SET accepted_at = @p0, accepted_by = @p1, status = @p2
WHERE id = @p3;
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.7741ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType13`3[[System.Guid, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi) in 5.0058ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.AcceptInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations/cd604b1154b7466187a1733d572eb0b5aa5913308af44486994d1a854fb2359c/accept - 200 null application/json; charset=utf-8 5.6482ms
[08:09:51 INF] Executed DbCommand (0ms) [Parameters=[@userId='?' (DbType = Guid), @teamId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t.invited_by, t."InviterId", t.joined_at, t.organization_id, t.role, t.team_id, t.user_id
FROM team_memberships AS t
WHERE t.user_id = @userId AND t.team_id = @teamId
LIMIT 1
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.GetInvitationByToken_ExpiredToken_ReturnsNotFound [26 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.ListInvitations_NotOrgMember_ReturnsForbidden [33 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.ListInvitations_SupportsPagination [116 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.CreateInvitation_InvalidEmail_ReturnsBadRequest [16 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.AcceptInvitation_WithoutAuth_ReturnsUnauthorized [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.ListInvitations_ValidRequest_ReturnsInvitationsList [39 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.GetInvitationByToken_ValidToken_ReturnsInvitationDetails [26 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.ListInvitations_WithoutAuth_ReturnsUnauthorized [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.AcceptInvitation_ValidToken_CreatesTeamMembership [40 ms]
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.5273ms.
[08:09:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.1799ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.4109ms
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p32='?' (DbType = Guid), @p31='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
UPDATE users SET organization_id = @p31
WHERE id = @p32;
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?' (DbType = Decimal), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?', @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO teams (id, "AllowedModels", "BlockedModels", budget_alert_threshold, created_at, description, is_active, monthly_budget, name, organization_id, slug, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[08:09:51 INF] Executed DbCommand (0ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t.id, t."AllowedModels", t."BlockedModels", t.budget_alert_threshold, t.created_at, t.description, t.is_active, t.monthly_budget, t.name, t.organization_id, t.slug, t.updated_at
FROM teams AS t
WHERE t.id = @p
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?', @p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO team_memberships (id, invited_by, "InviterId", joined_at, organization_id, role, team_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO invitations (id, accepted_at, accepted_by, cancelled_at, cancelled_by, created_at, declined_at, declined_by, email, expires_at, invited_by, organization_id, role, status, team_id, token)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
[08:09:51 INF] Request starting HTTP/1.1 DELETE http://localhost/api/v1/invitations/21ee9039-a5b7-4933-b44c-d0b4f9b89eae - null null
[08:09:51 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Route matched with {action = "CancelInvitation", controller = "Invitations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CancelInvitation(System.Guid, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController (Synaxis.InferenceGateway.WebApi).
[08:09:51 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@id='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.id = @id
LIMIT 1
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?'], CommandType='Text', CommandTimeout='30']
UPDATE invitations SET cancelled_at = @p0, cancelled_by = @p1, status = @p2
WHERE id = @p3;
[08:09:51 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 3.0781ms.
[08:09:51 INF] Executing StatusCodeResult, setting HTTP status code 204
[08:09:51 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi) in 3.2825ms
[08:09:51 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.InvitationsController.CancelInvitation (Synaxis.InferenceGateway.WebApi)'
[08:09:51 INF] Request finished HTTP/1.1 DELETE http://localhost/api/v1/invitations/21ee9039-a5b7-4933-b44c-d0b4f9b89eae - 204 null null 3.5418ms
[08:09:51 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT i.id, i.accepted_at, i.accepted_by, i.cancelled_at, i.cancelled_by, i.created_at, i.declined_at, i.declined_by, i.email, i.expires_at, i.invited_by, i.organization_id, i.role, i.status, i.team_id, i.token
FROM invitations AS i
WHERE i.id = @p
LIMIT 1
[08:09:51 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/invitations - application/json; charset=utf-8 148
[08:09:51 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:09:51 INF] AuthenticationScheme: Bearer was challenged.
[08:09:51 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/invitations - 401 null null 0.6959ms
[testcontainers.org 00:01:42.22] Delete Docker container 8ee77e3ebab1
[testcontainers.org 00:01:42.22] Delete Docker container fea9905ef4ec
[08:09:51 INF] Application is shutting down...
[testcontainers.org 00:01:42.54] Docker container d072beb08a3e created
[testcontainers.org 00:01:42.54] Docker container 1adda3afaab8 created
[testcontainers.org 00:01:42.54] Start Docker container d072beb08a3e
[testcontainers.org 00:01:42.54] Start Docker container 1adda3afaab8
[testcontainers.org 00:01:42.70] Wait for Docker container d072beb08a3e to complete readiness checks
[testcontainers.org 00:01:42.70] Execute "redis-cli ping" at Docker container d072beb08a3e
[testcontainers.org 00:01:42.76] Docker container d072beb08a3e ready
[testcontainers.org 00:01:42.76] Wait for Docker container 1adda3afaab8 to complete readiness checks
[testcontainers.org 00:01:42.77] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 1adda3afaab8
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.CancelInvitation_ValidRequest_CancelsInvitation [32 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.InvitationsControllerTests.CreateInvitation_WithoutAuth_ReturnsUnauthorized [2 ms]
[testcontainers.org 00:01:43.83] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 1adda3afaab8
[testcontainers.org 00:01:44.88] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 1adda3afaab8
[testcontainers.org 00:01:44.93] Docker container 1adda3afaab8 ready
[08:09:54 INF] Starting web host
[08:09:54 INF] Security configuration validation passed successfully
[08:09:54 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:54 WRN] Skipping database migration per configuration.
[08:09:54 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:54 INF] Application started. Press Ctrl+C to shut down.
[08:09:54 INF] Hosting environment: Development
[08:09:54 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:54 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:54 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43317;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:54 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@googleUserId='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @googleUserId
LIMIT 1
[08:09:54 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:54 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43317;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:54 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:54 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43317;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "AuthProvider" = @p0, "CreatedAt" = @p1, "Email" = @p2, "PasswordHash" = @p3, "ProviderUserId" = @p4, "Role" = @p5, "TenantId" = @p6
WHERE "Id" = @p7;
[08:09:54 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:54 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43317;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."Id" = @p
LIMIT 1
[08:09:54 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:54 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43317;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@googleUserId='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @googleUserId
LIMIT 1
[08:09:54 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:54 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43317;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:54 INF] Executed DbCommand (0ms) [Parameters=[@googleUserId='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @googleUserId
LIMIT 1
[08:09:54 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:54 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43317;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:54 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:54 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43317;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@googleUserId='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @googleUserId
LIMIT 1
[08:09:54 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:54 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43317;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = DateTime), @p10='?' (DbType = Binary), @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?', @p20='?', @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?', @p28='?', @p29='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@googleId1='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @googleId1
LIMIT 1
[08:09:54 INF] Executed DbCommand (1ms) [Parameters=[@googleId2='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @googleId2
LIMIT 1
[testcontainers.org 00:01:45.97] Delete Docker container d072beb08a3e
[testcontainers.org 00:01:45.97] Delete Docker container 1adda3afaab8
[08:09:55 INF] Application is shutting down...
[testcontainers.org 00:01:46.31] Docker container 061a5f85abab created
[testcontainers.org 00:01:46.31] Start Docker container 061a5f85abab
[testcontainers.org 00:01:46.33] Docker container 448e34297495 created
[testcontainers.org 00:01:46.33] Start Docker container 448e34297495
[testcontainers.org 00:01:46.48] Wait for Docker container 061a5f85abab to complete readiness checks
[testcontainers.org 00:01:46.49] Execute "redis-cli ping" at Docker container 061a5f85abab
[testcontainers.org 00:01:46.51] Wait for Docker container 448e34297495 to complete readiness checks
[testcontainers.org 00:01:46.52] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 448e34297495
[testcontainers.org 00:01:46.56] Docker container 061a5f85abab ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GoogleAuthIntegrationTests.GoogleAuth_User_HasOwnerRole [325 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GoogleAuthIntegrationTests.GoogleAuth_User_CreatesActiveTenant [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GoogleAuthIntegrationTests.GoogleAuth_ExistingUser_UpdatesEmailIfChanged [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GoogleAuthIntegrationTests.GoogleAuth_TokenExchange_ValidCode_CreatesUserAndToken [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GoogleAuthIntegrationTests.GoogleAuth_TokenGeneration_ContainsRequiredClaims [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GoogleAuthIntegrationTests.GoogleAuth_User_NoPasswordHashSet [4 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GoogleAuthIntegrationTests.GoogleAuth_UserPersistence_PreservesProviderInfo [5 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GoogleAuthIntegrationTests.GoogleAuth_MultipleUsers_SeparateTenants [48 ms]
[testcontainers.org 00:01:47.59] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 448e34297495
[testcontainers.org 00:01:48.64] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 448e34297495
[testcontainers.org 00:01:48.70] Docker container 448e34297495 ready
[08:09:58 INF] Starting web host
[08:09:58 INF] Security configuration validation passed successfully
[08:09:58 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:09:58 WRN] Skipping database migration per configuration.
[08:09:58 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:09:58 INF] Application started. Press Ctrl+C to shut down.
[08:09:58 INF] Hosting environment: Development
[08:09:58 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:09:58 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:58 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43319;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:58 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:58 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:58 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43319;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@gitHubUserId='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @gitHubUserId
LIMIT 1
[08:09:58 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:58 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43319;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:58 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:58 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43319;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:58 INF] Executed DbCommand (0ms) [Parameters=[@gitHubUserId='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @gitHubUserId
LIMIT 1
[08:09:58 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:58 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43319;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = DateTime), @p10='?' (DbType = Binary), @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid), @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?', @p20='?', @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?', @p28='?', @p29='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@gitHubId1='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @gitHubId1
LIMIT 1
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@gitHubId2='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @gitHubId2
LIMIT 1
[08:09:58 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:58 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43319;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@gitHubUserId='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @gitHubUserId
LIMIT 1
[08:09:58 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:09:58 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43319;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Binary), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "ByokKeyId", "CreatedAt", "EncryptedByokKey", "Name", "Region", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "Users" ("Id", "AuthProvider", "CreatedAt", "Email", "PasswordHash", "ProviderUserId", "Role", "TenantId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[08:09:58 INF] Executed DbCommand (1ms) [Parameters=[@gitHubUserId='?'], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."AuthProvider", u."CreatedAt", u."Email", u."PasswordHash", u."ProviderUserId", u."Role", u."TenantId"
FROM "Users" AS u
WHERE u."ProviderUserId" = @gitHubUserId
LIMIT 1
[testcontainers.org 00:01:49.61] Delete Docker container 448e34297495
[testcontainers.org 00:01:49.61] Delete Docker container 061a5f85abab
[08:09:58 INF] Application is shutting down...
[testcontainers.org 00:01:49.94] Docker container a55887c708d5 created
[testcontainers.org 00:01:49.94] Docker container d2a3d25927f1 created
[testcontainers.org 00:01:49.94] Start Docker container a55887c708d5
[testcontainers.org 00:01:49.94] Start Docker container d2a3d25927f1
[testcontainers.org 00:01:50.09] Wait for Docker container d2a3d25927f1 to complete readiness checks
[testcontainers.org 00:01:50.09] Execute "redis-cli ping" at Docker container d2a3d25927f1
[testcontainers.org 00:01:50.16] Docker container d2a3d25927f1 ready
[testcontainers.org 00:01:50.17] Wait for Docker container a55887c708d5 to complete readiness checks
[testcontainers.org 00:01:50.18] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container a55887c708d5
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GitHubAuthIntegrationTests.GitHubAuth_User_CreatesActiveTenant [214 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GitHubAuthIntegrationTests.GitHubAuth_User_NoPasswordHashSet [18 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GitHubAuthIntegrationTests.GitHubAuth_UserPersistence_PreservesProviderInfo [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GitHubAuthIntegrationTests.GitHubAuth_MultipleUsers_SeparateTenants [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GitHubAuthIntegrationTests.GitHubAuth_DeviceFlow_InitiatesFlow_ReturnsUserCodeAndUri [6 ms]
  Standard Output Messages:
 GitHub device flow initiation test passed


  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GitHubAuthIntegrationTests.GitHubAuth_User_HasOwnerRole [4 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GitHubAuthIntegrationTests.GitHubAuth_TokenExchange_ValidDeviceCode_CreatesUserAndToken [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.GitHubAuthIntegrationTests.GitHubAuth_TokenGeneration_ContainsRequiredClaims [1 ms]
[testcontainers.org 00:01:51.24] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container a55887c708d5
[testcontainers.org 00:01:52.29] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container a55887c708d5
[testcontainers.org 00:01:52.36] Docker container a55887c708d5 ready
[08:10:01 INF] Starting web host
[08:10:02 INF] Security configuration validation passed successfully
[08:10:02 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:02 WRN] Skipping database migration per configuration.
[08:10:02 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:02 INF] Application started. Press Ctrl+C to shut down.
[08:10:02 INF] Hosting environment: Development
[08:10:02 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/reset-password - application/json; charset=utf-8 50
[08:10:02 WRN] Failed to determine the https port for redirect.
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Synaxis.InferenceGateway.WebApi.Controllers.ResetPasswordRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.1174ms.
[08:10:02 INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi) in 3.7474ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/reset-password - 400 null application/json; charset=utf-8 78.0323ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 92
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 61.277ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 63.7316ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 71.4897ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/forgot-password - application/json; charset=utf-8 67
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Synaxis.InferenceGateway.WebApi.Controllers.ForgotPasswordRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.017ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi) in 6.8354ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/forgot-password - 200 null application/json; charset=utf-8 14.6204ms
[08:10:02 INF] Executed DbCommand (3ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 99
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.773ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 58.5135ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 58.7185ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/login - application/json; charset=utf-8 97
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Synaxis.InferenceGateway.WebApi.Controllers.LoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 51.8217ms.
[08:10:02 INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) in 53.3213ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/login - 401 null application/json; charset=utf-8 62.9909ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 95
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.6841ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 52.0891ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 52.996ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/login - application/json; charset=utf-8 95
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Synaxis.InferenceGateway.WebApi.Controllers.LoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.6834ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType8`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) in 52.3695ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/logout - null null
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/login - 200 null application/json; charset=utf-8 52.9056ms
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Logout (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Logout (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Logout (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2123ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Logout (Synaxis.InferenceGateway.WebApi) in 0.8564ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Logout (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/logout - 200 null application/json; charset=utf-8 7.1757ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/logout - null null
[08:10:02 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[08:10:02 INF] AuthenticationScheme: Bearer was challenged.
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/logout - 401 null null 0.5282ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 100
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.9527ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 52.0087ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 52.4232ms
[08:10:02 INF] Executed DbCommand (2ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 97
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.1646ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 50.8401ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 51.2842ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/login - application/json; charset=utf-8 97
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Synaxis.InferenceGateway.WebApi.Controllers.LoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.0804ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType8`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) in 48.3451ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/login - 200 null application/json; charset=utf-8 48.5211ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/refresh - application/json; charset=utf-8 449
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Synaxis.InferenceGateway.WebApi.Controllers.RefreshTokenRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.3176ms.
[08:10:02 INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi) in 2.4967ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/refresh - 400 null application/json; charset=utf-8 7.9104ms
[xUnit.net 00:01:56.79]     Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Refresh_ValidToken_ReturnsNewToken [FAIL]
[xUnit.net 00:01:56.79]       Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.BadRequest {value: 400}.
[xUnit.net 00:01:56.79]       Stack Trace:
[xUnit.net 00:01:56.79]            at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
[xUnit.net 00:01:56.79]            at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
[xUnit.net 00:01:56.79]            at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
[xUnit.net 00:01:56.79]            at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
[xUnit.net 00:01:56.79]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/AuthenticationControllerTests.cs(136,0): at Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Refresh_ValidToken_ReturnsNewToken()
[xUnit.net 00:01:56.79]         --- End of stack trace from previous location ---
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 101
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.6439ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 52.0968ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 52.2919ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/login - application/json; charset=utf-8 101
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Synaxis.InferenceGateway.WebApi.Controllers.LoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.7608ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType8`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) in 49.0656ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/login - 200 null application/json; charset=utf-8 49.2368ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 91
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.6496ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 51.3543ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 52.6719ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/forgot-password - application/json; charset=utf-8 66
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Synaxis.InferenceGateway.WebApi.Controllers.ForgotPasswordRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.4831ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi) in 1.7415ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/forgot-password - 200 null application/json; charset=utf-8 1.9257ms
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/reset-password - application/json; charset=utf-8 116
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Synaxis.InferenceGateway.WebApi.Controllers.ResetPasswordRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET password_hash = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:02 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 49.2176ms.
[08:10:02 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:02 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi) in 49.4987ms
[08:10:02 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResetPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Request finished HTTP/1.1 POST http://localhost/auth/reset-password - 200 null application/json; charset=utf-8 49.717ms
[08:10:02 INF] Request starting HTTP/1.1 POST http://localhost/auth/login - application/json; charset=utf-8 91
[08:10:02 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:02 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Synaxis.InferenceGateway.WebApi.Controllers.LoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:02 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:02 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.2103ms.
[08:10:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType8`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) in 48.4552ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/login - 200 null application/json; charset=utf-8 48.6103ms
[08:10:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 106
[08:10:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.ResetPassword_InvalidToken_ReturnsBadRequest [297 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.ForgotPassword_ExistingEmail_ReturnsSuccessAndCreatesToken [107 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Login_InvalidPassword_ReturnsUnauthorized [124 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Logout_ValidToken_ReturnsSuccess [115 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Logout_NoToken_ReturnsUnauthorized [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Register_ValidCredentials_ReturnsSuccessAndCreatesUser [60 ms]
  Failed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Refresh_ValidToken_ReturnsNewToken [112 ms]
  Error Message:
   Expected response.StatusCode to be HttpStatusCode.OK {value: 200}, but found HttpStatusCode.BadRequest {value: 400}.
  Stack Trace:
     at FluentAssertions.Execution.LateBoundTestFramework.Throw(String message)
   at FluentAssertions.Execution.DefaultAssertionStrategy.HandleFailure(String message)
   at FluentAssertions.Execution.AssertionChain.FailWith(Func`1 getFailureReason)
   at FluentAssertions.Primitives.EnumAssertions`2.Be(TEnum expected, String because, Object[] becauseArgs)
   at Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Refresh_ValidToken_ReturnsNewToken() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/IntegrationTests/Controllers/AuthenticationControllerTests.cs:line 136
--- End of stack trace from previous location ---
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Login_ValidCredentials_ReturnsTokenAndUser [107 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.ResetPassword_ValidToken_ChangesPassword [162 ms]
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.8188ms.
[08:10:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 51.4635ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 51.6403ms
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:03 INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET email_verified_at = @p0
WHERE id = @p1;
[08:10:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/verify-email - application/json; charset=utf-8 92
[08:10:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Route matched with {action = "VerifyEmail", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyEmail(Synaxis.InferenceGateway.WebApi.Controllers.VerifyEmailRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.3004ms.
[08:10:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi) in 5.6075ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/verify-email - 200 null application/json; charset=utf-8 11.5386ms
[08:10:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 94
[08:10:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.02ms.
[08:10:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 50.5389ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 50.8795ms
[08:10:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 94
[08:10:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.0595ms.
[08:10:03 INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 1.3025ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 400 null application/json; charset=utf-8 1.4564ms
[08:10:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 95
[08:10:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 49.566ms.
[08:10:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 50.0516ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 50.2388ms
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/verify-email - application/json; charset=utf-8 92
[08:10:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Route matched with {action = "VerifyEmail", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyEmail(Synaxis.InferenceGateway.WebApi.Controllers.VerifyEmailRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET email_verified_at = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.6254ms.
[08:10:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi) in 3.1285ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/verify-email - 200 null application/json; charset=utf-8 3.3312ms
[08:10:03 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @p
LIMIT 1
[08:10:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/verify-email - application/json; charset=utf-8 38
[08:10:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Route matched with {action = "VerifyEmail", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyEmail(Synaxis.InferenceGateway.WebApi.Controllers.VerifyEmailRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.0061ms.
[08:10:03 INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi) in 0.4185ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.VerifyEmail (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/verify-email - 400 null application/json; charset=utf-8 0.584ms
[08:10:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/forgot-password - application/json; charset=utf-8 72
[08:10:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Synaxis.InferenceGateway.WebApi.Controllers.ForgotPasswordRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:03 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.4797ms.
[08:10:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi) in 2.8948ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ForgotPassword (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/forgot-password - 200 null application/json; charset=utf-8 3.1629ms
[08:10:03 INF] Request starting HTTP/1.1 POST http://localhost/auth/refresh - application/json; charset=utf-8 30
[08:10:03 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Synaxis.InferenceGateway.WebApi.Controllers.RefreshTokenRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:03 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:03 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 0.1007ms.
[08:10:03 INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:03 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi) in 0.6456ms
[08:10:03 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Refresh (Synaxis.InferenceGateway.WebApi)'
[08:10:03 INF] Request finished HTTP/1.1 POST http://localhost/auth/refresh - 400 null application/json; charset=utf-8 0.8398ms
[testcontainers.org 00:01:54.29] Delete Docker container a55887c708d5
[testcontainers.org 00:01:54.29] Delete Docker container d2a3d25927f1
[08:10:03 INF] Application is shutting down...
[testcontainers.org 00:01:54.60] Docker container f10d313aa79a created
[testcontainers.org 00:01:54.60] Start Docker container f10d313aa79a
[testcontainers.org 00:01:54.60] Docker container 26bd6d848e50 created
[testcontainers.org 00:01:54.61] Start Docker container 26bd6d848e50
[testcontainers.org 00:01:54.75] Wait for Docker container 26bd6d848e50 to complete readiness checks
[testcontainers.org 00:01:54.75] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 26bd6d848e50
[testcontainers.org 00:01:54.78] Wait for Docker container f10d313aa79a to complete readiness checks
[testcontainers.org 00:01:54.78] Execute "redis-cli ping" at Docker container f10d313aa79a
[testcontainers.org 00:01:54.84] Docker container f10d313aa79a ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.VerifyEmail_AlreadyVerified_ReturnsSuccess [68 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Register_DuplicateEmail_ReturnsBadRequest [54 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.VerifyEmail_ValidToken_MarksEmailAsVerified [103 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.VerifyEmail_InvalidToken_ReturnsBadRequest [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.ForgotPassword_NonExistentEmail_ReturnsSuccessWithoutLeakingInfo [4 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthenticationControllerTests.Refresh_InvalidToken_ReturnsBadRequest [2 ms]
[testcontainers.org 00:01:55.81] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 26bd6d848e50
[testcontainers.org 00:01:56.85] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 26bd6d848e50
[testcontainers.org 00:01:56.91] Docker container 26bd6d848e50 ready
[08:10:06 INF] Starting web host
[08:10:06 INF] Security configuration validation passed successfully
[08:10:06 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:06 WRN] Skipping database migration per configuration.
[08:10:06 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:06 INF] Application started. Press Ctrl+C to shut down.
[08:10:06 INF] Hosting environment: Development
[08:10:06 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 72
[08:10:06 WRN] Failed to determine the https port for redirect.
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.5045ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 7.2943ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 75.5839ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - null null
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "MfaSetup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaSetup(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET mfa_secret = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.7687ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) in 5.9383ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - 200 null application/json; charset=utf-8 12.6246ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/enable - application/json; charset=utf-8 17
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "MfaEnable", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaEnable(Synaxis.InferenceGateway.WebApi.Controllers.MfaEnableRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET mfa_enabled = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6714ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi) in 9.2585ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/enable - 200 null application/json; charset=utf-8 22.387ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/disable - null null
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaDisable (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "MfaDisable", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaDisable(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaDisable (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:06 INF] Executed DbCommand (0ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?', @p2='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET mfa_enabled = @p0, mfa_secret = @p1, updated_at = @p2
WHERE id = @p3;
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaDisable (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0974ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaDisable (Synaxis.InferenceGateway.WebApi) in 3.331ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaDisable (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/disable - 200 null application/json; charset=utf-8 10.5165ms
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 66
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.817ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 5.5991ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 6.9046ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 66
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.8609ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.314ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.8188ms
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@email1='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email1
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@email2='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email2
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/resend-verification - application/json; charset=utf-8 35
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "ResendVerification", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendVerification(Synaxis.InferenceGateway.WebApi.Controllers.ResendVerificationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9682ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi) in 3.7539ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/resend-verification - 200 null application/json; charset=utf-8 10.3852ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 70
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (2ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.0166ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.4429ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.6252ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - null null
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "MfaSetup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaSetup(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:06 INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET mfa_secret = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0936ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) in 3.3189ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - 200 null application/json; charset=utf-8 3.8319ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 68
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.9132ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.3885ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.5905ms
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT o.id, o."AllowedEmailDomains", o."AvailableRegions", o.billing_currency, o.created_at, o.credit_balance, o."CreditCurrency", o."DataRetentionDays", o.description, o.is_active, o."IsTrial", o.is_verified, o."MaxConcurrentRequests", o."MaxKeysPerUser", o."MaxTeams", o."MaxUsersPerTeam", o."MonthlyRequestLimit", o."MonthlyTokenLimit", o.name, o.primary_region, o.privacy_consent, o."RequireSso", o.slug, o."SubscriptionExpiresAt", o."SubscriptionStartedAt", o."SubscriptionStatus", o."TermsAcceptedAt", o.tier, o."TrialEndsAt", o."TrialStartedAt", o.updated_at
FROM organizations AS o
WHERE o.id = @p
LIMIT 1
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 69
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.9239ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.3815ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.5556ms
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 69
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.1774ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.4315ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 2.5845ms
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT count(*)::int
FROM users AS u
WHERE u.email = @email
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 66
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.2783ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.7559ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.9938ms
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 65
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.2948ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.9984ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.2222ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 72
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.9574ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.399ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.5688ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - null null
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "MfaSetup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaSetup(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET mfa_secret = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9674ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) in 2.6308ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - 200 null application/json; charset=utf-8 2.883ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/enable - application/json; charset=utf-8 17
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "MfaEnable", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaEnable(Synaxis.InferenceGateway.WebApi.Controllers.MfaEnableRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1.5313ms.
[08:10:06 INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi) in 2.0563ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/enable - 400 null application/json; charset=utf-8 2.6432ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.MfaDisable_AuthenticatedUser_DisablesMfa [341 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_MultipleUsers_SeparateTenants [58 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.ResendVerification_NonExistentUser_ReturnsSuccess [12 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.MfaSetup_AuthenticatedUser_ReturnsSecretAndQrCode [12 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_NewUser_CreatesUserAndTenant [9 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_ExistingUser_ReturnsToken [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_AssignsOwnerRole [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_ResponseIsValidJson [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.MfaEnable_WithInvalidCode_ReturnsBadRequest [11 ms]
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 100
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:06 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 49.7634ms.
[08:10:06 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:06 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 51.2566ms
[08:10:06 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 57.0179ms
[08:10:06 INF] Request starting HTTP/1.1 POST http://localhost/auth/login - application/json; charset=utf-8 100
[08:10:06 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:06 INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Synaxis.InferenceGateway.WebApi.Controllers.LoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:06 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:06 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.8207ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType8`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi) in 50.2825ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Login (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/auth/login - 200 null application/json; charset=utf-8 55.4343ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - null null
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "MfaSetup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaSetup(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET mfa_secret = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.3148ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) in 2.5515ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - 200 null application/json; charset=utf-8 2.8799ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/enable - application/json; charset=utf-8 17
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "MfaEnable", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaEnable(Synaxis.InferenceGateway.WebApi.Controllers.MfaEnableRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:07 INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET mfa_enabled = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8535ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi) in 2.0868ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/enable - 200 null application/json; charset=utf-8 2.3091ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/login/mfa - application/json; charset=utf-8 116
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.LoginMfa (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "LoginMfa", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginMfa(Synaxis.InferenceGateway.WebApi.Controllers.LoginMfaRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.LoginMfa (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (3ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET last_login_at = @p0
WHERE id = @p1;
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.LoginMfa (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 53.5282ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType8`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Synaxis.InferenceGateway.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.LoginMfa (Synaxis.InferenceGateway.WebApi) in 59.0289ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.LoginMfa (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/login/mfa - 200 null application/json; charset=utf-8 64.6534ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 67
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.9876ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.5052ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.7033ms
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 61
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.2892ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 6.1223ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 6.3252ms
[08:10:07 INF] Executed DbCommand (2ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 71
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.8077ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.3331ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 3.6545ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - null null
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "MfaSetup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaSetup(System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET mfa_secret = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9767ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi) in 2.1749ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaSetup (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/setup - 200 null application/json; charset=utf-8 2.4286ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/mfa/enable - application/json; charset=utf-8 17
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "MfaEnable", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MfaEnable(Synaxis.InferenceGateway.WebApi.Controllers.MfaEnableRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@userId='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.id = @userId
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE users SET mfa_enabled = @p0, updated_at = @p1
WHERE id = @p2;
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.9434ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi) in 2.4191ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.MfaEnable (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @email
LIMIT 1
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/mfa/enable - 200 null application/json; charset=utf-8 3.9185ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 71
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.8341ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 4.3339ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.5118ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 12
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.3349ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.9533ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 4.1735ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 89
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Synaxis.InferenceGateway.WebApi.Controllers.RegisterRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 49.7621ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi) in 50.1797ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.Register (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 200 null application/json; charset=utf-8 50.3471ms
[08:10:07 INF] Request starting HTTP/1.1 POST http://localhost/api/v1/auth/resend-verification - application/json; charset=utf-8 67
[08:10:07 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Route matched with {action = "ResendVerification", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendVerification(Synaxis.InferenceGateway.WebApi.Controllers.ResendVerificationRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:07 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:07 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:07 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.7169ms.
[08:10:07 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:07 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi) in 2.2884ms
[08:10:07 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.ResendVerification (Synaxis.InferenceGateway.WebApi)'
[08:10:07 INF] Request finished HTTP/1.1 POST http://localhost/api/v1/auth/resend-verification - 200 null application/json; charset=utf-8 2.8873ms
[testcontainers.org 00:01:58.22] Delete Docker container f10d313aa79a
[testcontainers.org 00:01:58.22] Delete Docker container 26bd6d848e50
[08:10:07 INF] Application is shutting down...
[testcontainers.org 00:01:58.49] Docker container cd4d028785d3 created
[testcontainers.org 00:01:58.50] Start Docker container cd4d028785d3
[testcontainers.org 00:01:58.50] Docker container c11ce165add4 created
[testcontainers.org 00:01:58.50] Start Docker container c11ce165add4
[testcontainers.org 00:01:58.64] Wait for Docker container cd4d028785d3 to complete readiness checks
[testcontainers.org 00:01:58.65] Execute "redis-cli ping" at Docker container cd4d028785d3
[testcontainers.org 00:01:58.67] Wait for Docker container c11ce165add4 to complete readiness checks
[testcontainers.org 00:01:58.67] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container c11ce165add4
[testcontainers.org 00:01:58.71] Docker container cd4d028785d3 ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.LoginMfa_WithValidCode_ReturnsToken [189 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_SetsCorrectAuthProvider [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_TokenContainsCorrectClaims [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_InvalidEmailFormat_StillCreatesUser [12 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.MfaEnable_WithValidCode_EnablesMfa [14 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_TokenHasCorrectExpiration [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.DevLogin_EmptyEmail_ReturnsBadRequest [8 ms]
  Standard Output Messages:
 Response status: OK
 Response content: {"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyMWE0ZTQ2OS00ZjVhLTQ3YmItOGM4MC1iMzFiZGNkNDMzY2YiLCJlbWFpbCI6IiIsInJvbGUiOiJvd25lciIsIm9yZ2FuaXphdGlvbklkIjoiNTY4MTZiN2EtNGUwMi00Y2U4LTkyMzEtY2YyZjdiNThiNzViIiwibmJmIjoxNzcwNzA3NDA3LCJleHAiOjE3NzEzMTIyMDcsImlhdCI6MTc3MDcwNzQwNywiaXNzIjoiU3luYXhpcyIsImF1ZCI6IlN5bmF4aXMifQ.AA8lOTEqPN1UfvwPd_OWIhK1_qCH4sg_XsVHJEwuYrQ"}


  Passed Synaxis.InferenceGateway.IntegrationTests.Controllers.AuthControllerTests.ResendVerification_ExistingUser_ReturnsSuccess [55 ms]
[testcontainers.org 00:01:59.72] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container c11ce165add4
[testcontainers.org 00:02:00.76] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container c11ce165add4
[testcontainers.org 00:02:00.82] Docker container c11ce165add4 ready
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithAuth_ValidKey_ReturnsNoContent [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithoutAuth_ReturnsUnauthorized [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_WithAuth_ValidProject_ReturnsCreatedKey [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_CreatesAuditLog [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_StoresCorrectDataInDatabase [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_KeyHashIsValid [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_WithAuth_InvalidProject_ReturnsNotFound [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithAuth_InvalidProject_ReturnsNotFound [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithAuth_WrongTenant_ReturnsNotFound [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithAuth_ValidKey_ReturnsNoContent [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithoutAuth_ReturnsUnauthorized [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_WithAuth_ValidProject_ReturnsCreatedKey [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_CreatesAuditLog [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_StoresCorrectDataInDatabase [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_KeyHashIsValid [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_WithAuth_InvalidProject_ReturnsNotFound [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithAuth_InvalidProject_ReturnsNotFound [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithAuth_WrongTenant_ReturnsNotFound [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithAuth_InvalidKey_ReturnsNotFound [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_CreatesAuditLog [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_WithoutAuth_ReturnsUnauthorized [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[xUnit.net 00:02:04.35]     Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_WithAuth_WrongTenant_ReturnsNotFound [SKIP]
[xUnit.net 00:02:04.35]       ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team
[testcontainers.org 00:02:01.34] Delete Docker container cd4d028785d3
[testcontainers.org 00:02:01.34] Delete Docker container c11ce165add4
[testcontainers.org 00:02:01.60] Docker container 1f047a1bab9d created
[testcontainers.org 00:02:01.60] Docker container ee3619e78c00 created
[testcontainers.org 00:02:01.60] Start Docker container ee3619e78c00
[testcontainers.org 00:02:01.60] Start Docker container 1f047a1bab9d
[testcontainers.org 00:02:01.73] Wait for Docker container ee3619e78c00 to complete readiness checks
[testcontainers.org 00:02:01.73] Execute "redis-cli ping" at Docker container ee3619e78c00
[testcontainers.org 00:02:01.76] Wait for Docker container 1f047a1bab9d to complete readiness checks
[testcontainers.org 00:02:01.77] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 1f047a1bab9d
[testcontainers.org 00:02:01.79] Docker container ee3619e78c00 ready
[testcontainers.org 00:02:02.83] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 1f047a1bab9d
  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.RevokeKey_WithAuth_InvalidKey_ReturnsNotFound [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_CreatesAuditLog [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_WithoutAuth_ReturnsUnauthorized [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

  Skipped Synaxis.InferenceGateway.IntegrationTests.Controllers.ApiKeysControllerTests.CreateKey_WithAuth_WrongTenant_ReturnsNotFound [1 ms]
  Error Message:
   ApiKeysController uses old Tenant/Project architecture - needs migration to Organization/Team

[testcontainers.org 00:02:03.87] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 1f047a1bab9d
[testcontainers.org 00:02:03.93] Docker container 1f047a1bab9d ready
[08:10:13 INF] Starting web host
[08:10:13 INF] Security configuration validation passed successfully
[08:10:13 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:13 WRN] Skipping database migration per configuration.
[08:10:13 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:13 INF] Application started. Press Ctrl+C to shut down.
[08:10:13 INF] Hosting environment: Development
[08:10:13 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 WRN] Failed to determine the https port for redirect.
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 90.8537ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers/AiHorde/status - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/{id}/status'
[08:10:13 INF] Writing value of type 'ProviderStatusResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/{id}/status'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers/AiHorde/status - 200 null application/json; charset=utf-8 6.2796ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 16.7935ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers/AiHorde/status - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/{id}/status'
[08:10:13 INF] Writing value of type 'ProviderStatusResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/{id}/status'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers/AiHorde/status - 200 null application/json; charset=utf-8 0.7288ms
[08:10:13 INF] Request starting HTTP/1.1 PUT http://localhost/api/providers/AiHorde/config - application/json; charset=utf-8 16
[08:10:13 INF] Executing endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Writing value of type 'ProviderConfigUpdateResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Request finished HTTP/1.1 PUT http://localhost/api/providers/AiHorde/config - 200 null application/json; charset=utf-8 2.3082ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 9.6338ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 8.4885ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 6.7579ms
[08:10:13 INF] Request starting HTTP/1.1 PUT http://localhost/api/providers/AiHorde/config - application/json; charset=utf-8 17
[08:10:13 INF] Executing endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Writing value of type 'ProviderConfigUpdateResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Request finished HTTP/1.1 PUT http://localhost/api/providers/AiHorde/config - 200 null application/json; charset=utf-8 0.1989ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 20.1485ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 7.6635ms
[08:10:13 INF] Request starting HTTP/1.1 PUT http://localhost/api/providers/AiHorde/config - application/json; charset=utf-8 25
[08:10:13 INF] Executing endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Writing value of type 'ProviderConfigUpdateResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Request finished HTTP/1.1 PUT http://localhost/api/providers/AiHorde/config - 200 null application/json; charset=utf-8 0.4991ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 5.5205ms
[08:10:13 INF] Request starting HTTP/1.1 PUT http://localhost/api/providers/AiHorde/config - application/json; charset=utf-8 10
[08:10:13 INF] Executing endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Writing value of type 'ProviderConfigUpdateResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Request finished HTTP/1.1 PUT http://localhost/api/providers/AiHorde/config - 200 null application/json; charset=utf-8 0.2145ms
[08:10:13 INF] Request starting HTTP/1.1 PUT http://localhost/api/providers/nonexistent/config - application/json; charset=utf-8 25
[08:10:13 INF] Executing endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Setting HTTP status code 404.
[08:10:13 INF] Writing value of type '<>f__AnonymousType46`1' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: PUT /api/providers/{id}/config'
[08:10:13 INF] Request finished HTTP/1.1 PUT http://localhost/api/providers/nonexistent/config - 404 null application/json; charset=utf-8 1.1478ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.GetProviderStatus_ValidProvider_ReturnsStatus [291 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.ProvidersEndpoints_AreAccessibleWithoutAuth [22 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.GetProviders_UsageHasRequiredFields [12 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.GetProviders_StatusIsHealthyOrUnhealthy [10 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.UpdateProviderConfig_EnabledOnly_UpdatesSuccessfully [10 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.GetProviders_ReturnsProvidersWithRequiredFields [21 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.UpdateProviderConfig_ValidProvider_UpdatesSuccessfully [12 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.UpdateProviderConfig_TierOnly_UpdatesSuccessfully [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.UpdateProviderConfig_InvalidProvider_ReturnsNotFound [2 ms]
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 5.7358ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Writing value of type 'ProvidersListResponse' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers - 200 null application/json; charset=utf-8 6.6448ms
[08:10:13 INF] Request starting HTTP/1.1 GET http://localhost/api/providers/nonexistent/status - null null
[08:10:13 INF] Executing endpoint 'HTTP: GET /api/providers/{id}/status'
[08:10:13 INF] Setting HTTP status code 404.
[08:10:13 INF] Writing value of type '<>f__AnonymousType46`1' as Json.
[08:10:13 INF] Executed endpoint 'HTTP: GET /api/providers/{id}/status'
[08:10:13 INF] Request finished HTTP/1.1 GET http://localhost/api/providers/nonexistent/status - 404 null application/json; charset=utf-8 0.377ms
[testcontainers.org 00:02:04.88] Delete Docker container 1f047a1bab9d
[testcontainers.org 00:02:04.88] Delete Docker container ee3619e78c00
[08:10:14 INF] Application is shutting down...
[testcontainers.org 00:02:05.16] Docker container 5357703158db created
[testcontainers.org 00:02:05.16] Start Docker container 5357703158db
[testcontainers.org 00:02:05.17] Docker container 4dd199a4ff54 created
[testcontainers.org 00:02:05.17] Start Docker container 4dd199a4ff54
[testcontainers.org 00:02:05.29] Wait for Docker container 5357703158db to complete readiness checks
[testcontainers.org 00:02:05.29] Execute "redis-cli ping" at Docker container 5357703158db
[testcontainers.org 00:02:05.33] Wait for Docker container 4dd199a4ff54 to complete readiness checks
[testcontainers.org 00:02:05.33] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 4dd199a4ff54
[testcontainers.org 00:02:05.35] Docker container 5357703158db ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.GetProviders_ReturnsProvidersList [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.GetProviders_MatchesExpectedResponseFormat [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Dashboard.ProvidersEndpointTests.GetProviderStatus_InvalidProvider_ReturnsNotFound [2 ms]
[testcontainers.org 00:02:06.39] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 4dd199a4ff54
[testcontainers.org 00:02:07.44] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 4dd199a4ff54
[testcontainers.org 00:02:07.50] Docker container 4dd199a4ff54 ready
[08:10:17 INF] Starting web host
[08:10:17 INF] Security configuration validation passed successfully
[08:10:17 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:17 WRN] Skipping database migration per configuration.
[08:10:17 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:17 INF] Application started. Press Ctrl+C to shut down.
[08:10:17 INF] Hosting environment: Development
[08:10:17 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:17 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:10:17 WRN] Failed to determine the https port for redirect.
[08:10:17 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:17 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:17 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:17 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:17 INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Object), @p2='?' (DbType = Object), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?', @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int64), @p17='?' (DbType = Int64), @p18='?', @p19='?', @p20='?' (DbType = Object), @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = DateTime), @p24='?' (DbType = DateTime), @p25='?', @p26='?' (DbType = DateTime), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = DateTime), @p30='?' (DbType = DateTime), @p31='?' (DbType = Guid), @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?' (DbType = Boolean), @p37='?', @p38='?', @p39='?', @p40='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p42='?', @p43='?' (DbType = Boolean), @p44='?' (DbType = DateTime), @p45='?', @p46='?', @p47='?' (DbType = DateTime), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Guid), @p51='?', @p52='?' (DbType = Object), @p53='?', @p54='?', @p55='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO organizations (id, "AllowedEmailDomains", "AvailableRegions", billing_currency, created_at, credit_balance, "CreditCurrency", "DataRetentionDays", description, is_active, "IsTrial", is_verified, "MaxConcurrentRequests", "MaxKeysPerUser", "MaxTeams", "MaxUsersPerTeam", "MonthlyRequestLimit", "MonthlyTokenLimit", name, primary_region, privacy_consent, "RequireSso", slug, "SubscriptionExpiresAt", "SubscriptionStartedAt", "SubscriptionStatus", "TermsAcceptedAt", tier, "TrialEndsAt", "TrialStartedAt", updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
INSERT INTO users (id, avatar_url, created_at, created_in_region, cross_border_consent_date, cross_border_consent_given, cross_border_consent_version, data_residency_region, email, email_verified_at, failed_login_attempts, first_name, is_active, last_login_at, last_name, locale, locked_until, mfa_enabled, mfa_secret, organization_id, password_hash, privacy_consent, role, timezone, updated_at)
VALUES (@p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
[08:10:17 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.9464ms.
[08:10:17 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:17 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 6.741ms
[08:10:17 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:17 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 79.3698ms
[08:10:17 INF] Starting web host
[08:10:17 INF] Security configuration validation passed successfully
[08:10:17 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:17 WRN] Skipping database migration per configuration.
[08:10:17 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:17 INF] Application started. Press Ctrl+C to shut down.
[08:10:17 INF] Hosting environment: Development
[08:10:17 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:17 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/responses - application/json; charset=utf-8 22
[08:10:17 WRN] Failed to determine the https port for redirect.
[08:10:17 INF] Executing endpoint 'HTTP: POST /openai/v1/responses'
[08:10:17 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:17 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43329;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:17 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:10:17 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:17 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:17 INF] Executed DbCommand (4ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:17 INF] Attempting Tier 3 fallback: Paid providers
[08:10:17 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:17 INF] Executed DbCommand (2ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:17 INF] Using paid provider 'test-provider'
[08:10:17 INF] Routing request to provider 'test-provider'
[08:10:17 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.2328ms
[08:10:17 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:10:17 INF] Writing value of type 'ResponseCompletion' as Json.
[08:10:17 INF] Executed endpoint 'HTTP: POST /openai/v1/responses'
[08:10:17 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/responses - 200 null application/json; charset=utf-8 108.6179ms
[08:10:17 INF] Starting web host
[08:10:17 INF] Security configuration validation passed successfully
[08:10:17 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:17 WRN] Skipping database migration per configuration.
[08:10:17 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:17 INF] Application started. Press Ctrl+C to shut down.
[08:10:17 INF] Hosting environment: Development
[08:10:17 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:17 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:10:17 WRN] Failed to determine the https port for redirect.
[08:10:17 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:17 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:17 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:17 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:17 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3324ms.
[08:10:17 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:18 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.5658ms
[08:10:18 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:18 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 72.0126ms
[08:10:18 INF] Starting web host
[08:10:18 INF] Security configuration validation passed successfully
[08:10:18 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:18 WRN] Skipping database migration per configuration.
[08:10:18 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:18 INF] Application started. Press Ctrl+C to shut down.
[08:10:18 INF] Hosting environment: Development
[08:10:18 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:18 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/responses - application/json; charset=utf-8 59
[08:10:18 WRN] Failed to determine the https port for redirect.
[08:10:18 INF] Executing endpoint 'HTTP: POST /openai/v1/responses'
[08:10:18 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:18 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43329;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:18 INF] Executing chat request with intelligent fallback for model 'default'
[08:10:18 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:18 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:18 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:18 INF] Attempting Tier 3 fallback: Paid providers
[08:10:18 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:18 INF] Executed DbCommand (0ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:18 INF] Using paid provider 'test-provider'
[08:10:18 INF] Routing request to provider 'test-provider'
[08:10:18 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.1397ms
[08:10:18 INF] Model: default, Input: 10, Output: 5, Cost: 0.000000
[08:10:18 INF] Writing value of type 'ResponseCompletion' as Json.
[08:10:18 INF] Executed endpoint 'HTTP: POST /openai/v1/responses'
[08:10:18 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/responses - 200 null application/json; charset=utf-8 76.7282ms
[08:10:18 INF] Starting web host
[08:10:18 INF] Security configuration validation passed successfully
[08:10:18 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:18 WRN] Skipping database migration per configuration.
[08:10:18 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:18 INF] Application started. Press Ctrl+C to shut down.
[08:10:18 INF] Hosting environment: Development
[08:10:18 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:18 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:10:18 WRN] Failed to determine the https port for redirect.
[08:10:18 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:18 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:18 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:18 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:18 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1853ms.
[08:10:18 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:18 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 2.5793ms
[08:10:18 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:18 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 76.6284ms
[08:10:18 INF] Starting web host
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ResponsesEndpointTests.PostResponses_MissingMessages_ReturnsResponse [629 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ResponsesEndpointTests.PostResponses_EmptyModel_UsesDefault [579 ms]
[08:10:18 INF] Security configuration validation passed successfully
[08:10:18 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:18 WRN] Skipping database migration per configuration.
[08:10:18 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:18 INF] Application started. Press Ctrl+C to shut down.
[08:10:18 INF] Hosting environment: Development
[08:10:18 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:18 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/responses - application/json; charset=utf-8 69
[08:10:18 WRN] Failed to determine the https port for redirect.
[08:10:18 INF] Executing endpoint 'HTTP: POST /openai/v1/responses'
[08:10:18 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:18 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43329;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:18 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:10:18 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:18 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:18 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:18 INF] Attempting Tier 3 fallback: Paid providers
[08:10:18 INF] Executed DbCommand (5ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:18 INF] Executed DbCommand (0ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:18 INF] Using paid provider 'test-provider'
[08:10:18 INF] Routing request to provider 'test-provider'
[08:10:18 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.0262ms
[08:10:18 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:10:18 INF] Writing value of type 'ResponseCompletion' as Json.
[08:10:18 INF] Executed endpoint 'HTTP: POST /openai/v1/responses'
[08:10:18 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/responses - 200 null application/json; charset=utf-8 96.3211ms
[08:10:18 INF] Starting web host
[08:10:18 INF] Security configuration validation passed successfully
[08:10:18 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:18 WRN] Skipping database migration per configuration.
[08:10:19 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:19 INF] Application started. Press Ctrl+C to shut down.
[08:10:19 INF] Hosting environment: Development
[08:10:19 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:19 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:10:19 WRN] Failed to determine the https port for redirect.
[08:10:19 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:19 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:19 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:19 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:19 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8836ms.
[08:10:19 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:19 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.6203ms
[08:10:19 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:19 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 84.634ms
[08:10:19 INF] Starting web host
[08:10:19 INF] Security configuration validation passed successfully
[08:10:19 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:19 WRN] Skipping database migration per configuration.
[08:10:19 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:19 INF] Application started. Press Ctrl+C to shut down.
[08:10:19 INF] Hosting environment: Development
[08:10:19 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:19 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/responses - application/json; charset=utf-8 69
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_Exception_Propagates [30 s]
[08:10:19 WRN] Failed to determine the https port for redirect.
[08:10:19 INF] Executing endpoint 'HTTP: POST /openai/v1/responses'
[08:10:19 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:19 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43329;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:19 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:10:19 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:19 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:19 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:19 INF] Attempting Tier 3 fallback: Paid providers
[08:10:19 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:19 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:19 INF] Using paid provider 'test-provider'
[08:10:19 INF] Routing request to provider 'test-provider'
[08:10:19 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.0235ms
[08:10:19 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:10:19 INF] Writing value of type 'ResponseCompletion' as Json.
[08:10:19 INF] Executed endpoint 'HTTP: POST /openai/v1/responses'
[08:10:19 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/responses - 200 null application/json; charset=utf-8 152.628ms
[08:10:19 INF] Starting web host
[08:10:19 INF] Security configuration validation passed successfully
[08:10:19 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:19 WRN] Skipping database migration per configuration.
[08:10:20 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:20 INF] Application started. Press Ctrl+C to shut down.
[08:10:20 INF] Hosting environment: Development
[08:10:20 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:20 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/responses - application/json; charset=utf-8 69
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ResponsesEndpointTests.PostResponses_WithAuth_ContentHasText [588 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ResponsesEndpointTests.PostResponses_WithAuth_OutputHasMessage [864 ms]
[08:10:20 WRN] Failed to determine the https port for redirect.
[08:10:20 INF] Executing endpoint 'HTTP: POST /openai/v1/responses'
[08:10:20 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:20 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43329;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:20 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:10:20 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:20 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:20 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:20 INF] Attempting Tier 3 fallback: Paid providers
[08:10:20 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:20 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:20 INF] Using paid provider 'test-provider'
[08:10:20 INF] Routing request to provider 'test-provider'
[08:10:20 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.0242ms
[08:10:20 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:10:20 INF] Writing value of type 'ResponseCompletion' as Json.
[08:10:20 INF] Executed endpoint 'HTTP: POST /openai/v1/responses'
[08:10:20 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/responses - 200 null application/json; charset=utf-8 155.3717ms
[08:10:20 INF] Starting web host
[08:10:20 INF] Security configuration validation passed successfully
[08:10:20 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:20 WRN] Skipping database migration per configuration.
[08:10:20 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:20 INF] Application started. Press Ctrl+C to shut down.
[08:10:20 INF] Hosting environment: Development
[08:10:20 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:20 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:10:20 WRN] Failed to determine the https port for redirect.
[08:10:20 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:20 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:20 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:20 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:20 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3598ms.
[08:10:20 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:20 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.1543ms
[08:10:20 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:20 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 84.0341ms
[08:10:20 INF] Starting web host
[08:10:20 INF] Security configuration validation passed successfully
[08:10:20 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:20 WRN] Skipping database migration per configuration.
[08:10:20 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:20 INF] Application started. Press Ctrl+C to shut down.
[08:10:20 INF] Hosting environment: Development
[08:10:20 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:20 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/responses - application/json; charset=utf-8 69
[08:10:21 WRN] Failed to determine the https port for redirect.
[08:10:21 INF] Executing endpoint 'HTTP: POST /openai/v1/responses'
[08:10:21 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:21 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43329;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:21 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:10:21 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:21 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:21 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:21 INF] Attempting Tier 3 fallback: Paid providers
[08:10:21 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:21 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:21 INF] Using paid provider 'test-provider'
[08:10:21 INF] Routing request to provider 'test-provider'
[08:10:21 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.0265ms
[08:10:21 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:10:21 INF] Writing value of type 'ResponseCompletion' as Json.
[08:10:21 INF] Executed endpoint 'HTTP: POST /openai/v1/responses'
[08:10:21 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/responses - 200 null application/json; charset=utf-8 110.8321ms
[08:10:21 INF] Starting web host
[08:10:21 INF] Security configuration validation passed successfully
[08:10:21 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:21 WRN] Skipping database migration per configuration.
[08:10:21 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:21 INF] Application started. Press Ctrl+C to shut down.
[08:10:21 INF] Hosting environment: Development
[08:10:21 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:21 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:10:21 WRN] Failed to determine the https port for redirect.
[08:10:21 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:21 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:21 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:21 INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:21 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6374ms.
[08:10:21 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:21 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 3.7643ms
[08:10:21 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:21 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 126.125ms
[08:10:21 INF] Starting web host
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ResponsesEndpointTests.PostResponses_WithoutAuth_ReturnsResponse [419 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ResponsesEndpointTests.PostResponses_WithAuth_ContainsOutput [754 ms]
[08:10:21 INF] Security configuration validation passed successfully
[08:10:21 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:21 WRN] Skipping database migration per configuration.
[08:10:21 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:21 INF] Application started. Press Ctrl+C to shut down.
[08:10:21 INF] Hosting environment: Development
[08:10:21 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:21 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/responses - application/json; charset=utf-8 69
[08:10:21 WRN] Failed to determine the https port for redirect.
[08:10:21 INF] Executing endpoint 'HTTP: POST /openai/v1/responses'
[08:10:21 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:21 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43329;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:22 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:10:22 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:22 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:22 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:22 INF] Attempting Tier 3 fallback: Paid providers
[08:10:22 INF] Executed DbCommand (19ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:22 INF] Executed DbCommand (5ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:22 INF] Using paid provider 'test-provider'
[08:10:22 INF] Routing request to provider 'test-provider'
[08:10:22 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.0261ms
[08:10:22 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:10:22 INF] Writing value of type 'ResponseCompletion' as Json.
[08:10:22 INF] Executed endpoint 'HTTP: POST /openai/v1/responses'
[08:10:22 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/responses - 200 null application/json; charset=utf-8 230.1217ms
[08:10:22 INF] Starting web host
[08:10:22 INF] Security configuration validation passed successfully
[08:10:22 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:22 WRN] Skipping database migration per configuration.
[08:10:22 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:22 INF] Application started. Press Ctrl+C to shut down.
[08:10:22 INF] Hosting environment: Development
[08:10:22 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:22 INF] Request starting HTTP/1.1 POST http://localhost/auth/dev-login - application/json; charset=utf-8 28
[08:10:22 WRN] Failed to determine the https port for redirect.
[08:10:22 INF] Executing endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:22 INF] Route matched with {action = "DevLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DevLogin(Synaxis.InferenceGateway.WebApi.Controllers.DevLoginRequest, System.Threading.CancellationToken) on controller Synaxis.InferenceGateway.WebApi.Controllers.AuthController (Synaxis.InferenceGateway.WebApi).
[08:10:22 INF] Executing action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) - Validation state: Valid
[08:10:22 INF] Executed DbCommand (3ms) [Parameters=[@request_Email='?'], CommandType='Text', CommandTimeout='30']
SELECT u.id, u.avatar_url, u.created_at, u.created_in_region, u.cross_border_consent_date, u.cross_border_consent_given, u.cross_border_consent_version, u.data_residency_region, u.email, u.email_verified_at, u.failed_login_attempts, u.first_name, u.is_active, u.last_login_at, u.last_name, u.locale, u.locked_until, u.mfa_enabled, u.mfa_secret, u.organization_id, u.password_hash, u.privacy_consent, u.role, u.timezone, u.updated_at
FROM users AS u
WHERE u.email = @request_Email
LIMIT 1
[08:10:22 INF] Executed action method Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.8446ms.
[08:10:22 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[08:10:22 INF] Executed action Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi) in 25.7331ms
[08:10:22 INF] Executed endpoint 'Synaxis.InferenceGateway.WebApi.Controllers.AuthController.DevLogin (Synaxis.InferenceGateway.WebApi)'
[08:10:22 INF] Request finished HTTP/1.1 POST http://localhost/auth/dev-login - 200 null application/json; charset=utf-8 194.4969ms
[08:10:22 INF] Starting web host
[08:10:22 INF] Security configuration validation passed successfully
[08:10:22 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:22 WRN] Skipping database migration per configuration.
[08:10:22 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:22 INF] Application started. Press Ctrl+C to shut down.
[08:10:22 INF] Hosting environment: Development
[08:10:22 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:22 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/responses - application/json; charset=utf-8 83
[08:10:22 WRN] Failed to determine the https port for redirect.
[08:10:22 INF] Executing endpoint 'HTTP: POST /openai/v1/responses'
[08:10:22 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:22 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43329;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:22 INF] Executing streaming chat request with intelligent fallback for model 'test-alias'
[08:10:22 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:22 INF] Executed DbCommand (2ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:22 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:22 INF] Attempting Tier 3 fallback: Paid providers
[08:10:22 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:22 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:22 INF] Using paid provider 'test-provider'
[08:10:22 INF] Routing streaming request to provider 'test-provider'
[08:10:22 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Synaxis.InferenceGateway.IntegrationTests.MockChatClient+<GetStreamingResponseAsync>d__3', Handled: 'False', Attempt: '0', Execution Time: 1.6497ms
[08:10:22 INF] Executed endpoint 'HTTP: POST /openai/v1/responses'
[08:10:22 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/responses - 200 null text/event-stream 115.4607ms
[testcontainers.org 00:02:13.91] Delete Docker container 4dd199a4ff54
[testcontainers.org 00:02:13.91] Delete Docker container 5357703158db
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ResponsesEndpointTests.PostResponses_WithAuth_ReturnsResponse [1 s]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ResponsesEndpointTests.PostResponses_WithStreaming_ReturnsStream [804 ms]
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[08:10:23 INF] Application is shutting down...
[testcontainers.org 00:02:14.99] Docker container 7afcefd4a20e created
[testcontainers.org 00:02:14.99] Docker container 329b19691f56 created
[testcontainers.org 00:02:15.00] Start Docker container 329b19691f56
[testcontainers.org 00:02:15.00] Start Docker container 7afcefd4a20e
[testcontainers.org 00:02:15.18] Wait for Docker container 329b19691f56 to complete readiness checks
[testcontainers.org 00:02:15.19] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 329b19691f56
[testcontainers.org 00:02:15.23] Wait for Docker container 7afcefd4a20e to complete readiness checks
[testcontainers.org 00:02:15.23] Execute "redis-cli ping" at Docker container 7afcefd4a20e
[testcontainers.org 00:02:15.30] Docker container 7afcefd4a20e ready
[testcontainers.org 00:02:16.27] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 329b19691f56
[testcontainers.org 00:02:17.33] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 329b19691f56
[testcontainers.org 00:02:17.38] Docker container 329b19691f56 ready
[08:10:27 INF] Starting web host
[08:10:27 INF] Security configuration validation passed successfully
[08:10:27 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:27 WRN] Skipping database migration per configuration.
[08:10:27 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:27 INF] Application started. Press Ctrl+C to shut down.
[08:10:27 INF] Hosting environment: Development
[08:10:27 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 WRN] Failed to determine the https port for redirect.
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 98.7522ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 6.3391ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 16.2243ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.5334ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.6949ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Writing value of type 'ModelDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - 200 null application/json; charset=utf-8 1.2683ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.5131ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.4852ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Writing value of type 'ModelDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - 200 null application/json; charset=utf-8 1.1441ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.2592ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.259ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Writing value of type 'ModelDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - 200 null application/json; charset=utf-8 0.1254ms
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModels_ModelsHaveRequiredFields [315 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModels_ModelsHaveCapabilities [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModels_ContainsCanonicalModels [18 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModels_ContainsAliases [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModelById_ReturnsProvider [8 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModels_CapabilitiesAreBoolean [4 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModelById_ReturnsModelPath [7 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModels_AliasesHaveSynaxisOwnedBy [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModelById_ReturnsCapabilities [2 ms]
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.4118ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.8774ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Writing value of type 'ModelDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - 200 null application/json; charset=utf-8 0.1692ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.5316ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models/nonexistent-model-12345 - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Setting HTTP status code 404.
[08:10:27 INF] Writing value of type '<>f__AnonymousType46`1' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models/nonexistent-model-12345 - 404 null application/json; charset=utf-8 2.2679ms
[08:10:27 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:27 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:27 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:27 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.5129ms
[testcontainers.org 00:02:18.45] Delete Docker container 329b19691f56
[testcontainers.org 00:02:18.46] Delete Docker container 7afcefd4a20e
[08:10:27 INF] Application is shutting down...
[testcontainers.org 00:02:18.85] Docker container a0839fdcccf1 created
[testcontainers.org 00:02:18.85] Start Docker container a0839fdcccf1
[testcontainers.org 00:02:18.90] Docker container a2237cc3825b created
[testcontainers.org 00:02:18.91] Start Docker container a2237cc3825b
[testcontainers.org 00:02:19.01] Wait for Docker container a0839fdcccf1 to complete readiness checks
[testcontainers.org 00:02:19.01] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container a0839fdcccf1
[testcontainers.org 00:02:19.09] Wait for Docker container a2237cc3825b to complete readiness checks
[testcontainers.org 00:02:19.09] Execute "redis-cli ping" at Docker container a2237cc3825b
[testcontainers.org 00:02:19.17] Docker container a2237cc3825b ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModels_ReturnsList [1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModelById_ReturnsModel [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModels_ContainsProviders [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModelById_InvalidModel_ReturnsNotFound [3 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointTests.GetModels_ProvidersHaveRequiredFields [2 ms]
[testcontainers.org 00:02:20.09] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container a0839fdcccf1
[testcontainers.org 00:02:21.14] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container a0839fdcccf1
[testcontainers.org 00:02:21.20] Docker container a0839fdcccf1 ready
[08:10:30 INF] Starting web host
[08:10:30 INF] Security configuration validation passed successfully
[08:10:30 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:30 WRN] Skipping database migration per configuration.
[08:10:30 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:31 INF] Application started. Press Ctrl+C to shut down.
[08:10:31 INF] Hosting environment: Development
[08:10:31 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:31 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:31 WRN] Failed to determine the https port for redirect.
[08:10:31 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:31 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:31 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:31 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 77.3932ms
[08:10:31 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:31 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:31 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:31 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:31 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 5.4373ms
[08:10:31 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - null null
[08:10:31 INF] Executing endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:31 INF] Writing value of type 'ModelDto' as Json.
[08:10:31 INF] Executed endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:31 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models/groq/llama-3.3-70b - 200 null application/json; charset=utf-8 6.6662ms
[testcontainers.org 00:02:22.14] Delete Docker container a0839fdcccf1
[testcontainers.org 00:02:22.15] Delete Docker container a2237cc3825b
[08:10:31 INF] Application is shutting down...
[testcontainers.org 00:02:22.48] Docker container 29dd37b294f0 created
[testcontainers.org 00:02:22.49] Start Docker container 29dd37b294f0
[testcontainers.org 00:02:22.50] Docker container b1700e5329f8 created
[testcontainers.org 00:02:22.50] Start Docker container b1700e5329f8
[testcontainers.org 00:02:22.66] Wait for Docker container 29dd37b294f0 to complete readiness checks
[testcontainers.org 00:02:22.66] Execute "redis-cli ping" at Docker container 29dd37b294f0
[testcontainers.org 00:02:22.78] Wait for Docker container b1700e5329f8 to complete readiness checks
[testcontainers.org 00:02:22.78] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container b1700e5329f8
[testcontainers.org 00:02:22.80] Docker container 29dd37b294f0 ready
  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointDebugTests.Debug_GetModels_ReturnsList [302 ms]
  Standard Output Messages:
 Response Status: OK
 Response Content: {"object":"list","data":[{"id":"groq/llama-3.3-70b","object":"model","created":1770707431,"owned_by":"Groq","provider":"Groq","model_path":"llama-3.3-70b-versatile","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"groq/llama-3.1-8b","object":"model","created":1770707431,"owned_by":"Groq","provider":"Groq","model_path":"llama-3.1-8b-instant","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"cohere/c4ai-aya-expanse-32b","object":"model","created":1770707431,"owned_by":"Cohere","provider":"Cohere","model_path":"c4ai-aya-expanse-32b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"cohere/c4ai-aya-expanse-8b","object":"model","created":1770707431,"owned_by":"Cohere","provider":"Cohere","model_path":"c4ai-aya-expanse-8b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gemini/flash-2.0","object":"model","created":1770707431,"owned_by":"Gemini","provider":"Gemini","model_path":"gemini-2.0-flash","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gemini/pro-1.5","object":"model","created":1770707431,"owned_by":"Gemini","provider":"Gemini","model_path":"gemini-1.5-pro","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gemini/flash-1.5","object":"model","created":1770707431,"owned_by":"Gemini","provider":"Gemini","model_path":"gemini-1.5-flash","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gemini/flash-1.5-8b","object":"model","created":1770707431,"owned_by":"Gemini","provider":"Gemini","model_path":"gemini-1.5-flash-8b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gemini/pro-1.0","object":"model","created":1770707431,"owned_by":"Gemini","provider":"Gemini","model_path":"gemini-1.0-pro","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"cloudflare/llama-3.1-8b","object":"model","created":1770707431,"owned_by":"Cloudflare","provider":"Cloudflare","model_path":"@cf/meta/llama-3.1-8b-instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"cloudflare/llama-3.2-3b","object":"model","created":1770707431,"owned_by":"Cloudflare","provider":"Cloudflare","model_path":"@cf/meta/llama-3.2-3b-instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"cloudflare/mistral-7b","object":"model","created":1770707431,"owned_by":"Cloudflare","provider":"Cloudflare","model_path":"@cf/mistral/mistral-7b-instruct-v0.1","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"cloudflare/phi-2","object":"model","created":1770707431,"owned_by":"Cloudflare","provider":"Cloudflare","model_path":"@cf/microsoft/phi-2","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"cloudflare/qwen-1.5-7b","object":"model","created":1770707431,"owned_by":"Cloudflare","provider":"Cloudflare","model_path":"@cf/qwen/qwen1.5-7b-chat-awq","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"nvidia/llama-3.3-70b","object":"model","created":1770707431,"owned_by":"NVIDIA","provider":"NVIDIA","model_path":"meta/llama-3.3-70b-instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"nvidia/nemotron-70b","object":"model","created":1770707431,"owned_by":"NVIDIA","provider":"NVIDIA","model_path":"nvidia/llama-3.1-nemotron-70b-instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"nvidia/mixtral-8x7b","object":"model","created":1770707431,"owned_by":"NVIDIA","provider":"NVIDIA","model_path":"mistralai/mixtral-8x7b-instruct-v0.1","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"nvidia/deepseek-v3","object":"model","created":1770707431,"owned_by":"NVIDIA","provider":"NVIDIA","model_path":"deepseek-ai/deepseek-v3","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"nvidia/nemotron-nano","object":"model","created":1770707431,"owned_by":"NVIDIA","provider":"NVIDIA","model_path":"nvidia/nemotron-3-nano-30b-a3b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"openrouter/llama-3.3-free","object":"model","created":1770707431,"owned_by":"OpenRouter","provider":"OpenRouter","model_path":"meta-llama/llama-3.3-70b-instruct:free","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"openrouter/mistral-7b-free","object":"model","created":1770707431,"owned_by":"OpenRouter","provider":"OpenRouter","model_path":"mistralai/mistral-7b-instruct:free","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"openrouter/zephyr-free","object":"model","created":1770707431,"owned_by":"OpenRouter","provider":"OpenRouter","model_path":"huggingfaceh4/zephyr-7b-beta:free","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"openrouter/openchat-free","object":"model","created":1770707431,"owned_by":"OpenRouter","provider":"OpenRouter","model_path":"openchat/openchat-7b:free","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"hf/phi-3.5-mini","object":"model","created":1770707431,"owned_by":"HuggingFace","provider":"HuggingFace","model_path":"microsoft/Phi-3.5-mini-instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"hf/smollm2-1.7b","object":"model","created":1770707431,"owned_by":"HuggingFace","provider":"HuggingFace","model_path":"HuggingFaceTB/SmolLM2-1.7B-Instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"hf/qwen-2.5-7b","object":"model","created":1770707431,"owned_by":"HuggingFace","provider":"HuggingFace","model_path":"Qwen/Qwen2.5-7B-Instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"pollinations/openai","object":"model","created":1770707431,"owned_by":"Pollinations","provider":"Pollinations","model_path":"openai","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"pollinations/mistral","object":"model","created":1770707431,"owned_by":"Pollinations","provider":"Pollinations","model_path":"mistral","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"github/copilot","object":"model","created":1770707431,"owned_by":"GitHubCopilot","provider":"GitHubCopilot","model_path":"copilot","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"ddg/gpt-4o-mini","object":"model","created":1770707431,"owned_by":"DuckDuckGo","provider":"DuckDuckGo","model_path":"gpt-4o-mini","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"ddg/claude-3-haiku","object":"model","created":1770707431,"owned_by":"DuckDuckGo","provider":"DuckDuckGo","model_path":"claude-3-haiku","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"ddg/llama-3.1-70b","object":"model","created":1770707431,"owned_by":"DuckDuckGo","provider":"DuckDuckGo","model_path":"llama-3.1-70b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"aihorde/any","object":"model","created":1770707431,"owned_by":"AiHorde","provider":"AiHorde","model_path":"aihorde","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"sambanova/llama-405b","object":"model","created":1770707431,"owned_by":"SambaNova","provider":"SambaNova","model_path":"Meta-Llama-3.1-405B-Instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"github/gpt-4o","object":"model","created":1770707431,"owned_by":"GitHubModels","provider":"GitHubModels","model_path":"gpt-4o","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"hyperbolic/llama-405b","object":"model","created":1770707431,"owned_by":"Hyperbolic","provider":"Hyperbolic","model_path":"meta-llama/Meta-Llama-3.1-405B-Instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"siliconflow/deepseek-v3","object":"model","created":1770707431,"owned_by":"SiliconFlow","provider":"SiliconFlow","model_path":"deepseek-ai/DeepSeek-V3","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"siliconflow/qwen-2.5","object":"model","created":1770707431,"owned_by":"SiliconFlow","provider":"SiliconFlow","model_path":"Qwen/Qwen2.5-7B-Instruct","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"zai/glm-4-flash","object":"model","created":1770707431,"owned_by":"Zai","provider":"Zai","model_path":"glm-4-flash","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"groq/llama-8b","object":"model","created":1770707431,"owned_by":"Groq","provider":"Groq","model_path":"llama-3.1-8b-instant","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"aihorde","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"aihorde","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"claude-3-haiku","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"claude-3-haiku","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"copilot","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"copilot","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"deepseek-v3","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"deepseek-v3","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gemini-1.5-flash","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"gemini-1.5-flash","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gemini-1.5-pro","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"gemini-1.5-pro","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gemini-2.0-flash","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"gemini-2.0-flash","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gemma-2-9b","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"gemma-2-9b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gpt-4","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"gpt-4","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"gpt-4o-mini","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"gpt-4o-mini","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"llama-3.1-8b","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"llama-3.1-8b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"llama-3.2-3b","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"llama-3.2-3b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"llama-3.3-70b","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"llama-3.3-70b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"miser-coding","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"miser-coding","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"miser-fast","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"miser-fast","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"miser-intelligence","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"miser-intelligence","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"mistral-7b","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"mistral-7b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"mixtral-8x7b","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"mixtral-8x7b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"phi-2","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"phi-2","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"phi-3-medium","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"phi-3-medium","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"phi-3-mini","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"phi-3-mini","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"qwen-1.5-7b","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"qwen-1.5-7b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"qwen-2.5-7b","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"qwen-2.5-7b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}},{"id":"smollm2-1.7b","object":"model","created":1770707431,"owned_by":"synaxis","provider":"synaxis","model_path":"smollm2-1.7b","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}}],"providers":[{"id":"AiHorde","type":"AiHorde","enabled":true,"tier":1},{"id":"Cloudflare","type":"Cloudflare","enabled":true,"tier":1},{"id":"Cohere","type":"Cohere","enabled":true,"tier":1},{"id":"DuckDuckGo","type":"DuckDuckGo","enabled":true,"tier":1},{"id":"Gemini","type":"Gemini","enabled":true,"tier":1},{"id":"GitHubCopilot","type":"GitHubCopilot","enabled":true,"tier":1},{"id":"GitHubModels","type":"OpenAI","enabled":true,"tier":0},{"id":"Groq","type":"Groq","enabled":true,"tier":1},{"id":"HuggingFace","type":"HuggingFace","enabled":true,"tier":1},{"id":"Hyperbolic","type":"OpenAI","enabled":true,"tier":0},{"id":"NVIDIA","type":"Nvidia","enabled":true,"tier":1},{"id":"OpenRouter","type":"OpenRouter","enabled":true,"tier":2},{"id":"Pollinations","type":"Pollinations","enabled":true,"tier":1},{"id":"SambaNova","type":"OpenAI","enabled":true,"tier":0},{"id":"SiliconFlow","type":"OpenAI","enabled":true,"tier":0},{"id":"Zai","type":"OpenAI","enabled":true,"tier":0}]}
 Parsed JSON object type: list
 Number of models: 64
 First model ID: groq/llama-3.3-70b
 First model owned_by: Groq


  Passed Synaxis.InferenceGateway.IntegrationTests.Endpoints.ModelsEndpointDebugTests.Debug_GetModelById_WithSimpleId [16 ms]
  Standard Output Messages:
 Testing with model ID: groq/llama-3.3-70b
 Response Status: OK
 Response Content: {"id":"groq/llama-3.3-70b","object":"model","created":1770707431,"owned_by":"Groq","provider":"Groq","model_path":"llama-3.3-70b-versatile","capabilities":{"streaming":false,"tools":false,"vision":false,"structured_output":false,"log_probs":false}}


[testcontainers.org 00:02:23.90] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container b1700e5329f8
[testcontainers.org 00:02:25.07] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container b1700e5329f8
[testcontainers.org 00:02:25.13] Docker container b1700e5329f8 ready
[MOCK] POST http://localhost/openai/v1/completions
[MOCK] POST http://localhost/openai/v1/chat/completions
[testcontainers.org 00:02:25.80] Delete Docker container b1700e5329f8
[testcontainers.org 00:02:25.80] Delete Docker container 29dd37b294f0
[testcontainers.org 00:02:26.16] Docker container 2277887b47b4 created
[testcontainers.org 00:02:26.16] Start Docker container 2277887b47b4
[testcontainers.org 00:02:26.18] Docker container 12e2d9a48f8a created
[testcontainers.org 00:02:26.18] Start Docker container 12e2d9a48f8a
[testcontainers.org 00:02:26.33] Wait for Docker container 2277887b47b4 to complete readiness checks
[testcontainers.org 00:02:26.33] Execute "redis-cli ping" at Docker container 2277887b47b4
[testcontainers.org 00:02:26.37] Wait for Docker container 12e2d9a48f8a to complete readiness checks
[testcontainers.org 00:02:26.38] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 12e2d9a48f8a
[testcontainers.org 00:02:26.42] Docker container 2277887b47b4 ready
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.ProviderModelSmokeTests.LegacyCompletions_SmokeTest(provider: "MockProvider", model: "mock-model", canonicalId: "mock-model", endpoint: LegacyCompletions) [7 ms]
  Standard Output Messages:
 Provider=MockProvider Model=mock-model Success=True TimeMs=3 Attempts=1


  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.ProviderModelSmokeTests.ChatCompletions_SmokeTest(provider: "MockProvider", model: "mock-model", canonicalId: "mock-model", endpoint: ChatCompletions) [2 ms]
  Standard Output Messages:
 Provider=MockProvider Model=mock-model Success=True TimeMs=1 Attempts=1


[testcontainers.org 00:02:27.44] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 12e2d9a48f8a
[testcontainers.org 00:02:28.50] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 12e2d9a48f8a
[testcontainers.org 00:02:28.56] Docker container 12e2d9a48f8a ready
[08:10:38 INF] Starting web host
[08:10:38 INF] Security configuration validation passed successfully
[08:10:38 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:38 WRN] Skipping database migration per configuration.
[08:10:38 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:38 INF] Application started. Press Ctrl+C to shut down.
[08:10:38 INF] Hosting environment: Development
[08:10:38 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:38 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 110
[08:10:38 WRN] Failed to determine the https port for redirect.
[08:10:38 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:38 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:38 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43337;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:38 INF] Executing chat request with intelligent fallback for model 'mock-model'
[08:10:38 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:38 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 0 candidates for 'mock-model'
[DEBUG] Fallback: Registry lookup with 'mock-model' returned 0 candidates
[08:10:38 WRN] No providers found for model 'mock-model' with required capabilities.
[08:10:38 WRN] Free tier fallback failed
System.ArgumentException: No providers available for model 'mock-model' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 91
[08:10:38 INF] Attempting Tier 3 fallback: Paid providers
[08:10:38 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 0 candidates for 'mock-model'
[DEBUG] Fallback: Registry lookup with 'mock-model' returned 0 candidates
[08:10:38 WRN] No providers found for model 'mock-model' with required capabilities.
[08:10:38 WRN] Paid provider fallback failed
System.ArgumentException: No providers available for model 'mock-model' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 120
[08:10:38 INF] Attempting Tier 4 fallback: Emergency fallback
[08:10:38 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 0 candidates for 'mock-model'
[DEBUG] Fallback: Registry lookup with 'mock-model' returned 0 candidates
[08:10:38 WRN] No providers found for model 'mock-model' with required capabilities.
[08:10:38 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:38 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO18V, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
System.ArgumentException: No providers available for model 'mock-model' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 147
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/SmartRoutingChatClient.cs:line 103
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 44
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 88
   at Synaxis.InferenceGateway.WebApi.Features.Chat.Handlers.ChatCompletionHandler.Handle(ChatCommand request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Features/Chat/Handlers/ChatCompletionHandler.cs:line 41
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 124
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:10:38 ERR] Exception caught. RequestId: 0HNJ8ECIBO18V, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: ArgumentException, Message: No providers available for model 'mock-model' with the requested capabilities. (Parameter 'modelId')
System.ArgumentException: No providers available for model 'mock-model' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 147
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/SmartRoutingChatClient.cs:line 103
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 44
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 88
   at Synaxis.InferenceGateway.WebApi.Features.Chat.Handlers.ChatCompletionHandler.Handle(ChatCommand request, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Features/Chat/Handlers/ChatCompletionHandler.cs:line 41
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 124
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:10:38 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 87.0608ms
[testcontainers.org 00:02:29.53] Delete Docker container 12e2d9a48f8a
[testcontainers.org 00:02:29.53] Delete Docker container 2277887b47b4
[08:10:38 INF] Application is shutting down...
[testcontainers.org 00:02:29.81] Docker container e51fbde127b1 created
[testcontainers.org 00:02:29.81] Start Docker container e51fbde127b1
[testcontainers.org 00:02:29.81] Docker container 6dd49d261c78 created
[testcontainers.org 00:02:29.82] Start Docker container 6dd49d261c78
[testcontainers.org 00:02:29.98] Wait for Docker container e51fbde127b1 to complete readiness checks
[testcontainers.org 00:02:29.98] Execute "redis-cli ping" at Docker container e51fbde127b1
[testcontainers.org 00:02:30.00] Wait for Docker container 6dd49d261c78 to complete readiness checks
[testcontainers.org 00:02:30.02] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 6dd49d261c78
[testcontainers.org 00:02:30.04] Docker container e51fbde127b1 ready
  Passed Synaxis.InferenceGateway.IntegrationTests.SmokeTests.CircuitBreakerSmokeTests.ChatCompletions_RealProviderSmokeTest(provider: "MockProvider", model: "mock-model", canonicalId: "mock-model", endpoint: ChatCompletions) [317 ms]
  Standard Output Messages:
 Provider=MockProvider Model=mock-model Success=False TimeMs=87 Attempts=1
 Error: HTTP 400 Bad Request: {"error":{"message":"No providers available for model \u0027mock-model\u0027 with the requested capabilities. (Parameter \u0027modelId\u0027)","type":"invalid_request_error","param":null,"code":"invalid_value","request_id":"0HNJ8ECIBO18V"}}
 Test completed for MockProvider: Failed


[testcontainers.org 00:02:31.11] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 6dd49d261c78
[testcontainers.org 00:02:32.18] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 6dd49d261c78
[testcontainers.org 00:02:32.24] Docker container 6dd49d261c78 ready
[08:10:41 INF] Starting web host
[08:10:41 INF] Security configuration validation passed successfully
[08:10:41 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:41 WRN] Skipping database migration per configuration.
[08:10:41 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:41 INF] Application started. Press Ctrl+C to shut down.
[08:10:41 INF] Hosting environment: Development
[08:10:41 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[testcontainers.org 00:02:32.95] Delete Docker container 6dd49d261c78
[testcontainers.org 00:02:32.95] Delete Docker container e51fbde127b1
[08:10:42 INF] Application is shutting down...
[testcontainers.org 00:02:33.21] Docker container fbee7a9d53b7 created
[testcontainers.org 00:02:33.21] Docker container ade163b9df01 created
[testcontainers.org 00:02:33.21] Start Docker container fbee7a9d53b7
[testcontainers.org 00:02:33.21] Start Docker container ade163b9df01
[testcontainers.org 00:02:33.35] Wait for Docker container fbee7a9d53b7 to complete readiness checks
[testcontainers.org 00:02:33.35] Execute "redis-cli ping" at Docker container fbee7a9d53b7
[testcontainers.org 00:02:33.40] Wait for Docker container ade163b9df01 to complete readiness checks
[testcontainers.org 00:02:33.40] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container ade163b9df01
[testcontainers.org 00:02:33.43] Docker container fbee7a9d53b7 ready
  Passed Synaxis.InferenceGateway.IntegrationTests.LiveProviderValidationTests.Validate_Cloudflare_Connectivity [195 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.LiveProviderValidationTests.Validate_Groq_Connectivity [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.LiveProviderValidationTests.Validate_Cohere_Connectivity [< 1 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.LiveProviderValidationTests.Validate_Pollinations_Connectivity [< 1 ms]
[testcontainers.org 00:02:34.46] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container ade163b9df01
[testcontainers.org 00:02:35.50] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container ade163b9df01
[testcontainers.org 00:02:35.56] Docker container ade163b9df01 ready
[08:10:45 INF] Starting web host
[08:10:45 INF] Security configuration validation passed successfully
[08:10:45 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:45 WRN] Skipping database migration per configuration.
[08:10:45 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:45 INF] Application started. Press Ctrl+C to shut down.
[08:10:45 INF] Hosting environment: Development
[08:10:45 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:45 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/completions - application/json; charset=utf-8 53
[08:10:45 WRN] Failed to determine the https port for redirect.
[08:10:45 INF] Executing endpoint 'HTTP: POST /openai/v1/completions'
[08:10:45 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:45 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43341;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:45 INF] Executing streaming chat request with intelligent fallback for model 'test-provider/model'
[08:10:45 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:45 INF] Executed DbCommand (2ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:45 INF] Attempting Tier 3 fallback: Paid providers
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:45 INF] Using paid provider 'test-provider'
[08:10:45 INF] Routing streaming request to provider 'test-provider'
[08:10:45 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Synaxis.InferenceGateway.IntegrationTests.MockChatClient+<GetStreamingResponseAsync>d__3', Handled: 'False', Attempt: '0', Execution Time: 0.0763ms
[08:10:45 INF] Executed endpoint 'HTTP: POST /openai/v1/completions'
[08:10:45 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/completions - 200 null text/event-stream 101.6263ms
[08:10:45 INF] Starting web host
[08:10:45 INF] Security configuration validation passed successfully
[08:10:45 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:45 WRN] Skipping database migration per configuration.
[08:10:45 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:45 INF] Application started. Press Ctrl+C to shut down.
[08:10:45 INF] Hosting environment: Development
[08:10:45 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:45 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 69
[08:10:45 WRN] Failed to determine the https port for redirect.
[08:10:45 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:45 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:45 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43341;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:45 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:10:45 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:45 INF] Executed DbCommand (2ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:45 INF] Attempting Tier 3 fallback: Paid providers
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:45 INF] Using paid provider 'test-provider'
[08:10:45 INF] Routing request to provider 'test-provider'
[08:10:45 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.0262ms
[08:10:45 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:10:45 INF] Writing value of type 'ChatCompletionResponse' as Json.
[08:10:45 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:45 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 200 null application/json; charset=utf-8 94.9806ms
[08:10:45 INF] Starting web host
[08:10:45 INF] Security configuration validation passed successfully
[08:10:45 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:45 WRN] Skipping database migration per configuration.
[08:10:45 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:45 INF] Application started. Press Ctrl+C to shut down.
[08:10:45 INF] Hosting environment: Development
[08:10:45 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:45 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/completions - application/json; charset=utf-8 55
[08:10:45 WRN] Failed to determine the https port for redirect.
[08:10:45 INF] Executing endpoint 'HTTP: POST /openai/v1/completions'
[08:10:45 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:45 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43341;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:45 INF] Executed DbCommand (2ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:45 INF] Executing chat request with intelligent fallback for model 'test-provider/model'
[08:10:45 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:45 INF] Attempting Tier 3 fallback: Paid providers
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:45 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:45 INF] Using paid provider 'test-provider'
[08:10:45 INF] Routing request to provider 'test-provider'
[08:10:45 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.02ms
[08:10:45 INF] Model: test-provider/model, Input: 10, Output: 5, Cost: 0.000000
[08:10:45 INF] Setting HTTP status code 200.
[08:10:45 INF] Writing value of type '<>f__AnonymousType61`6' as Json.
[08:10:45 INF] Executed endpoint 'HTTP: POST /openai/v1/completions'
[08:10:45 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/completions - 200 null application/json; charset=utf-8 86.2437ms
[08:10:46 INF] Starting web host
[08:10:46 INF] Security configuration validation passed successfully
[08:10:46 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:46 WRN] Skipping database migration per configuration.
[08:10:46 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:46 INF] Application started. Press Ctrl+C to shut down.
[08:10:46 INF] Hosting environment: Development
[08:10:46 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:46 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 83
[08:10:46 WRN] Failed to determine the https port for redirect.
[08:10:46 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:46 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:46 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43341;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:46 INF] Executing streaming chat request with intelligent fallback for model 'test-alias'
[08:10:46 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:46 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:46 INF] Attempting Tier 3 fallback: Paid providers
[08:10:46 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:46 INF] Executed DbCommand (0ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:46 INF] Using paid provider 'test-provider'
[08:10:46 INF] Routing streaming request to provider 'test-provider'
[08:10:46 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Synaxis.InferenceGateway.IntegrationTests.MockChatClient+<GetStreamingResponseAsync>d__3', Handled: 'False', Attempt: '0', Execution Time: 0.0173ms
[08:10:46 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:46 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 200 null text/event-stream 88.8425ms
[08:10:46 INF] Starting web host
[08:10:46 INF] Security configuration validation passed successfully
[08:10:46 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:46 WRN] Skipping database migration per configuration.
[08:10:46 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:46 INF] Application started. Press Ctrl+C to shut down.
[08:10:46 INF] Hosting environment: Development
[08:10:46 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:46 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
  Passed Synaxis.InferenceGateway.IntegrationTests.GatewayIntegrationTests.Post_LegacyCompletions_Streaming_EndsWithDone [304 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.GatewayIntegrationTests.Headers_Are_Present [335 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.GatewayIntegrationTests.Post_LegacyCompletions_ReturnsResponse [301 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.GatewayIntegrationTests.Post_ChatCompletions_Streaming_EndsWithDone [309 ms]
  Standard Output Messages:
 Line: data: {"id":"chatcmpl-57d745df0ef4428fa792cbe299e96cb1","object":"chat.completion.chunk","created":1770707446,"model":"test-alias","choices":[{"index":0,"delta":{"role":null,"content":"Hello","tool_calls":null},"finish_reason":null}]}
 Line: 
 Line: data: {"id":"chatcmpl-57d745df0ef4428fa792cbe299e96cb1","object":"chat.completion.chunk","created":1770707446,"model":"test-alias","choices":[{"index":0,"delta":{"role":null,"content":" from","tool_calls":null},"finish_reason":null}]}
 Line: 
 Line: data: {"id":"chatcmpl-57d745df0ef4428fa792cbe299e96cb1","object":"chat.completion.chunk","created":1770707446,"model":"test-alias","choices":[{"index":0,"delta":{"role":null,"content":" mock!","tool_calls":null},"finish_reason":null}]}
 Line: 
 Line: data: {"id":"chatcmpl-57d745df0ef4428fa792cbe299e96cb1","object":"chat.completion.chunk","created":1770707446,"model":"test-alias","choices":[{"index":0,"delta":{"role":null,"content":null,"tool_calls":null},"finish_reason":"stop"}]}
 Line: 
 Line: data: [DONE]
 Line: 


[08:10:46 WRN] Failed to determine the https port for redirect.
[08:10:46 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:46 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:46 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:46 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 65.3559ms
[08:10:46 INF] Starting web host
[08:10:46 INF] Security configuration validation passed successfully
[08:10:46 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:46 WRN] Skipping database migration per configuration.
[08:10:46 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:46 INF] Application started. Press Ctrl+C to shut down.
[08:10:46 INF] Hosting environment: Development
[08:10:46 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:46 INF] Starting web host
[08:10:46 INF] Security configuration validation passed successfully
[08:10:46 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:46 WRN] Skipping database migration per configuration.
[08:10:46 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:47 INF] Application started. Press Ctrl+C to shut down.
[08:10:47 INF] Hosting environment: Development
[08:10:47 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:47 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 96
[08:10:47 WRN] Failed to determine the https port for redirect.
[08:10:47 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:47 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:47 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43341;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:47 INF] Executing streaming chat request with intelligent fallback for model 'test-provider/no-stream'
[08:10:47 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 0 candidates for 'no-stream'
[DEBUG] Fallback: Registry lookup with 'test-provider/no-stream' returned 0 candidates
[08:10:47 WRN] No providers found for model 'test-provider/no-stream' with required capabilities.
[08:10:47 WRN] Free tier fallback failed
System.ArgumentException: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 91
[08:10:47 INF] Attempting Tier 3 fallback: Paid providers
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 0 candidates for 'no-stream'
[DEBUG] Fallback: Registry lookup with 'test-provider/no-stream' returned 0 candidates
[08:10:47 WRN] No providers found for model 'test-provider/no-stream' with required capabilities.
[08:10:47 WRN] Paid provider fallback failed
System.ArgumentException: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 120
[08:10:47 INF] Attempting Tier 4 fallback: Emergency fallback
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 0 candidates for 'no-stream'
[DEBUG] Fallback: Registry lookup with 'test-provider/no-stream' returned 0 candidates
[08:10:47 WRN] No providers found for model 'test-provider/no-stream' with required capabilities.
[08:10:47 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:47 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO195, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
System.ArgumentException: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 147
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/SmartRoutingChatClient.cs:line 135
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 76
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 76
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 154
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 154
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:10:47 ERR] Exception caught. RequestId: 0HNJ8ECIBO195, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: ArgumentException, Message: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
System.ArgumentException: No providers available for model 'test-provider/no-stream' with the requested capabilities. (Parameter 'modelId')
   at Synaxis.InferenceGateway.Application.Routing.SmartRouter.GetCandidatesAsync(String modelId, Boolean streaming, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/SmartRouter.cs:line 66
   at Synaxis.InferenceGateway.Application.Routing.FallbackOrchestrator.ExecuteWithFallbackAsync[T](String modelId, Boolean streaming, String preferredProviderKey, Func`2 operation, String tenantId, String userId, CancellationToken cancellationToken) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/Routing/FallbackOrchestrator.cs:line 147
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/SmartRoutingChatClient.cs:line 135
   at Synaxis.InferenceGateway.Application.ChatClients.SmartRoutingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 76
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/Application/ChatClients/UsageTrackingChatClient.cs:line 76
   at Synaxis.InferenceGateway.Application.ChatClients.UsageTrackingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Extensions.AI.FunctionInvokingChatClient.GetStreamingResponseAsync(IEnumerable`1 messages, ChatOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 154
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Agents/RoutingAgent.cs:line 154
   at Synaxis.InferenceGateway.WebApi.Agents.RoutingAgent.RunCoreStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+MoveNext()
   at Microsoft.Agents.AI.AIAgent.RunStreamingAsync(IEnumerable`1 messages, AgentSession session, AgentRunOptions options, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 71
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:10:47 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 75.2301ms
[08:10:47 INF] Starting web host
[08:10:47 INF] Security configuration validation passed successfully
[08:10:47 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:47 WRN] Skipping database migration per configuration.
[08:10:47 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:47 INF] Application started. Press Ctrl+C to shut down.
[08:10:47 INF] Hosting environment: Development
[08:10:47 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:47 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 69
[08:10:47 WRN] Failed to determine the https port for redirect.
[08:10:47 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:47 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:47 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43341;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:47 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:10:47 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:47 INF] Attempting Tier 3 fallback: Paid providers
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:47 INF] Using paid provider 'test-provider'
[08:10:47 INF] Routing request to provider 'test-provider'
[08:10:47 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.0244ms
[08:10:47 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:10:47 INF] Writing value of type 'ChatCompletionResponse' as Json.
[08:10:47 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:47 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 200 null application/json; charset=utf-8 79.0173ms
[08:10:47 INF] Starting web host
[08:10:47 INF] Security configuration validation passed successfully
[08:10:47 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:47 WRN] Skipping database migration per configuration.
[08:10:47 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:47 INF] Application started. Press Ctrl+C to shut down.
[08:10:47 INF] Hosting environment: Development
[08:10:47 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:47 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/responses - application/json; charset=utf-8 69
[08:10:47 WRN] Failed to determine the https port for redirect.
[08:10:47 INF] Executing endpoint 'HTTP: POST /openai/v1/responses'
[08:10:47 INF] ControlPlane configuration - UseInMemory: False, ConnectionString present: True
[08:10:47 INF] Using PostgreSQL with connection string: Host=127.0.0.1;Port=43341;Database=postgres;Username=postgres;Password=***;Pooling=true;Maximum Pool Size=200
[08:10:47 INF] Executing chat request with intelligent fallback for model 'test-alias'
[08:10:47 INF] Attempting Tier 2 fallback: Free tier providers
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:47 INF] Attempting Tier 3 fallback: Paid providers
[08:10:47 INF] Executed DbCommand (1ms) [Parameters=[@id='?'], CommandType='Text', CommandTimeout='30']
SELECT g0."Id", g0."ContextWindow", g0."Description", g0."Family", g0."InputPrice", g0."IsOpenWeights", g0."MaxOutputTokens", g0."Name", g0."OutputPrice", g0."ReleaseDate", g0."SupportsAudio", g0."SupportsReasoning", g0."SupportsStructuredOutput", g0."SupportsTools", g0."SupportsVision", p."Id", p."GlobalModelId", p."IsAvailable", p."OverrideInputPrice", p."OverrideOutputPrice", p."ProviderId", p."ProviderSpecificId", p."RateLimitRPM", p."RateLimitTPM"
FROM (
    SELECT g."Id", g."ContextWindow", g."Description", g."Family", g."InputPrice", g."IsOpenWeights", g."MaxOutputTokens", g."Name", g."OutputPrice", g."ReleaseDate", g."SupportsAudio", g."SupportsReasoning", g."SupportsStructuredOutput", g."SupportsTools", g."SupportsVision"
    FROM "GlobalModels" AS g
    WHERE g."Id" = @id
    LIMIT 1
) AS g0
LEFT JOIN "ProviderModels" AS p ON g0."Id" = p."GlobalModelId"
ORDER BY g0."Id"
[DEBUG] Registry returned 1 candidates for 'model'
[08:10:47 INF] Executed DbCommand (0ms) [Parameters=[@provider='?', @model='?'], CommandType='Text', CommandTimeout='30']
SELECT m."Provider", m."Model", m."CostPerToken", m."FreeTier"
FROM "ModelCosts" AS m
WHERE m."Provider" = @provider AND m."Model" = @model
LIMIT 1
[08:10:47 INF] Using paid provider 'test-provider'
[08:10:47 INF] Routing request to provider 'test-provider'
[08:10:47 INF] Execution attempt. Source: 'provider-retry/(null)/Retry', Operation Key: 'null', Result: 'Hello from mock!', Handled: 'False', Attempt: '0', Execution Time: 0.0235ms
[08:10:47 INF] Model: test-alias, Input: 10, Output: 5, Cost: 0.000000
[08:10:47 INF] Writing value of type 'ResponseCompletion' as Json.
[08:10:47 INF] Executed endpoint 'HTTP: POST /openai/v1/responses'
[08:10:47 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/responses - 200 null application/json; charset=utf-8 80.4041ms
[testcontainers.org 00:02:38.70] Delete Docker container ade163b9df01
[testcontainers.org 00:02:38.70] Delete Docker container fbee7a9d53b7
[08:10:47 INF] Application is shutting down...
[08:10:47 INF] Application is shutting down...
[08:10:47 INF] Application is shutting down...
[xUnit.net 00:02:43.04]     Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_Failure_ReleasesLock [FAIL]
[xUnit.net 00:02:43.04]       Assert.True() Failure
[xUnit.net 00:02:43.04]       Expected: True
[xUnit.net 00:02:43.04]       Actual:   False
[xUnit.net 00:02:43.04]       Stack Trace:
[xUnit.net 00:02:43.04]         /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisInFlightDeduplicationTests.cs(334,0): at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_Failure_ReleasesLock()
[xUnit.net 00:02:43.04]         --- End of stack trace from previous location ---
  Failed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_Failure_ReleasesLock [30 s]
  Error Message:
   Assert.True() Failure
Expected: True
Actual:   False
  Stack Trace:
     at Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_Failure_ReleasesLock() in /home/rrj/src/github/rudironsoni/Synaxis/tests/InferenceGateway/Infrastructure.Tests/Optimization/Caching/RedisInFlightDeduplicationTests.cs:line 334
--- End of stack trace from previous location ---
[xUnit.net 00:02:43.17]   Finished:    Synaxis.InferenceGateway.Infrastructure.Tests
  Passed Synaxis.InferenceGateway.IntegrationTests.GatewayIntegrationTests.Get_Models_ReturnsCanonicalAndAliases [283 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.GatewayIntegrationTests.CapabilityGate_Rejects_InvalidRequest [494 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.GatewayIntegrationTests.Post_ChatCompletions_ReturnsResponse [282 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.GatewayIntegrationTests.Post_Responses_ReturnsResponse [290 ms]
[08:10:49 INF] Application is shutting down...
[08:10:49 INF] Application is shutting down...
[08:10:49 INF] Application is shutting down...
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.ExecuteWithDeduplication_LockTimeout_ExecutesFallback [115 ms]
  Passed Synaxis.InferenceGateway.Infrastructure.Tests.Optimization.Caching.RedisInFlightDeduplicationTests.IsInFlightAsync_Unlocked_ReturnsFalse [2 ms]

Test Run Failed.
Total tests: 320
     Passed: 306
     Failed: 8
    Skipped: 6
 Total time: 2.7425 Minutes
[08:10:50 INF] Application is shutting down...
[08:10:50 INF] Application is shutting down...
[08:10:50 INF] Application is shutting down...
[testcontainers.org 00:02:41.88] Docker container dd680415bc29 created
[testcontainers.org 00:02:41.88] Start Docker container dd680415bc29
[testcontainers.org 00:02:41.88] Docker container b417de489a8a created
[testcontainers.org 00:02:41.89] Start Docker container b417de489a8a
[testcontainers.org 00:02:42.04] Wait for Docker container dd680415bc29 to complete readiness checks
[testcontainers.org 00:02:42.04] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container dd680415bc29
[testcontainers.org 00:02:42.08] Wait for Docker container b417de489a8a to complete readiness checks
[testcontainers.org 00:02:42.09] Execute "redis-cli ping" at Docker container b417de489a8a
[testcontainers.org 00:02:42.14] Docker container b417de489a8a ready
[testcontainers.org 00:02:43.11] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container dd680415bc29
[testcontainers.org 00:02:44.16] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container dd680415bc29
[testcontainers.org 00:02:44.21] Docker container dd680415bc29 ready
[08:10:53 INF] Starting web host
[08:10:53 INF] Security configuration validation passed successfully
[08:10:53 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:53 WRN] Skipping database migration per configuration.
[08:10:53 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:53 INF] Application started. Press Ctrl+C to shut down.
[08:10:53 INF] Hosting environment: Development
[08:10:53 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:53 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 0
[08:10:54 WRN] Failed to determine the https port for redirect.
[08:10:54 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:54 INF] Setting HTTP status code 400.
[08:10:54 INF] Writing value of type 'String' as Json.
[08:10:54 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:54 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json; charset=utf-8 74.9563ms
[08:10:54 INF] Request starting HTTP/1.1 GET http://localhost/health/liveness - null null
[08:10:54 INF] Executing endpoint 'Health checks'
[08:10:54 INF] Executed endpoint 'Health checks'
[08:10:54 INF] Request finished HTTP/1.1 GET http://localhost/health/liveness - 200 null text/plain 1.3088ms
[08:10:54 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:54 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:54 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:54 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:54 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 8.5687ms
[08:10:54 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/non-existent - null null
[08:10:54 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/non-existent - 404 null null 0.6953ms
[08:10:54 INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost/openai/v1/non-existent, Response status code: 404
[08:10:54 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models/non-existent-model-12345 - null null
[08:10:54 INF] Executing endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:54 INF] Setting HTTP status code 404.
[08:10:54 INF] Writing value of type '<>f__AnonymousType46`1' as Json.
[08:10:54 INF] Executed endpoint 'HTTP: GET /openai/v1/models/{**id}'
[08:10:54 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models/non-existent-model-12345 - 404 null application/json; charset=utf-8 0.5605ms
[08:10:54 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/invalid - application/json; charset=utf-8 2
[08:10:54 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/invalid - 404 null null 0.4428ms
[08:10:54 INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/openai/v1/invalid, Response status code: 404
[08:10:54 INF] Request starting HTTP/1.1 POST http://localhost/openai/v1/chat/completions - application/json; charset=utf-8 13
[08:10:54 INF] Executing endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:54 INF] Executed endpoint 'HTTP: POST /openai/v1/chat/completions'
[08:10:54 ERR] Unhandled exception caught. RequestId: 0HNJ8ECIBO19E, Path: /openai/v1/chat/completions, Method: POST, IsStreaming: False
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid JSON body
 ---> System.Text.Json.JsonException: 'i' is an invalid start of a property name. Expected a '"'. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
 ---> System.Text.Json.JsonReaderException: 'i' is an invalid start of a property name. Expected a '"'. LineNumber: 0 | BytePositionInLine: 1.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 105
   --- End of inner exception stack trace ---
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 132
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:10:54 ERR] Exception caught. RequestId: 0HNJ8ECIBO19E, Path: /openai/v1/chat/completions, ErrorCode: invalid_value, ErrorType: invalid_request_error, ExceptionType: BadHttpRequestException, Message: Invalid JSON body
Microsoft.AspNetCore.Http.BadHttpRequestException: Invalid JSON body
 ---> System.Text.Json.JsonException: 'i' is an invalid start of a property name. Expected a '"'. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
 ---> System.Text.Json.JsonReaderException: 'i' is an invalid start of a property name. Expected a '"'. LineNumber: 0 | BytePositionInLine: 1.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 105
   --- End of inner exception stack trace ---
   at Synaxis.InferenceGateway.WebApi.Helpers.OpenAIRequestParser.ParseAsync(HttpContext context, CancellationToken cancellationToken, Boolean allowEmptyModel, Boolean allowEmptyMessages) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Helpers/OpenAIRequestParser.cs:line 132
   at Synaxis.InferenceGateway.WebApi.Endpoints.OpenAI.OpenAIEndpointsExtensions.<>c.<<MapOpenAIRoutes>b__1_0>d.MoveNext() in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Endpoints/OpenAI/OpenAIEndpointsExtensions.cs:line 50
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Synaxis.InferenceGateway.WebApi.Middleware.OpenAIErrorHandlerMiddleware.InvokeAsync(HttpContext context) in /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi/Middleware/OpenAIErrorHandlerMiddleware.cs:line 47
[08:10:54 INF] Request finished HTTP/1.1 POST http://localhost/openai/v1/chat/completions - 400 null application/json 7.5597ms
[08:10:54 INF] Request starting HTTP/1.1 GET http://localhost/openai/v1/models - null null
[08:10:54 INF] Executing endpoint 'HTTP: GET /openai/v1/models'
[08:10:54 INF] Writing value of type 'ModelsListResponseDto' as Json.
[08:10:54 INF] Executed endpoint 'HTTP: GET /openai/v1/models'
[08:10:54 INF] Request finished HTTP/1.1 GET http://localhost/openai/v1/models - 200 null application/json; charset=utf-8 0.6255ms
[testcontainers.org 00:02:45.07] Delete Docker container dd680415bc29
[testcontainers.org 00:02:45.07] Delete Docker container b417de489a8a
[08:10:54 INF] Application is shutting down...
[testcontainers.org 00:02:45.48] Docker container 82f7a55462ac created
[testcontainers.org 00:02:45.48] Docker container 7a78a6dd7da2 created
[testcontainers.org 00:02:45.49] Start Docker container 82f7a55462ac
[testcontainers.org 00:02:45.49] Start Docker container 7a78a6dd7da2
[testcontainers.org 00:02:45.70] Wait for Docker container 7a78a6dd7da2 to complete readiness checks
[testcontainers.org 00:02:45.70] Execute "redis-cli ping" at Docker container 7a78a6dd7da2
[testcontainers.org 00:02:45.76] Docker container 7a78a6dd7da2 ready
[testcontainers.org 00:02:45.76] Wait for Docker container 82f7a55462ac to complete readiness checks
[testcontainers.org 00:02:45.76] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 82f7a55462ac
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiErrorHandlingTests.Post_ChatCompletions_EmptyBody_Returns400 [270 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiErrorHandlingTests.HealthChecks_Liveness_Returns200 [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiErrorHandlingTests.Response_ContentType_IsApplicationJson [12 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiErrorHandlingTests.Get_NonExistentEndpoint_Returns404 [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiErrorHandlingTests.Get_ModelById_InvalidModel_Returns404 [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiErrorHandlingTests.Post_InvalidEndpoint_Returns404 [2 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiErrorHandlingTests.Post_ChatCompletions_MalformedJson_ReturnsError [11 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.ApiErrorHandlingTests.Get_Models_ReturnsValidJson [2 ms]
[testcontainers.org 00:02:46.85] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 82f7a55462ac
[testcontainers.org 00:02:47.89] Execute "pg_isready --host localhost --dbname postgres --username postgres" at Docker container 82f7a55462ac
[testcontainers.org 00:02:47.95] Docker container 82f7a55462ac ready
[08:10:57 INF] Starting web host
[08:10:57 INF] Security configuration validation passed successfully
[08:10:57 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:57 WRN] Skipping database migration per configuration.
[08:10:57 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:57 INF] Application started. Press Ctrl+C to shut down.
[08:10:57 INF] Hosting environment: Development
[08:10:57 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:57 INF] Request starting HTTP/1.1 POST http://localhost/antigravity/auth/start - application/json; charset=utf-8 37
[08:10:57 WRN] Failed to determine the https port for redirect.
[08:10:57 INF] Executing endpoint 'HTTP: POST /antigravity/auth/start'
[08:10:57 INF] Setting HTTP status code 200.
[08:10:57 INF] Writing value of type '<>f__AnonymousType47`3' as Json.
[08:10:57 INF] Executed endpoint 'HTTP: POST /antigravity/auth/start'
[08:10:57 INF] Request finished HTTP/1.1 POST http://localhost/antigravity/auth/start - 200 null application/json; charset=utf-8 66.2703ms
[08:10:57 INF] Starting web host
[08:10:57 INF] Security configuration validation passed successfully
[08:10:57 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:57 WRN] Skipping database migration per configuration.
[08:10:57 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:57 INF] Application started. Press Ctrl+C to shut down.
[08:10:57 INF] Hosting environment: Development
[08:10:57 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:57 INF] Request starting HTTP/1.1 GET http://localhost/antigravity/accounts - null null
[08:10:57 WRN] Failed to determine the https port for redirect.
[08:10:57 INF] Executing endpoint 'HTTP: GET /antigravity/accounts'
[08:10:57 INF] Setting HTTP status code 200.
[08:10:57 INF] Writing value of type 'List`1' as Json.
[08:10:57 INF] Executed endpoint 'HTTP: GET /antigravity/accounts'
[08:10:57 INF] Request finished HTTP/1.1 GET http://localhost/antigravity/accounts - 200 null application/json; charset=utf-8 67.485ms
[08:10:57 INF] Starting web host
[08:10:58 INF] Security configuration validation passed successfully
[08:10:58 WRN] Security Warning: JWT Secret appears to contain common weak patterns. Consider using a cryptographically secure random string.
[08:10:58 WRN] Skipping database migration per configuration.
[08:10:58 INF] User profile is available. Using '/home/rrj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[08:10:58 INF] Application started. Press Ctrl+C to shut down.
[08:10:58 INF] Hosting environment: Development
[08:10:58 INF] Content root path: /home/rrj/src/github/rudironsoni/Synaxis/src/InferenceGateway/WebApi
[08:10:58 INF] Request starting HTTP/1.1 POST http://localhost/antigravity/auth/complete - application/json; charset=utf-8 70
[08:10:58 WRN] Failed to determine the https port for redirect.
[08:10:58 INF] Executing endpoint 'HTTP: POST /antigravity/auth/complete'
[08:10:58 INF] Setting HTTP status code 200.
[08:10:58 INF] Writing value of type '<>f__AnonymousType49`1' as Json.
[08:10:58 INF] Executed endpoint 'HTTP: POST /antigravity/auth/complete'
[08:10:58 INF] Request finished HTTP/1.1 POST http://localhost/antigravity/auth/complete - 200 null application/json; charset=utf-8 68.7542ms
[testcontainers.org 00:02:49.28] Delete Docker container 82f7a55462ac
[testcontainers.org 00:02:49.28] Delete Docker container 7a78a6dd7da2
[08:10:58 INF] Application is shutting down...
[08:10:58 INF] Application is shutting down...
[08:10:58 INF] Application is shutting down...
[testcontainers.org 00:02:49.47] Delete Docker container 8947ed041088
[testcontainers.org 00:02:49.47] Delete Docker container 98de3aea3c41
[xUnit.net 00:02:52.66]   Finished:    Synaxis.InferenceGateway.IntegrationTests
  Passed Synaxis.InferenceGateway.IntegrationTests.AntigravityEndpointTests.Post_StartAuth_ReturnsUrl [274 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.AntigravityEndpointTests.Get_Accounts_ReturnsList [272 ms]
  Passed Synaxis.InferenceGateway.IntegrationTests.AntigravityEndpointTests.Post_CompleteAuth_ReturnsSuccess [270 ms]

Test Run Failed.
Total tests: 628
     Passed: 560
     Failed: 45
    Skipped: 23
 Total time: 2.8935 Minutes
